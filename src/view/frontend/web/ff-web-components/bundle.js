/*! For license information please see bundle.js.LICENSE */
!function(e,t){for(var n in t)e[n]=t[n]}(window,function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=103)}([function(e,t){function n(t){return e.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},n(t)}e.exports=n},function(e,t,n){"use strict";n.d(t,"a",function(){return b});var i,r,a,o,s,c,u,l,d,h,f,p,m,g,v,y,b,_,k=n(35),w=n.n(k),C=n(12),S=n.n(C),P=n(2),E=n.n(P),x=n(5),T=n.n(x),O=n(0),A=n.n(O),R=n(6),L=n.n(R),F=n(3),I=n.n(F),M=n(17),N=n.n(M);function D(e){var t;(t=e.campaigns,t.reduce(function(e,t){return e.concat(t.feedbackTexts.filter(function(e){return!0===e.teaser}))},[])).forEach(function(t){return e.records.splice(t.position-1,0,t)})}(function(e){var t=Object.prototype.toString,n=Array.isArray||function(e){return"[object Array]"===t.call(e)};function i(e){return"function"==typeof e}function r(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function a(e,t){return null!=e&&"object"===N()(e)&&t in e}var o=RegExp.prototype.test,s=/\S/;function c(e){return t=s,n=e,!o.call(t,n);var t,n}var u={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"},l=/\s*/,d=/\s+/,h=/\s*=/,f=/\s*\}/,p=/#|\^|\/|>|\{|&|=|!/;function m(e){this.string=e,this.tail=e,this.pos=0}function g(e,t){this.view=e,this.cache={".":this.view},this.parent=t}function v(){this.cache={}}m.prototype.eos=function(){return""===this.tail},m.prototype.scan=function(e){var t=this.tail.match(e);if(!t||0!==t.index)return"";var n=t[0];return this.tail=this.tail.substring(n.length),this.pos+=n.length,n},m.prototype.scanUntil=function(e){var t,n=this.tail.search(e);switch(n){case-1:t=this.tail,this.tail="";break;case 0:t="";break;default:t=this.tail.substring(0,n),this.tail=this.tail.substring(n)}return this.pos+=t.length,t},g.prototype.push=function(e){return new g(e,this)},g.prototype.lookup=function(e){var t,n=this.cache;if(n.hasOwnProperty(e))t=n[e];else{for(var r,o,s=this,c=!1;s;){if(0<e.indexOf("."))for(t=s.view,r=e.split("."),o=0;null!=t&&o<r.length;)o===r.length-1&&(c=a(t,r[o])),t=t[r[o++]];else t=s.view[e],c=a(s.view,e);if(c)break;s=s.parent}n[e]=t}return i(t)&&(t=t.call(this.view)),t},v.prototype.clearCache=function(){this.cache={}},v.prototype.parse=function(t,i){var a=this.cache,o=a[t];return null==o&&(o=a[t+":"+(i||e.tags).join(":")]=function(t,i){if(!t)return[];var a,o,s,u=[],g=[],v=[],y=!1,b=!1;function _(){if(y&&!b)for(;v.length;)delete g[v.pop()];else v=[];b=y=!1}function k(e){if("string"==typeof e&&(e=e.split(d,2)),!n(e)||2!==e.length)throw new Error("Invalid tags: "+e);a=new RegExp(r(e[0])+"\\s*"),o=new RegExp("\\s*"+r(e[1])),s=new RegExp("\\s*"+r("}"+e[1]))}k(i||e.tags);for(var w,C,S,P,E,x,T=new m(t);!T.eos();){if(w=T.pos,S=T.scanUntil(a))for(var O=0,A=S.length;O<A;++O)c(P=S.charAt(O))?v.push(g.length):b=!0,g.push(["text",P,w,w+1]),w+=1,"\n"===P&&_();if(!T.scan(a))break;if(y=!0,C=T.scan(p)||"name",T.scan(l),"="===C?(S=T.scanUntil(h),T.scan(h),T.scanUntil(o)):"{"===C?(S=T.scanUntil(s),T.scan(f),T.scanUntil(o),C="&"):S=T.scanUntil(o),!T.scan(o))throw new Error("Unclosed tag at "+T.pos);if(E=[C,S,w,T.pos],g.push(E),"#"===C||"^"===C)u.push(E);else if("/"===C){if(!(x=u.pop()))throw new Error('Unopened section "'+S+'" at '+w);if(x[1]!==S)throw new Error('Unclosed section "'+x[1]+'" at '+w)}else"name"===C||"{"===C||"&"===C?b=!0:"="===C&&k(S)}if(x=u.pop())throw new Error('Unclosed section "'+x[1]+'" at '+T.pos);return function(e){for(var t,n=[],i=n,r=[],a=0,o=e.length;a<o;++a)switch((t=e[a])[0]){case"#":case"^":i.push(t),r.push(t),i=t[4]=[];break;case"/":r.pop()[5]=t[2],i=0<r.length?r[r.length-1][4]:n;break;default:i.push(t)}return n}(function(e){for(var t,n,i=[],r=0,a=e.length;r<a;++r)(t=e[r])&&("text"===t[0]&&n&&"text"===n[0]?(n[1]+=t[1],n[3]=t[3]):(i.push(t),n=t));return i}(g))}(t,i)),o},v.prototype.render=function(e,t,n){var i=this.parse(e),r=t instanceof g?t:new g(t);return this.renderTokens(i,r,n,e)},v.prototype.renderTokens=function(e,t,n,i){for(var r,a,o,s="",c=0,u=e.length;c<u;++c)o=void 0,"#"===(a=(r=e[c])[0])?o=this.renderSection(r,t,n,i):"^"===a?o=this.renderInverted(r,t,n,i):">"===a?o=this.renderPartial(r,t,n,i):"&"===a?o=this.unescapedValue(r,t):"name"===a?o=this.escapedValue(r,t):"text"===a&&(o=this.rawValue(r)),void 0!==o&&(s+=o);return s},v.prototype.renderSection=function(e,t,r,a){var o=this,s="",c=t.lookup(e[1]);if(c){if(n(c))for(var u=0,l=c.length;u<l;++u)s+=this.renderTokens(e[4],t.push(c[u]),r,a);else if("object"===N()(c)||"string"==typeof c||"number"==typeof c)s+=this.renderTokens(e[4],t.push(c),r,a);else if(i(c)){if("string"!=typeof a)throw new Error("Cannot use higher-order sections without the original template");null!=(c=c.call(t.view,a.slice(e[3],e[5]),function(e){return o.render(e,t,r)}))&&(s+=c)}else s+=this.renderTokens(e[4],t,r,a);return s}},v.prototype.renderInverted=function(e,t,i,r){var a=t.lookup(e[1]);if(!a||n(a)&&0===a.length)return this.renderTokens(e[4],t,i,r)},v.prototype.renderPartial=function(e,t,n){if(n){var r=i(n)?n(e[1]):n[e[1]];return null!=r?this.renderTokens(this.parse(r),t,n,r):void 0}},v.prototype.unescapedValue=function(e,t){var n=t.lookup(e[1]);if(null!=n)return n},v.prototype.escapedValue=function(t,n){var i=n.lookup(t[1]);if(null!=i)return e.escape(i)},v.prototype.rawValue=function(e){return e[1]},e.name="mustache.js",e.version="2.3.0",e.tags=["{{","}}"];var y=new v;e.clearCache=function(){return y.clearCache()},e.parse=function(e,t){return y.parse(e,t)},e.render=function(e,t,i){if("string"!=typeof e)throw new TypeError('Invalid template! Template should be a "string" but "'+(n(r=e)?"array":N()(r))+'" was given as the first argument for mustache#render(template, view, partials)');var r;return y.render(e,t,i)},e.to_html=function(t,n,r,a){var o=e.render(t,n,r);if(!i(a))return o;a(o)},e.escape=function(e){return String(e).replace(/[&<>"'`=\/]/g,function(e){return u[e]})},e.Scanner=m,e.Context=g,e.Writer=v})(window.Mustache={}),(i=(b=b||{})||(b={})).libs=i.libs||{},i.libs.mustache=Mustache,function(e){var t={trace:5,debug:4,info:3,warn:2,error:1};function n(n){return t[e.logLevel]>=t[n]}function i(e,t){for(var n=arguments.length,i=new Array(2<n?n-2:0),r=2;r<n;r++)i[r-2]=arguments[r];var a,o;"function"==typeof console[e]?(a=console)[e].apply(a,[t].concat(i)):(o=console).log.apply(o,[t].concat(i))}e.isLogLevelActive=n,e.trace=function(e){if(n("trace")){for(var t=arguments.length,r=new Array(1<t?t-1:0),a=1;a<t;a++)r[a-1]=arguments[a];i.apply(void 0,["info",e].concat(r))}},e.debug=function(e){if(n("debug")){for(var t=arguments.length,r=new Array(1<t?t-1:0),a=1;a<t;a++)r[a-1]=arguments[a];i.apply(void 0,["debug",e].concat(r))}},e.info=function(e){if(n("info")){for(var t=arguments.length,r=new Array(1<t?t-1:0),a=1;a<t;a++)r[a-1]=arguments[a];i.apply(void 0,["info",e].concat(r))}},e.log=function(e){if(n("info")){for(var t=arguments.length,r=new Array(1<t?t-1:0),a=1;a<t;a++)r[a-1]=arguments[a];i.apply(void 0,["log",e].concat(r))}},e.warn=function(e){if(n("warn")){for(var t=arguments.length,r=new Array(1<t?t-1:0),a=1;a<t;a++)r[a-1]=arguments[a];i.apply(void 0,["warn",e].concat(r))}},e.error=function(e){if(n("error")){for(var t=arguments.length,r=new Array(1<t?t-1:0),a=1;a<t;a++)r[a-1]=arguments[a];i.apply(void 0,["error",e].concat(r))}},e.logMessage=i}((a=(r=b||(b={})).common||(r.common={})).Logger||(a.Logger={})),(b||(b={})).isReady=!1,function(e){var t=function e(t){I()(this,e),this._typeFlag=e._typeFlag,this.searchParams=t};function n(e){return e||(e=window.location.href),e.split("?")[1]}function i(e,t){var n={};if(e)for(var i=e.split("&"),r=0;r<i.length;r++){var a=i[r],o=(a=a.split("="))[0],s=!0===t?c(a[1]):a[1];s&&(n[o]?n[o].push(s):n[o]=[s])}return n}function r(e){return-1<e.indexOf("filter")}function a(e,t){var n="",i=!0===t?o.common.sortStringArrayAlphabetically(o.common.keys(e)):o.common.keys(e),a=!0;return i.forEach(function(i){if(!0===t&&r(i)){var s=c(e[i][0]);s=o.common.sortFilterValuesAlphabetically(s),e[i][0]=o.common.fixedEncodeURIComponent(s)}n+=a?"":"&",a=!1;var u=e[i];if(o.common.isArray(u))for(var l=0;l<u.length;l++){var d=u[l];n+=i+"="+d,n+=l!==u.length-1?"&":""}else n+=i+"="+u}),"?"+n}function s(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(e){return"%"+e.charCodeAt(0).toString(16)}).replace(/~/g,"%7E")}function c(e){if(e)return decodeURIComponent(e.replace(/\+/g," "))}function u(e){for(var t in e){var n=e[t];if(o.common.isArray(n)){e[t]=[];for(var i=0;i<n.length;i++){var r=n[i];l(t,r)&&e[t].push(s(r))}}else l(t,n)&&(e[t]=[s(e[t])])}return e}function l(e,t){return!e.match(/^ff-.*/)&&"object"!==N()(t)&&"function"!=typeof t&&"number"!=typeof t}function d(e){for(var t in e)if(o.common.isArray(e[t])){var n=e[t];e[t]=[];for(var i=0;i<n.length;i++)e[t].push(c(n[i]))}else e[t]=[c(e[t])];return e}t._typeFlag="HistoryEvent",e.HistoryEntry=t,e.executeCallback=function(t){if(t)try{t()}catch(t){e.Logger.error("could not execute callback: ",t)}},e.elementToString=function(e){if(e&&1===e.nodeType){var t=document.createElement("div");return t.appendChild(e),t.innerHTML}return""},e.stringToElement=function(e){var t=document.createElement("div");return t.innerHTML=e,1<t.childElementCount?t.children:t.firstElementChild},e.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)},e.transitionEndEventName=function(){var e=document.createElement("div"),t={transition:"transitionend",OTransition:"otransitionend",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(var n in t)if(t.hasOwnProperty(n)&&void 0!==e.style[n])return t[n]},e.setStyleProperty=function(e,t,n){n.style[e]=t},e.concatFunctions=function(e,t){return function(){if(e)try{e.apply(window,arguments)}catch(t){o.common.Logger.error("could not invoke function fn1 ["+e+"] got error: "+t)}if(t)try{t.apply(window,arguments)}catch(t){o.common.Logger.error("could not invoke function fn2 ["+e+"] got error: "+t)}}},e.addEventListener=function(e,t,n){try{return e.addEventListener?e.addEventListener(t,n):e.attachEvent?e.attachEvent("on"+t,n):e[t]=n,!0}catch(e){return o.common.Logger.error("could not add eventlistener: "+e),!1}},e.whenBrowserReady=function(e){function t(){if("complete"===document.readyState||"loaded"===document.readyState||"interactive"===document.readyState){if(!0===o.isReady){try{e.call(window)}catch(e){o.common.Logger.error(e)}return!0}document.addEventListener("ffReady",function(){try{e.call(window)}catch(e){o.common.Logger.error(e)}return!0})}return!1}if(!0!==t())var n=setInterval(function(){!0===t()&&window.clearInterval(n)},50)},e.cloneObject=function e(t){var n;if(null==t||"object"!=N()(t))return t;if(t instanceof Array){n=[];for(var i=0,r=t.length;i<r;i++)n[i]=e(t[i]);return n}if(t instanceof Object){for(var a in n={},t)t.hasOwnProperty(a)&&(n[a]=e(t[a]));return n}throw new Error("Unable to copy obj! Its type isn't supported.")},e.copyHTMLAttributes=function(e,t){try{for(var n=e.attributes,i=0;i<n.length;i++){var r=n[i];try{"for-group"!==r.name&&t.setAttribute(r.name,r.value)}catch(e){o.common.Logger.error(e)}}}catch(e){o.common.Logger.error("could not copy attribute: "+e)}},e.isCustomElement=function(e){return 1===e.nodeType&&-1<e.tagName.indexOf("-")},e.whichTransitionEvent=function(){var e,t=document.createElement("fakeelement"),n={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",MSTransition:"msTransitionEnd",OTransition:"oTransitionEnd",transition:"transitionend"};for(e in n)if(void 0!==t.style[e])return n[e]},e.getParentElementByName=function e(t,n){n=n.toUpperCase();var i=t.parentNode;return i&&i.nodeName?i.nodeName===n?i:e(i,n):void 0},e.urlStringToDict=function(e){var t=n(e);return t?i(t):{}},e.getParameterString=n,e.parameterStringToDict=i,e.keys=function(e){if(e!==Object(e))throw new TypeError("Object.keys called on a non-object");var t,n=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.push(t);return n},e.sortStringArrayAlphabetically=function(e){return e.sort(function(e,t){var n=e.toLowerCase().trim(),i=t.toLowerCase().trim();return n<i?-1:i<n?1:0})},e.isFilterParameter=r,e.dictToParameterString=a,e.sortFilterValuesAlphabetically=function(e){if(-1<e.indexOf("~~~")||1<e.indexOf("___")){var t=-1<e.indexOf("~~~")?"~~~":"___",n=e.split(t);return o.common.sortStringArrayAlphabetically(n).join(t)}return e},e.setUrlParameter=function(e,t,n){var r=window.location.href.split("?"),o=i(r[1]);void 0!==t?o[e]=t:delete o[e];var s={};try{s=history.state}catch(e){}history.replaceState(s,"",r[0]+a(o,n))},e.encodeUrl=function(e,t){var n=e.split("?"),r=(e=n[0],i(n[1]));return u(r),e+a(r,t)},e.fixedEncodeURIComponent=s,e.fixedDecodeURIComponent=c,e.encodeDict=u,e._canEncode=l,e.decodeUrl=function(e,t){var n=e.split("?"),r=(e=n[0],i(n[1]));return d(r),e+a(r,t)},e.decodeDict=d,e.getKeyByPattern=function(e,t){var n,i=[];for(n in e)e.hasOwnProperty(n)&&t.test(n)&&i.push(n);return i},e.mergeProperties=function(e,t){var n={};for(var i in t){var r=t[i];void 0!==r&&""!==r&&(n[i]=t[i])}for(var a in e)void 0===n[a]&&(n[a]=e[a]);return n},e.getCurrentEndPathString=function(e){e||(e=window.location.href),-1<e.indexOf("http://")?e=e.replace("http://",""):-1<e.indexOf("https://")&&(e=e.replace("https://",""));var t=e.split("/");return 1===t.length?n(t[0]):t[t.length-1]},e.fireCustomEvent=function(e,t,n,i){var r=document.createEvent("Event");r.initEvent(e,t,n),i=i||document;try{i.dispatchEvent(r)}catch(e){o.common.Logger.error(e)}},e.replaceAt=function(e,t,n){var i=n.length;return 0===n.length&&(i=1),e.substr(0,t)+n+e.substr(t+i)},e.removeAt=function(e,t,n){if(!(t+n>e.length))return e.substr(0,t)+e.substr(t+n)},e.randomString=function(e){for(var t="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=0;i<e;i++)t+=n.charAt(Math.floor(Math.random()*n.length));return t},e.isFFParameter=function(e){return e&&(e.match(/^filter.+/g)||e.match(/^sort.+/g)||"channel"===e||"query"===e||"sid"===e||"productsPerPage"===e||"page"===e||"searchField"===e||"noArticleNumberSearch"===e||"useAsn"===e||"useFoundWords"===e||"useCampaigns"===e||"navigation"===e||"idsOnly"===e||"useKeywords"===e||"generateAdvisorTree="===e||"disableCache"===e||"followSearch"===e||"usePersonalization"===e||"useSemanticEnhancer"===e||"useAso"===e||"omitContextName"===e||"log"===e)},e.localStorage={store:{},setItem:function(e,t){this.isSupported()?void 0!==t?window.localStorage.setItem(e,t):window.localStorage.removeItem(e):void 0!==t?this.store[e]=t:delete this.store[e],"ff-basket"===e&&o.common.fireCustomEvent("ff-basket-changed",!0,!1,document)},getItem:function(e){return this.isSupported()?window.localStorage.getItem(e):this.store[e]},isSupported:function(){var e=window.localStorage;try{return e.setItem("test","1"),e.removeItem("test"),!0}catch(e){return!1}}},e.removeChildNodes=function(e){if(e)for(;e.firstChild;)e.removeChild(e.firstChild)},e.isOk=function(e){return null!=e&&""!==e}}((o=b||(b={})).common||(o.common={})),((s=b||(b={})).libs||(s.libs={})).mustache=Mustache,function(e){var t=String.prototype;function n(){for(var e="",t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789 ",n=0;n<30;n++)e+=t.charAt(Math.floor(Math.random()*t.length));return e}var i=n(),r=n(),a=n();t[a]=function(){return"abcdefghijklmnopqrstuvwxyz"};var o=function e(){I()(this,e),this.url="",this.type="",this.success="",this.fail="",this.always="",this.version="",this.sid="",this.query="",this.channel="",this.page="",this.productsPerPage="",this.sort="",this.filter="",this.searchField="",this.articleNumberSearch="",this.useASN="",this.useFoundWords="",this.useCampaigns="",this.navigation="",this.idsOnly="",this.useKeywords="",this.generateAdvisorTree="",this.disableCache=""},s=function(e){function t(){var e,n;I()(this,t);for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return(n=T()(this,(e=A()(t)).call.apply(e,[this].concat(r)))).groupName="",n.filterName="",n.selectedMaxValue="",n.selectedMinValue="",n}return L()(t,e),t}(e.FFEvent=o);e.FilterEvent=s;var u=function(e){function t(){var e,n;I()(this,t);for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return(n=T()(this,(e=A()(t)).call.apply(e,[this].concat(r)))).value="",n}return L()(t,e),t}(o);e.BreadCrumbEvent=u;var l=function(e){function t(){return I()(this,t),T()(this,A()(t).apply(this,arguments))}return L()(t,e),t}(o);e.ProductsPerPageEvent=l;var d=function(e){function t(){return I()(this,t),T()(this,A()(t).apply(this,arguments))}return L()(t,e),t}(o);e.PagingEvent=d;var h=function(e){function t(){return I()(this,t),T()(this,A()(t).apply(this,arguments))}return L()(t,e),t}(o);e.ProductCampaignEvent=h;var f=function(e){function t(){return I()(this,t),T()(this,A()(t).apply(this,arguments))}return L()(t,e),t}(o);e.SuggestEvent=f;var p=function(e){function t(){return I()(this,t),T()(this,A()(t).apply(this,arguments))}return L()(t,e),t}(o);e.ProductDetailEvent=p;var m=function(e){function t(){var e;return I()(this,t),(e=T()(this,A()(t).call(this))).query="*",e}return L()(t,e),t}(o);e.GlobalSearchParameter=m;var g=function e(){I()(this,e),this.serachUrl="",this.suggestUrl="",this.recommendationUrl="",this.tagCloudUrl="",this.trackingUrl="",this.campaignUrl="",this.compareUrl="",this.similarRecordsUrl="",this.getRecordsUrl=""};e.CustomUrls=g;var v=new m,y=new g;e.globalSearchParameter=v,e.globalCustomUrls=y;var b=function e(){I()(this,e)};b.query="query",b.channel="channel",b.page="page",b.productsPerPage="productsPerPage",b.sort="sort",b.filter="filter",b.searchField="searchField",b.articleNumberSearch="noArticleNumberSearch",b.useASN="useAsn",b.useFoundWords="useFoundWords",b.useCampaigns="useCampaigns",b.navigation="navigation",b.idsOnly="idsOnly",b.useKeywords="useKeywords",b.generateAdvisorTree="generateAdvisorTree",b.disableCache="disableCache",b.sid="sid";var _=function e(){I()(this,e)};_.query="query",_.channel="channel",_.page="page",_.productsPerPage="productsPerPage",_.sort="sort",_.filter="filter",_.searchField="searchField",_.articleNumberSearch="noArticleNumberSearch",_.useASN="useAsn",_.useFoundWords="useFoundWords",_.useCampaigns="useCampaigns",_.navigation="navigation",_.idsOnly="idsOnly",_.useKeywords="useKeywords",_.generateAdvisorTree="generateAdvisorTree",_.disableCache="disableCache",_.sid="sid";var k,w=["ff_no_redirect","dispatchId","__immediate"];!function(e){e.RequestBuilderOptions=function e(){I()(this,e),this.removeFFPrefix=!0};var t=new c.communication.BreadCrumbEvent,n=new c.communication.FilterEvent,i=function(){function e(){I()(this,e),this.connParamNames=["url","sid"]}return E()(e,[{key:"buildUrlByParamObject",value:function(e,t,n){return 6.9==n?this._internalBuildUrl(e,t,b):6.11==n?this._internalBuildUrl(e,t,_):this._internalBuildUrl(e,t,b)}},{key:"buildUrlByString",value:function(e,t,n,i){return this._internalBuildUrlString(e,t,i)}},{key:"buildSearchRequestUrl",value:function(e){return e=c.common.mergeProperties(c.communication.globalSearchParameter,e),this._setCustomUrl(e,c.communication.globalCustomUrls.serachUrl),this._appendAction(e,"Search.ff"),this.buildUrlByParamObject(e,e.url,e.version)}},{key:"buildProductCampaignUrl",value:function(e){return e=c.common.mergeProperties(this._getConnParams(c.communication.globalSearchParameter),e),this._setCustomUrl(e,c.communication.globalCustomUrls.campaignUrl),this._appendAction(e,"ProductCampaign.ff"),e.do="getProductCampaigns",this.buildUrlByParamObject(e,e.url,e.version)}},{key:"buildShoppingCartCampaignUrl",value:function(e){return e=c.common.mergeProperties(this._getConnParams(c.communication.globalSearchParameter),e),this._setCustomUrl(e,c.communication.globalCustomUrls.campaignUrl),this._appendAction(e,"ProductCampaign.ff"),e.do="getShoppingCartCampaigns",this.buildUrlByParamObject(e,e.url,e.version)}},{key:"buildPageCampaignUrl",value:function(e){return e=c.common.mergeProperties(this._getConnParams(c.communication.globalSearchParameter),e),this._setCustomUrl(e,c.communication.globalCustomUrls.campaignUrl),this._appendAction(e,"ProductCampaign.ff"),e.do="getPageCampaigns",this.buildUrlByParamObject(e,e.url,e.version)}},{key:"buildTagCloudUrl",value:function(e){return e=c.common.mergeProperties(this._getConnParams(c.communication.globalSearchParameter),e),this._setCustomUrl(e,c.communication.globalCustomUrls.tagCloudUrl),this._appendAction(e,"TagCloud.ff"),e.do="getTagCloud",this.buildUrlByParamObject(e,e.url,e.version)}},{key:"buildFilterUrl",value:function(e,t){return this._buildUrlByFFParamString(t,e)}},{key:"buildBreadCrumbUrl",value:function(e,t){return this._buildUrlByFFParamString(t,e)}},{key:"buildProductsPerPageUrl",value:function(e,t){return this._buildUrlByFFParamString(t,e)}},{key:"buildPagingUrl",value:function(e,t){return this._buildUrlByFFParamString(t,e)}},{key:"buildRecommendationUrl",value:function(e){return(e=c.common.mergeProperties(this._getConnParams(c.communication.globalSearchParameter),e)).do="getRecommendation",this._setCustomUrl(e,c.communication.globalCustomUrls.recommendationUrl),this._appendAction(e,"Recommender.ff"),this.buildUrlByParamObject(e,e.url,e.version)}},{key:"buildSortUrl",value:function(e,t){return this._buildUrlByFFParamString(t,e)}},{key:"buildSimilarProductsUrl",value:function(e){return e.maxRecordCount=e.maxResults,delete e.maxResults,e=c.common.mergeProperties(c.communication.globalSearchParameter,e),this._setCustomUrl(e,c.communication.globalCustomUrls.similarRecordsUrl),this._appendAction(e,"SimilarRecords.ff"),this.buildUrlByParamObject(e,e.url,e.version)}},{key:"buildSuggestUrl",value:function(e){return e=c.common.mergeProperties(c.communication.globalSearchParameter,e),this._setCustomUrl(e,c.communication.globalCustomUrls.suggestUrl),this._appendAction(e,"Suggest.ff"),this.buildUrlByParamObject(e,e.url,e.version)}},{key:"buildProductDetailUrl",value:function(e){return e.id||c.common.Logger.debug("No id specified for Product Detail request"),e.query=e.id,delete e.id,e.useAsn="false",e.useCampaigns="false",e.isArticleNumber="true",e=c.common.mergeProperties(c.communication.globalSearchParameter,e),this._setCustomUrl(e,c.communication.globalCustomUrls.serachUrl),this._appendAction(e,"Search.ff"),this.buildUrlByParamObject(e,e.url,e.version)}},{key:"buildInitialNavigationRequestUrl",value:function(e){return e=c.common.mergeProperties(c.communication.globalSearchParameter,e),this._setCustomUrl(e,c.communication.globalCustomUrls.serachUrl),this._appendAction(e,"Search.ff"),this.buildUrlByParamObject(e,e.url,e.version)}},{key:"buildNavigationRequestUrl",value:function(e,t){return e=c.common.mergeProperties(c.communication.globalSearchParameter,e),this._setCustomUrl(e,c.communication.globalCustomUrls.serachUrl),this._appendAction(e,"Search.ff"),this.buildUrlByParamObject(e,e.url,e.version)}},{key:"buildCompareUrl",value:function(e){for(var t=(e=c.common.mergeProperties(this._getConnParams(c.communication.globalSearchParameter),e)).ids,n="&ids=",i=0;i<t.length;i++)0!=i&&(n+=";"),n+=t[i];return delete e.ids,this._setCustomUrl(e,c.communication.globalCustomUrls.compareUrl),this._appendAction(e,"Compare.ff"),this.buildUrlByParamObject(e,e.url,e.version)+n}},{key:"buildTrackingUrl",value:function(e){return 6.9==(e.version?e.version:e.version=c.communication.globalSearchParameter.version)?this._internalBuildTrackingUrl(e,b):this._internalBuildTrackingUrl(e,_)}},{key:"buildGetRecordsUrl",value:function(e){return e=c.common.mergeProperties(this._getConnParams(c.communication.globalSearchParameter),e),this._setCustomUrl(e,c.communication.globalCustomUrls.getRecordsUrl),this._appendAction(e,"rest/v1/records/"+e.channel),delete e.channel,this.buildUrlByParamObject(e,e.url,e.version)}},{key:"_setCustomUrl",value:function(e,t){null!=t&&""!=t&&(e.url=t)}},{key:"_appendAction",value:function(e,t){"/"===e.url[e.url.length-1]?e.url=e.url+t:e.url=e.url+"/"+t}},{key:"_buildUrlByFFParamString",value:function(e,t){var n=c.common.getParameterString(e),i=c.common.parameterStringToDict(n);return t=c.common.mergeProperties(i,t),t=c.common.mergeProperties(c.communication.globalSearchParameter,t),this._setCustomUrl(t,c.communication.globalCustomUrls.serachUrl),this._appendAction(t,"Search.ff"),this.buildUrlByParamObject(t,t.url,t.version)}},{key:"_internalBuildUrl",value:function(e,i,r){var a="?"===i[i.length-1]?i:i+"?";if(e){var o=JSON.parse(JSON.stringify(e));w.forEach(function(e){return delete o[e]});var s=!0===c.communication.globalCommunicationParameter.useSeo&&-1!==i.indexOf("Search.ff"),u="true"===String(o.navigation);for(var l in(s||u)&&delete o.query,r)o[l]&&(c.common.isArray(o[l])?a=this._handleArrayParam(l,o[l],a):"function"!=typeof o[l]&&"object"!==N()(o[l])&&(a+=r[l]+"="+o[l]+"&"));if(!0===c.communication.globalCommunicationParameter.appendUnknownParameter)for(var l in o)l in t||l in n||(c.common.isArray(o[l])?a=this._handleArrayParam(l,o[l],a):"function"!=typeof o[l]&&"object"!==N()(o[l])&&(a+=l+"="+o[l]+"&"));a=a.substring(0,a.length-1)}return a}},{key:"_handleArrayParam",value:function(e,t,n){for(var i=0;i<t.length;i++){var r=t[i];"function"!=typeof r&&"object"!==N()(r)&&(n+=e+"="+r+"&")}return n}},{key:"_internalBuildTrackingUrl",value:function(e,t){var n=c.communication.globalSearchParameter;return e=c.common.mergeProperties(this._getConnParams(n),e),this._setCustomUrl(e,c.communication.globalCustomUrls.trackingUrl),this._appendAction(e,"Tracking.ff"),this._internalBuildUrl(e,e.url,t)}},{key:"_internalBuildUrlString",value:function(e,t,n){return n&&n.removeFFPrefix&&(e="/"+(e="/"!==e[0]?"/"+e:e).replace(/(\/.*?\/)/,"")),("/"===t[t.length-1]?t=t.substring(0,t.length-1):t)+e}},{key:"_getConnParams",value:function(e){var t={};if(e)for(var n=0;n<this.connParamNames.length;n++){var i=this.connParamNames[n];e[i]&&(t[i]=e[i])}return t}}]),e}();e.FFRequestUrlBuilder=i}(k||(k={}));var C=n(),P=n(),x=n(),O=n(),R=n(),F={U2VhcmNoLmZm:!0,"VHJhY2tpbmcuZmY=":!0,cmVzdC92MS9yZWNvcmRz:!0,"cmVzdC92MS9zZWFyY2g=":!0,"cmVzdC92MS90cmFja2luZw==":!0};e.sp=F,function(e){function t(e){var t=decodeURIComponent(e);if(-1==t.lastIndexOf("/q"))return null;var n=t.split("/");return n[n.length-2]}function n(e,t,n){try{return n.__immediate?history.replaceState(e,"",t):history.pushState(e,"",t),{error:!1}}catch(e){return{error:e}}}function i(e,t,n,i){if(t&&("ppp"!==t.type&&"sort"!==t.type&&"paging"!==t.type||(delete e.useAsn,delete e.useCampaigns)),n){for(var a in e)e.hasOwnProperty(a)&&c.common.isFFParameter(a)&&(r(a,i)?"query"===a&&("*"===e[a][0]?delete e[a]:e[a][0]==c.common.fixedEncodeURIComponent("*")&&delete e[a]):delete e[a]);delete e.format}var o=c.common.dictToParameterString(e,c.communication.globalCommunicationParameter.sortUrlParametersAlphabetically);o=(o=o.substring(1)).replace(/&format=json/gi,"");var s=window.location.href.split("?")[0];return""!==o&&(s+="?"+o),s}function r(e,t){var n=!1;return t&&t.forEach(function(t){-1<e.indexOf(t)&&(n=!0)}),n}function a(e){var t,n=c.communication.globalCommunicationParameter;if(!1===n.useUrlParameter&&!0===n.useBrowserHistory){var i=c.common.parameterStringToDict(c.common.getParameterString(e.searchResult.searchParams)),r="/";void 0!==i.seoPath&&(r=decodeURIComponent(i.seoPath)),delete i.seoPath,delete i.query,delete i.format;var a=c.common.dictToParameterString(i,c.communication.globalCommunicationParameter.sortUrlParametersAlphabetically);t=window.location.origin+n.seoPrefix+r+a}else t=window.location.href.split("?")[0];try{history.pushState(e,"",t)}catch(n){c.common.Logger.log("Result is too big for history - falling back to FF-Request instead of cached result");try{var o=new c.common.HistoryEntry(e.searchParams||e.searchResult?e.searchResult.searchParams:"");history.pushState(o,"",t)}catch(n){console.log("could not ",n)}}}function o(e,t){var n=window.location.origin;c.communication.globalCommunicationParameter.filterUrlPrefix&&(n+="/"+c.communication.globalCommunicationParameter.filterUrlPrefix),n+=function(e){var t="";for(var n in e)e.hasOwnProperty(n)&&0==n.indexOf("filterCategoryROOT")&&(t+=c.common.fixedDecodeURIComponent(e[n][0])+"/",delete e[n]);return"/"+t}(t),n+=c.common.dictToParameterString(t,c.communication.globalCommunicationParameter.sortUrlParametersAlphabetically);try{history.pushState(e,"",n)}catch(t){c.common.Logger.log("Result is too big for history - falling back to FF-Request instead of cached result");try{var i=new c.common.HistoryEntry(e.searchParams||e.searchResult?e.searchResult.searchParams:"");history.pushState(i,"",n)}catch(t){console.log("could not ",t)}}}e.getSearchParamString=function(){var e=c.communication.FFCommunicationEventAggregator.currentSearchResult;if(e)return c.common.getParameterString(e.searchParams)},e.handleSeoSearch=function(e){if(e.seoPath)e.seoPath=decodeURIComponent(e.seoPath);else{var n,i=e.query;if(c.communication.globalCommunicationParameter.keepFilters){var r=t(n=e.seoPath?decodeURIComponent(e.seoPath):decodeURIComponent(window.location.pathname).replace(c.communication.globalCommunicationParameter.seoPrefix+"",""));i&&"*"!==i&&0!=i.length?n=r?n.replace("/"+r+"/q","/"+i+"/q"):n+"/"+i+"/q":r&&(n=n.replace("/"+r+"/q","")),e.seoPath=encodeURIComponent(n)}else e["ff-seo-initial"]?(delete e["ff-seo-initial"],e.seoPath||(e.seoPath=encodeURIComponent("/"))):i&&"*"!==i&&0!=i.length?e.seoPath=encodeURIComponent("/"+decodeURIComponent(i)+"/q"):e.seoPath=encodeURIComponent("/")}},e.replaceHistoryState=function(e,t,n){if(n&&!n.topics)try{history.replaceState(e,"",t)}catch(n){try{var i=e.searchParams||(e.searchResult?e.searchResult.searchParams:""),r=new c.common.HistoryEntry(i);history.replaceState(r,"",t)}catch(n){console.log("could not ",n)}}},e.replaceDocumentLocation=function(e){c.common.Logger.debug("redirecting to: ".concat(e)),document.location.replace(e)},e.pushParameterToHistory=function(e,t,r){if(!t||!(-1<t.indexOf("Suggest.ff")||-1<t.indexOf("Tracking.ff"))){var s=c.communication.globalCommunicationParameter;if(!1!==s.useUrlParameter||!1!==s.useBrowserHistory){var u,l=c.common.parameterStringToDict(c.common.getParameterString(t));if(s.useSeo&&-1!==t.indexOf("Search.ff"))a(e);else if(1!=s.useFilterURL||-1===["search","filter","bct"].lastIndexOf(r.type)){if(n(e,u=s.onlySearchParams?i(l,r,!0,s.parameterWhitelist.split(",")):!0===s.useBrowserHistory?i(l,r,!c.communication.globalCommunicationParameter.useUrlParameter):!1===c.communication.globalCommunicationParameter.useUrlParameter&&!1===s.onlySearchParams?document.location.href:window.location.href.split("?")[0],r).error){c.common.Logger.log("Result is too big for history - falling back to FF-Request instead of cached result");var d=n(new c.common.HistoryEntry(e.searchParams||e.searchResult?e.searchResult.searchParams:""),u,r).error;d&&console.log("could not",d)}}else o(e,l)}}},e.getBrowserURL=i,e.pushSeoToHistory=a,e.pushFilterUrlToHistory=o,e.changeRecordPropertyName=function(e,t){if(e)for(var n=0;n<e.length;n++){var i=e[n].record;for(var r in t){var a=t[r];a!==r&&i[r]&&(i[a]=i[r],delete i[r])}}},e.getQueryFromSearchParams=function(){try{var e=c.communication.FFCommunicationEventAggregator.currentSearchResult.searchParams,n=c.common.parameterStringToDict(e.split("?")[1]),i="";if(n.query&&(i=c.common.fixedDecodeURIComponent(n.query[0])),!0!==c.communication.globalCommunicationParameter.useSeo)return i;var r=n.seoPath,a=c.common.fixedDecodeURIComponent(t(r));return a||i||c.common.Logger.debug("whether seoPath param is set nor query param. Maybe FACT-Finder SEO is not active "),a||i}catch(e){return""}},e.addRenameRecordFields=function(e){return{productCampaign:c.communication.ResultDispatcher.addCallback("productCampaign",function(t){if(t)for(var n=0;n<t.length;n++){var i=t[n];if(i.pushedProductsRecords){var r=i.pushedProductsRecords;this.changeRecordPropertyName(r,e)}}},this),result:c.communication.ResultDispatcher.addCallback("result",function(t){var n=t.records;try{this.changeRecordPropertyName(n,e)}catch(t){console.log(t)}try{if(t.campaigns)for(var i in t.campaigns){var r=t.campaigns[i];r.pushedProductsRecords&&this.changeRecordPropertyName(r.pushedProductsRecords,e)}}catch(t){console.log(t)}if(t.singleWordResults)for(var a=t.singleWordResults,o=0;o<a.length;o++){var s=a[o];if(s.previewRecords)try{this.changeRecordPropertyName(s.previewRecords,e)}catch(t){console.log(t)}}},this),recommendation:c.communication.ResultDispatcher.addCallback("recommendation",function(t){this.changeRecordPropertyName(t,e)},this),similarProducts:c.communication.ResultDispatcher.addCallback("similarProducts",function(t){this.changeRecordPropertyName(t.records,e)},this)}},e.removeRenameRecordFields=function(e){for(var t in e)!0!==c.communication.ResultDispatcher.unsubscribe(t,e[t])&&c.common.Logger.debug("Could not remove renameRecordField callback for topic ["+t+"] with key")},e.trackingHelper={getTrackingProductId:function(e){var t=c.communication;return t.fieldRoles&&t.fieldRoles.trackingProductNumber?e.record[t.fieldRoles.trackingProductNumber]:e.id},getPrice:function(e){var t=c.communication.fieldRoles;return t&&t.price?e.record.__ORIG_PRICE__||e.record[t.price]:""},getTitle:function(e){var t=c.communication.fieldRoles;return t&&t.productName?e.record[t.productName]:""},getMasterArticleNumber:function(e){var t=c.communication.fieldRoles;return t&&t.masterArticleNumber?e.record[t.masterArticleNumber]:""},getUserId:function(){var e=c.communication.globalCommunicationParameter;return e.userId?e.userId:void 0},getCampaignProductNumber:function(e){var t=c.communication;return t.fieldRoles&&t.fieldRoles.campaignProductNumber?e.record[t.fieldRoles.campaignProductNumber]:e.id}}}(e.Util||(e.Util={}));var M=function e(){I()(this,e),this.ajax=!0,this.useUrlParameter=!0,this.useBrowserHistory=!0,this.useCache=!1,this.appendUnknownParameter=!0,this.isSessionIdDisabled=!1,this.keepFilters=!1,this.useAsn=!0,this.useFoundWords=!1,this.useCampaigns=!0,this.generateAdvisorTree=!1,this.disableCache=!1,this.usePersonalization=!0,this.useSemanticEnhancer=!0,this.useAso=!0,this.useSeo=!1,this.seoPrefix="",this.sid="",this.currencyCountryCode="",this.currencyCode="",this.currencyFields="price",this.currencyMinDigits="2",this.currencyMaxDigits="2",this.singleHitRedirect=!1,this.useFilterURL=!1,this.filterUrlPrefix="",this.onlySearchParams=!1,this.asyncFacets=!1,this.parameterWhitelist="query,filter",this.sortUrlParametersAlphabetically=!1};e.GlobalCommunicationParameter=M,e.globalCommunicationParameter=new M;var D=n(),U=(r=n(),n()),j=n(),B=n();t[B]=function(){var e,t,n=0;if(0===this.length)return n;for(e=0,t=this.length;e<t;e++)n=(n<<5)-n+this.charCodeAt(e),n|=0;return n},t[D]=function(){var e="";""[P]();for(var t=e.concat(this[C](),this[a](),""[P]()),n=0;n<t.length;n++)e+=t.charAt(Math.floor(Math.random()*t.length));return e};var H=new(e.GlobalElementValues=function e(){I()(this,e),this.currentFFSearchBoxValue=""});e.globalElementValues=H,t[x]=function(){return Math.random()},t[O]=function(){return(new Date).getTime()},t[R]=function(){return this[B]()},t[P]=function(){return"0123456789"},function(e){var t=c.common.Logger,n={},i={},r={result:m,records:g,asn:w,sort:y,paging:_,suggest:A,bct:v,ppp:b,pagingItems:k,productDetail:S,singleWordSearch:C,query:M,campaign:P,productCampaign:x,shoppingCartCampaign:T,pageCampaigns:E,navigation:N,tagCloud:I,similarProducts:L},a=!0,o=[];function s(e,t,n){try{var r=i[e];if(r)for(var a=0;a<r.length;a++){var o=r[a];try{o.fn.call(o.ctx,t,n)}catch(e){c.common.Logger.error("could not invoke callback function  "+o+" :"+e)}}}catch(e){}}function u(e,t,n){a?o.push({topic:e,data:t,event:n}):d(e,t,n)}function l(e){a=e}function d(e,i,r){try{var a=n[e];if(a){a=a.slice();for(var o=0;o<a.length;o++)try{var s=a[o];s.fn.call(s.ctx,i,r)}catch(i){t.error("could not invoke subscriber function ["+a[o].name+"] for topic ["+e+"]. error: "+i)}}}catch(i){t.error("Could not dispatch topic {",e,"}: ",i)}}function h(e,n,i){try{s(n,e,i)}catch(e){}try{t.debug("dispatching topic: "+n),u(n,e,i)}catch(e){}}function f(e,t){p(e,t)}function p(e,i){var r,a,o,s,c;(r=e.campaigns,a=n,o=(r||[]).filter(function(e){return"redirect"===e.flavour.toLowerCase()})[0],s=(a["campaign:redirect"]||[])[0],c=!!o&&!!s,Object.freeze({then:function(e){try{c&&e(s.fn.call(s.ctx,o))}catch(e){t.error("could not invoke subscriber for redirect campaign. error: ".concat(e),s)}return this},otherwise:function(e){return c||e(),this}})).then(D).otherwise(function(){m(e,i),P(e,i),g(e,i),v(e,i),y(e,i),b(e,i),_(e,i),k(e,i),w(e,i),C(e,i),M(e,i)})}function m(e,n){s("result",e,n),t.debug("dispatching result"),u("result",e,n)}function g(e,n){s("records",e.records,n),t.debug("dispatching records"),u("records",e.records,n)}function v(e,n){s("bct",e.breadCrumbTrailItems,n),t.debug("dispatching bread crumb trail"),u("bct",e.breadCrumbTrailItems,n)}function y(e,n){s("sort",e.sortsList,n),t.debug("dispatching sort items"),u("sort",e.sortsList,n)}function b(e,n){s("ppp",e.resultsPerPageList,n),t.debug("dispatching results per page items"),u("ppp",e.resultsPerPageList,n)}function _(e,n){s("paging",e.paging,n),t.debug("dispatching paging"),u("paging",e.paging,n)}function k(e,n){var i=e&&e.paging?e.paging:void 0;s("pagingItems",i,n),t.debug("dispatching paging items"),u("pagingItems",i,n)}function w(e,n){s("asn",e.groups,n),t.debug("dispatching asn"),u("asn",e.groups,n)}function C(e,n){s("singleWordSearch",e.singleWordResults,n),t.debug("dispatching singleWordSearch"),u("singleWordSearch",e.singleWordResults,n)}function S(e,n){var i;e&&e.records instanceof Array&&(i=e.records[0]),s("productDetail",i,n),t.debug("dispatching productDetail"),u("productDetail",i,n)}function P(e,n){s("campaign",e.campaigns,n),t.debug("dispatching campaigns"),O(e.campaigns,"campaign",n)}function E(e,n){s("pageCampaigns",e,n),t.debug("dispatching page campaigns"),O(e,"campaign",n)}function x(e,n){s("productCampaign",e,n),t.debug("dispatching productCampaign"),O(e,"productCampaign",n)}function T(e,n){s("shoppingCartCampaign",e,n),t.debug("dispatching shoppingCartCampaign"),O(e,"shoppingCartCampaign",n)}function O(e,t,i){try{var r=[];r.push(t);for(var a=0;a<e.length;a++){var o=e[a];o.pushedProductsRecords&&0<o.pushedProductsRecords.length&&(r.push(t+":pushedProducts"),r.push(t+":pushedProducts:"+o.name)),r.push(t+":"+o.name),r.push(t+":"+o.flavour.toLowerCase()),r.push(t+":"+o.flavour.toLowerCase()+":"+o.name),o.feedbackTexts&&(r.push(t+":feedbacktext"),o.feedbackTexts.forEach(function(e){r.push(t+":feedbacktext:"+o.name),r.push(t+":feedbacktext:"+e.label)}))}var s=c.common.getKeyByPattern(n,new RegExp(t)).filter(function(e){return-1==r.indexOf(e)});for(a=0;a<s.length;a++)u(s[a],void 0,i);for(a=0;a<e.length;a++){var l=e[a];try{l.pushedProductsRecords&&0<l.pushedProductsRecords.length&&(u(t+":pushedProducts",l.pushedProductsRecords,i),u(t+":pushedProducts:"+l.name,l.pushedProductsRecords,i))}catch(e){}u(t,l,i),u(t+":"+l.name,l,i),u(t+":"+l.flavour.toLowerCase(),l,i),u(t+":"+l.flavour.toLowerCase()+":"+l.name,l,i);var d=l.feedbackTexts;if(d)for(var h=0;h<d.length;h++){var f=d[h];u(t+":feedbacktext",f,i),u(t+":feedbacktext:"+l.name,f,i),u(t+":feedbacktext:"+f.label,f,i)}}}catch(e){}}function A(e,n){s("suggest",e,n),t.debug("dispatching suggest"),u("suggest",e,n)}function R(e,n){s("recommendation",e,n),t.debug("dispatching recommendations"),u("recommendation",e,n),u(n.type,e,n)}function L(e,n){s("similarProducts",e,n),t.debug("dispatching similarProducts"),u("similarProducts",e,n)}function F(e,n){s("compare",e,n),t.debug("dispatching compare"),u("compare",e,n),u(n.type,e,n)}function I(e,n){s("tagCloud",e,n),t.debug("dispatching tag cloud items"),u("tagCloud",e,n)}function M(e,n){if(e&&e.searchParams)try{var i=e.searchParams.split("?")[1],r=c.common.parameterStringToDict(i).query;if(r){try{s("query",r,n)}catch(e){}try{t.debug("dispatching query"),u("query",r,n)}catch(e){}}}catch(e){t.debug("result.searchParams from query has no params")}}function N(e,t){s("navigation",e,t);try{var n=e.searchResult.groups[0].elements,i=c.communication.FFCommunicationEventAggregator;n.forEach(function(e){var t,n,r;e.__TARGET_URL__=(t=e,n=c.common.parameterStringToDict(t.searchParams.split("?")[1]),r={url:c.communication.Util.getBrowserURL(n,void 0,!1),isCustomized:!1},Object.freeze({setUrl:function(e){if("string"!=typeof e)throw new Error("customUrl must be a string.");r.url=e,r.isCustomized=!0},get url(){return r.url},get isCustomized(){return r.isCustomized}})),e.__SUB_ELEMENTS__=[];var a="".concat(e.associatedFieldName,"/").concat(e.name);i.navigationResult[a]={element:e,subelements:e.__SUB_ELEMENTS__},i.navigationLayer[e.clusterLevel]||(i.navigationLayer[e.clusterLevel]=[]),i.navigationLayer[e.clusterLevel].push(e);var o=i.navigationResult[e.associatedFieldName];o&&o.subelements.push(e)}),setTimeout(function(){var e;u("navigation",(e=i.navigationLayer,Object.keys(e).sort(function(e,t){return e-t}).map(function(t){return e[t]})),t)},0)}catch(e){console.warn("dispatchNavigation",e)}}function D(e){c.communication.Util.replaceDocumentLocation(e.target.destination)}e.invokeCallbacks=s,e.addCallback=function(e,t,n){i[e]||(i[e]=[]);var r=c.common.randomString(20);return i[e].push({fn:t,ctx:n,key:r}),r},e.removeCallback=function(e,t){i[e]||(i[e]=[]);for(var n=i[e],r=0;r<n.length;r++)if(n[r].key===t)return n.splice(r,1),!0},e.subscribe=function(e,i,r){try{n[e]||(n[e]=[]);var a=c.common.randomString(20);return n[e].push({fn:i,ctx:r,key:a}),a}catch(e){return t.error("unexpected error. could not subscribe: "+e),null}},e.unsubscribe=function(e,i){try{var r=n[e];for(var a in r)if(r[a].key===i)return r.splice(a,1),!0}catch(e){return t.error("unexpected error. could not unsubscribe: "+e),!1}},e.startDispatching=function(){l(!1),o.forEach(function(e){d(e.topic,e.data,e.event)}),o=[]},e.setShouldDeferDispatches=l,e.dispatch=function(e,n,i){e?i?(i instanceof Array?t.debug("dispatch topics: "+i):i=[i],i.forEach(function(t){"recommendation"==t?R(e.resultRecords?e.resultRecords:e,n):"compare"==t?F(e,n):"suggest"==t?A(e.suggestions?e.suggestions:e,n):r[t]?r[t](e.searchResult||e,n):h(e,t,n)})):f(e.searchResult||e,n):t.error("No response to dispatch for topics: "+i)},e.dispatchResultByTopic=h,e.dispatchSearchResult=f,e.dispatchResult=p,e.dispatchResultInternal=m,e.dispatchRecords=g,e.dispatchBreadcrumbTrail=v,e.dispatchSorting=y,e.dispatchProductsPerPage=b,e.dispatchPaging=_,e.dispatchPagingItems=k,e.dispatchAsn=w,e.dispatchSingleWordSearch=C,e.dispatchProductDetail=S,e.dispatchCampaigns=P,e.dispatchPageCampaigns=E,e.dispatchProductCampaigns=x,e.dispatchShoppingCartCampaign=T,e._doCampaingDispatch=O,e.dispatchSuggest=A,e.dispatchRecommendations=R,e.dispatchSimilarProducts=L,e.dispatchCompare=F,e.dispatchTagCloud=I,e.dispatchQuery=M,e.dispatchNavigationFrame=N}(e.ResultDispatcher||(e.ResultDispatcher={}));var q=window.btoa(window.location.origin),V=n();function z(e,t,n,i,r){var a=r.split("?")[0],o=a.split("/");if(-1!==a.indexOf("/rest/")&&4<=o.length){var s=o.slice(o.length-4,o.length-1).join("/");return btoa(s)in F?""+i._r.setRequestHeader(e,t):""}return btoa(o[o.length-1])in F?""+i._r.setRequestHeader(e,t):""}c.common.localStorage.setItem(q,V),t[C]=function(){return"ABCDEFGHIJKLMNOPQRSTUVWXYZ"};var K=function(e){function t(e,n,a){var o;I()(this,t),(o=T()(this,A()(t).call(this,e,!1)))._isPushParameterToHistory=!1;var s=S()(o);if(!/format=json/i.test(e)){var u=c.common.urlStringToDict(e);u.format="json",e=e.split("?")[0]+c.common.dictToParameterString(u,c.communication.globalCommunicationParameter.sortUrlParametersAlphabetically)}o._i(e);var l=[];!function(e,t,n){for(var r=n[i](t).split("$"),a=0;a<3;a++){for(var o=10*a,s="",c=o;c<o+10;c++)s+=r[c];e.push(s)}}(l,c.communication.sessionManager,e);var d=e[x]();z(l[0],d,0,s,e);var h=e[D]();z(l[1],h,0,s,e);var f=e[O](),p=e[j](+d,f,e[R](),h);z(l[2],e[r](p),0,s,e),z(l[1],p[3],0,s,e),z("_ffo",c.common.localStorage.getItem(q).substring(0,0)+q,0,s,e);var m=f%99;return f=50<=m?(f+="").slice(2,f.length)+(f[0]+f[1]):(f+="").slice(f.length-2,f.length)+f.slice(0,f.length-2),m<10&&(m="0"+m),z("_fft",f+m,0,S()(o),e),o._isPushParameterToHistory=n,o._ffEvent=a,o}return L()(t,e),E()(t,[{key:"s",value:function(e){return this._sC=function(t,n,i){var r;try{if(-1<i.getResponseHeader("content-type").toLowerCase().indexOf("application/json")&&(r=JSON.parse(t)),!0===this._isPushParameterToHistory&&!this._ffEvent.topics){var a=!0;c.communication.FFCommunicationEventAggregator.beforeHistoryPushCallbacks.forEach(function(e){try{!1===e.fn(r,this._ffEvent,this._u)&&(a=!1)}catch(e){console.log("Could not execute beforeHistoryPushCallbacks: "+e)}}),!1!==a?c.communication.Util.pushParameterToHistory(r,this._u,this._ffEvent):c.common.Logger.debug("history push disabled by before")}}catch(t){return c.common.Logger.error("Could not parse response. Probably authentication failed: "+t),void this._iFC(n)}try{e(r)}catch(t){c.common.Logger.error(t)}return r},this}}]),t}(function(){function e(t){var n=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];I()(this,e),!0===n&&this._i(t),this._u=t}return E()(e,[{key:"_i",value:function(e){var t,n;if(this._r=("GET",t=e,"withCredentials"in(n=new XMLHttpRequest)?(n.open("GET",t,!0),n.setRequestHeader("Accept","application/json")):"undefined"!=typeof XDomainRequest?(n=new XDomainRequest).open("GET",t,!0):n=null,n),!this._r)throw new Error("CORS is not supported")}},{key:"f",value:function(e){return this._fC=e,this}},{key:"s",value:function(e){return this._sC=e,this}},{key:"a",value:function(e){return this._aC=e,this}},{key:"_iSC",value:function(e){if(this._sC&&200===e.target.status){try{this._sC(this._r.responseText,e,this._r)}catch(e){c.common.Logger.error(e)}if(this._aC)try{this._aC(e)}catch(e){c.common.Logger.error(e)}}else this._iFC(e)}},{key:"_iFC",value:function(e){if(this._fC)try{this._fC(this._r.responseText,e)}catch(e){c.common.Logger.error(e)}if(this._aC)try{this._aC(this._r.responseText,e)}catch(e){c.common.Logger.error(e)}}},{key:"se",value:function(){void 0!==this._r&&null!==this._r||void 0===this._u||this._i(this._u),this._r.onload=this._iSC.bind(this),this._r.onerror=this._iFC.bind(this),this._r.send()}}]),e}());t[j]=function(e,t,n,i){for(var r=[[],[],[]],a=2;a<this.length;a++){var o=a;r[0][a-2]=e.toString().charAt(a),r[0][a-2]&&o--;var s=t.toString().length-2;if(r[1][a-2]=t.toString().charAt(s-a),r[1][a-2]&&o--,r[2][a-2]=n.toString().charAt(a),r[2][a-2]&&o--,1==o)break}return this[U](r)};var W=function(){function e(){I()(this,e),this.LOCALSTORAGE_SID_PARAM_NAME="ff_sid",this.REQUEST_SID_PARAM_NAME="sid",this.SESSION_ID_LENGTH=30}return E()(e,[{key:"checkSession",value:function(e){if(!0!==c.communication.globalCommunicationParameter.isSessionIdDisabled){var t=c.common.localStorage,n=c.communication.globalCommunicationParameter.sid,i=this.readSessionIdFromLocalstorage(),r=this.readSessionIdFromRequestParams();if(n)return void(i!==(e.sid=n)&&t.setItem(this.LOCALSTORAGE_SID_PARAM_NAME,n));i||(r?(c.common.isArray(r)&&(r=r[0]),t.setItem(this.LOCALSTORAGE_SID_PARAM_NAME,r)):this.readSessionIdFromLocalstorage(!0)),e.sid=this.readSessionIdFromLocalstorage()}}},{key:"readSessionIdFromLocalstorage",value:function(e){if(!0!==c.communication.globalCommunicationParameter.isSessionIdDisabled){var t=c.common.localStorage;return t.getItem(this.LOCALSTORAGE_SID_PARAM_NAME)||!0!==e||t.setItem(this.LOCALSTORAGE_SID_PARAM_NAME,c.common.randomString(this.SESSION_ID_LENGTH)),t.getItem(this.LOCALSTORAGE_SID_PARAM_NAME)}}},{key:"writeSessionIdToUrl",value:function(e){var t=c.communication.globalCommunicationParameter;if(!0!==t.isSessionIdDisabled&&!0===t.useUrlParameter){var n=this.readSessionIdFromRequestParams(!1);if(n&&void 0!==n[0]&&n[0]===e)return;if(e)c.common.localStorage.setItem(e),c.common.setUrlParameter(this.REQUEST_SID_PARAM_NAME,e,t.sortUrlParametersAlphabetically);else if(!n){var i=this.readSessionIdFromLocalstorage(!0);c.common.setUrlParameter(this.REQUEST_SID_PARAM_NAME,i,t.sortUrlParametersAlphabetically)}}}},{key:"readSessionIdFromRequestParams",value:function(e){var t=c.common.urlStringToDict()[this.REQUEST_SID_PARAM_NAME];return t||!0!==e||(t=this.readSessionIdFromLocalstorage(!0),this.writeSessionIdToUrl(t)),t}}]),e}(),G=new(e.SessionManager=W);e.sessionManager=G;var X=function(){function e(){I()(this,e),this.requestBuilder=new k.FFRequestUrlBuilder,this.sessionManager=c.communication.sessionManager,this.neededClickInfo=["id","sid","query","pos","origPos","page","origPageSize"],this.neededCartInfo=["id","sid","count"],this.neededCheckoutInfo=["id","sid","count"],this.neededRecoInfo=["id","sid","mainId"],this.neededLoginInfo=["userId","sid"],this.neededSearchFeedbackInfo=["id","sid","query","positive"]}return E()(e,[{key:"click",value:function(e){this.sessionManager.checkSession(e),!0===this.checkNeededParamsAvailable(this.neededClickInfo,e)&&(e.event="click",this._sendRequest(e))}},{key:"cart",value:function(e){this.sessionManager.checkSession(e),!0===this.checkNeededParamsAvailable(this.neededCartInfo,e)&&(e.event="cart",this._sendRequest(e))}},{key:"checkout",value:function(e){this.sessionManager.checkSession(e),!0===this.checkNeededParamsAvailable(this.neededCheckoutInfo,e)&&(e.event="checkout",this._sendRequest(e))}},{key:"login",value:function(e){this.sessionManager.checkSession(e),!0===this.checkNeededParamsAvailable(this.neededLoginInfo,e)&&(e.event="login",this._sendRequest(e))}},{key:"recommendationClick",value:function(e){this.sessionManager.checkSession(e),!0===this.checkNeededParamsAvailable(this.neededRecoInfo,e)&&(e.event="recommendationClick",this._sendRequest(e))}},{key:"searchFeedback",value:function(e){this.sessionManager.checkSession(e),!0===this.checkNeededParamsAvailable(this.neededSearchFeedbackInfo,e)&&(e.event="feedback",this._sendRequest(e))}},{key:"checkNeededParamsAvailable",value:function(e,t){for(var n=0;n<e.length;n++){var i=e[n];if(!t.hasOwnProperty(i))return!1}return!0}},{key:"_sendRequest",value:function(e){if(!e.channel){var t=c.common.getParameterString();if(t){var n=c.common.parameterStringToDict(t);n.channel&&(e.channel=n.channel)}e.channel||(e.channel=c.communication.globalSearchParameter.channel)}var i=c.communication.globalCommunicationParameter.addTrackingParams;if(i)try{for(var r=i.trim().split(","),a=0;a<r.length;a++){var o=r[a];try{var s=o.split("="),u=s[0].trim(),l=s[1].trim();e[u]=l}catch(e){}}}catch(e){}var d=this.requestBuilder.buildTrackingUrl(c.common.encodeDict(e));e.success||(e.success=function(){}),new K(d,!1).s(e.success).f(e.fail).a(e.always).se()}}]),e}(),Y=new(e.Tracking12=X);e.trackingManager=Y,t[r]=function(e){return e[0].concat(e[1]).concat(e[2])};var $=c.common.Logger,J=new k.FFRequestUrlBuilder;function Q(e){var t=c.communication.globalCommunicationParameter;if(t.addParams){var n=t.addParams.trim().split(",");try{for(var i=0;i<n.length;i++){var r=n[i];try{var a=r.split("="),o=a[0].trim(),s=a[1].trim();e[o]=s}catch(t){}}}catch(t){}}if(!0===t.keepFilters){var u=c.communication.FFCommunicationEventAggregator.currentSearchResult;u&&(u.filters||[]).forEach(function(t){e["filter"+t.name]=t.valueList[0].value})}if(t.keepUrlParams){n=t.keepUrlParams.trim().split(",");var l=c.common.urlStringToDict();try{if(1===n.length&&"all"===n[0])for(var d in l)c.common.isFFParameter(d)||(e[d]=l[d]);else for(i=0;i<n.length;i++){var h=n[i].trim();h&&l&&l[h]&&(e[h]=l[h])}}catch(t){}}!1===t.useAsn&&(e.useAsn="false"),1==t.useFoundWords&&(e.useFoundWords="true"),0==t.useCampaigns&&(e.useCampaigns="false"),1==t.generateAdvisorTree&&(e.generateAdvisorTree="true"),1==t.disableCache&&(e.disableCache="true"),0==t.usePersonalization&&(e.usePersonalization="false"),0==t.useSemanticEnhancer&&(e.useSemanticEnhancer="false"),0==t.useAso&&(e.useAso="false"),1==t.useSeo&&c.communication.Util.handleSeoSearch(e),c.communication.globalCommunicationParameter.singleHitRedirect&&"true"===c.common.localStorage.getItem("ff_no_redirect")&&(e.ff_no_redirect=!0,c.common.localStorage.setItem("ff_no_redirect")),ne(e),te(e.url?e.url:J.buildSearchRequestUrl(e),e,!0)}var Z={};Z.search=Q,Z.filter=function(e){if(c.communication.FFCommunicationEventAggregator.currentSearchResult&&c.communication.FFCommunicationEventAggregator.currentSearchResult.groups){ne(e);var t=c.common.urlStringToDict(c.communication.FFCommunicationEventAggregator.currentSearchResult.searchParams);for(var n in t)t.hasOwnProperty(n)&&/^sort/i.test(n)&&(e[n]=t[n]);t.productsPerPage&&(e.productsPerPage=t.productsPerPage);for(var i=decodeURIComponent(e.groupName),r=0;r<c.communication.FFCommunicationEventAggregator.currentSearchResult.groups.length;r++){var a=c.communication.FFCommunicationEventAggregator.currentSearchResult.groups[r];if(i==a.name){if(e.removeAll){delete e.removeAll;var o=!1,s=function(e){if(o)for(var n in t)t.hasOwnProperty(n)&&0===n.indexOf("filterCategoryROOT")&&delete t[n];else{var i=c.common.fixedEncodeURIComponent(e.associatedFieldName).replace(/%20/g,"+");delete t["filter"+i]}};return"slider"===a.filterStyle.toLowerCase()?a.elements.forEach(s):("tree"===a.filterStyle.toLowerCase()&&(o=!0),a.selectedElements.forEach(s)),void te(J.buildFilterUrl(e,c.common.dictToParameterString(t,c.communication.globalCommunicationParameter.sortUrlParametersAlphabetically)),e,!0)}var u=decodeURIComponent(e.filterName),l=e.clusterLevel;delete e.clusterLevel;for(var d=0;d<a.selectedElements.length;d++)if((h=a.selectedElements[d]).name==u&&h.clusterLevel==l)return void te(J.buildFilterUrl(e,h.searchParams),e,!0);for(d=0;d<a.elements.length;d++){var h;if((h=a.elements[d]).name==u&&(void 0===l||h.clusterLevel==l))return void te(J.buildFilterUrl(e,h.searchParams),e,!0)}}}$.log("filter ["+e.filterName+"] in group ["+i+"] not found.")}else $.log("discard filter event. no result available, you need to search before you can filter the result.")},Z.clearFilter=function(e){if("true"===e.removeParams)c.communication.FFCommunicationEventAggregator.addFFEvent({type:"search",query:c.communication.Util.getQueryFromSearchParams()});else{var t=c.common.urlStringToDict(c.communication.FFCommunicationEventAggregator.currentSearchResult.searchParams);for(var n in t)t.hasOwnProperty(n)&&"filter"===n.substr(0,"filter".length)&&delete t[n];e.type="search",delete e.removeParams,ne(e),te(J._buildUrlByFFParamString(c.common.dictToParameterString(t,c.communication.globalCommunicationParameter.sortUrlParametersAlphabetically),e),e,!0)}},Z.bct=function(e){if(c.communication.FFCommunicationEventAggregator.currentSearchResult&&c.communication.FFCommunicationEventAggregator.currentSearchResult.breadCrumbTrailItems){for(var t=0;t<c.communication.FFCommunicationEventAggregator.currentSearchResult.breadCrumbTrailItems.length;t++){var n=c.communication.FFCommunicationEventAggregator.currentSearchResult.breadCrumbTrailItems[t];if(decodeURIComponent(e.value)===n.value)return ne(e),void te(J.buildBreadCrumbUrl(e,n.searchParams),e,!0)}$.log("no bread crumb trail item found for value: "+e.value)}else $.log("discard breadCrumbTrail event. no result available, you need to search before you can use the bct.")},Z.sort=function(e){if(c.communication.FFCommunicationEventAggregator.currentSearchResult&&c.communication.FFCommunicationEventAggregator.currentSearchResult.sortsList){for(var t=0;t<c.communication.FFCommunicationEventAggregator.currentSearchResult.sortsList.length;t++){var n=c.communication.FFCommunicationEventAggregator.currentSearchResult.sortsList[t];if(decodeURIComponent(e.value)===n.description)return e.useAsn="false",ne(e,["records","sort","paging","ppp","pagingItems","campaign","singleWordSearch","result"]),void te(J.buildSortUrl(e,n.searchParams),e,!0)}$.log("no sort item found for value: "+e.value)}else $.log("discard sort event. no result available, you need to search before you can sort the result.")},Z.ppp=function(e){if(c.communication.FFCommunicationEventAggregator.currentSearchResult&&c.communication.FFCommunicationEventAggregator.currentSearchResult.resultsPerPageList){for(var t=0;t<c.communication.FFCommunicationEventAggregator.currentSearchResult.resultsPerPageList.length;t++){var n=c.communication.FFCommunicationEventAggregator.currentSearchResult.resultsPerPageList[t];if(e.value===n.value)return e.useAsn="false",ne(e,["records","paging","ppp","pagingItems","campaign","singleWordSearch","result"]),void te(J.buildProductsPerPageUrl(e,n.searchParams),e,!0)}$.log("no products per page item found for value: "+e.value)}else $.log("discard products per page event. no result available, you need to search before you can use products per page.")},Z.paging=function(e){if(c.communication.FFCommunicationEventAggregator.currentSearchResult&&c.communication.FFCommunicationEventAggregator.currentSearchResult.paging){var t,n=function(e,t){return e&&e.number===t.number},i=c.communication.FFCommunicationEventAggregator.currentSearchResult.paging;n(i.firstLink,e)?t=i.firstLink:n(i.lastLink,e)?t=i.lastLink:n(i.previousLink,e)?t=i.previousLink:n(i.nextLink,e)&&(t=i.nextLink),t||i.pageLinks&&i.pageLinks.forEach(function(i){n(i,e)&&(t=i)}),t?(e.useAsn="false",delete e.number,ne(e,["records","paging","ppp","pagingItems","campaign","singleWordSearch","result"]),te(J.buildPagingUrl(e,t.searchParams),e,!0)):$.log("no paging item found for value: "+e.number)}},Z.suggest=function(e){ne(e,["suggest"]),te(e.url?e.url:J.buildSuggestUrl(e),e,!1)},Z.suggestItem=function(e){var t=e["ff-suggestParams"],n=J.buildUrlByString(t,c.communication.globalSearchParameter.url,c.communication.globalSearchParameter.version,{removeFFPrefix:!0});delete e["ff-suggestParams"],e.type="search",e.url=n,Q(e)},Z.productDetail=function(e){ne(e,["productDetail"]),te(e.url?e.url:J.buildProductDetailUrl(e),e,!1)},Z.tagCloud=function(e){ne(e,["tagCloud"]),te(J.buildTagCloudUrl(e),e,!1)},Z.navigation=function(e){c.communication.FFCommunicationEventAggregator.navigationResult={},c.communication.FFCommunicationEventAggregator.navigationLayer={};var t=Number(e.firstFetch);t<0&&(t=0);var n=Number(e.fetchSize);n<0&&(n=1);var i=Number(e.maxFetch);10<i&&(i=10);var r=Number(e.fetchTime);r<0&&(r=100),function e(t,n,i,r,a,o){o={};c.communication.sessionManager.checkSession(o),o.type="navigation",o.startLevel=t,o.endLevel=n,o.initialNavigation=!0,o.navigation=!0;var s;o.success=function(t){var s=n+1,u=s+r;u<=i+r&&(10<u&&(u=10),i<u&&(u=i),window.setTimeout(function(){e(s,u,i,r,a,o)},a)),c.communication.ResultDispatcher.dispatchNavigationFrame(t,o)},te((s=o).url?s.url:J.buildInitialNavigationRequestUrl(s),s,!1)}(0,t,i,n,r,e)},Z["navigation-search"]=function(e){e.type="search",e.navigation="true";var t=[];for(var n in e)0===n.indexOf("filter")&&(t.push({key:n,value:e[n]}),e[n]=decodeURIComponent(e[n]));ne(e),te(e.url?e.url:J.buildNavigationRequestUrl(e,t),e,!0)},Z.similarProducts=function(e){ne(e,["similarProducts"]),te(J.buildSimilarProductsUrl(e),e,!1)},Z.advisor=function(e){var t=c.common.getParameterString(e.answer.params),n=c.common.parameterStringToDict(t),i=c.common.mergeProperties(e,n);delete i.answer,delete i.type,Q(i),i.type="search"},Z.productCampaign=function(e){ne(e,["productCampaign"]),te(J.buildProductCampaignUrl(e),e,!1)},Z.shoppingCartCampaign=function(e){ne(e,["shoppingCartCampaign"]),te(J.buildShoppingCartCampaignUrl(e),e,!1)},Z.pageCampaigns=function(e){ne(e,["pageCampaigns"]),te(J.buildPageCampaignUrl(e),e,!1)},Z.recommendation=function(e){ne(e,["recommendation"]),te(J.buildRecommendationUrl(e),e,!1)},Z.compare=function(e){c.common.isArray(e.ids)?e.ids.length<2?console.warn("Not at least 2 ids in this compare event",e):(ne(e,["compare"]),te(J.buildCompareUrl(e),e,!1)):console.warn("No ids in this compare event",e)},Z.getRecords=function(e){ne(e,["getRecords"]),te(J.buildGetRecordsUrl(e),e,!1)},e.eventFunctions=Z;var ee=function(){function t(){I()(this,t)}return E()(t,[{key:"addFFEvent",value:function(t){t.type?-1<t.type.indexOf("recommendation")?e.eventFunctions.recommendation(t):-1<t.type.indexOf("compare")?e.eventFunctions.compare(t):null!=e.eventFunctions[t.type]?e.eventFunctions[t.type](t):$.log("event could not be dispatched. no valid type specified - type ["+t.type+"]"):$.log("event could not be dispatched. no type specified")}}]),t}();function te(e,t,n){var i=new K(e,n,t);i.s(t.success),i.f(t.fail),i.a(t.always),i.se()}function ne(e,t){var n,i;i=function(n){if(n&&n.searchResult&&n.searchResult.fieldRoles&&n.searchResult.fieldRoles&&(c.communication.fieldRoles=n.searchResult.fieldRoles),function(e,t){var n,i,r,a=c.communication.globalCommunicationParameter;if(a.currencyCode&&a.currencyCountryCode){var o=c.communication,s=t.searchResult||t,u=s.fieldRoles||o.fieldRoles;if(u){var l=a.currencyFields.split(","),d=!1;if(l.forEach(function(e){"price"===e&&(d=!0)}),d||l.push("price"),"search"===e.type||"filter"===e.type||"sort"===e.type||"ppp"===e.type||"paging"===e.type||"navigation"===e.type||"bct"===e.type)re(s.records,u,l),s.groups&&s.groups.forEach(function(e){var t,n,i;i=u,((n=t=e).elements[0]||n.selectedElements[0]).associatedFieldName===i.price&&"SLIDER"!==t.filterStyle&&(t.elements.forEach(function(e){e.__ORIG_NAME__=e.name,t.unit&&(e.name=e.name.replace(t.unit,"")),e.name=ae(e.name)}),t.selectedElements.forEach(function(e){e.__ORIG_NAME__=e.name,t.unit&&(e.name=e.name.replace(t.unit,"")),e.name=ae(e.name)}))}),s.campaigns&&s.campaigns.forEach(function(e){var t=e.pushedProductsRecords;t&&re(t,u,l)});else if("suggest"===e.type)n=t.suggestions||t,i=u,r=l,n.forEach(function(e){r.forEach(function(t){var n=i[t]||t,r=e.attributes[n];r&&(e.attributes["__ORIG_"+n.toUpperCase()+"__"]=r,e.attributes[n]=ae(r))})});else if(e.type&&(-1<e.type.indexOf("recommendation")||"similarProducts"===e.type))try{var h=t.resultRecords||t.records||t;h&&re(h,u,l)}catch(e){console.log(e)}else"productCampaign"!==e.type&&"pageCampaigns"!==e.type&&"shoppingCartCampaign"!==e.type||t&&t.forEach(function(e){e.pushedProductsRecords&&re(e.pushedProductsRecords,u,l)})}else $.warn("No field roles configured, skipping price localization. See https://web-components.fact-finder.de/documentation/field-roles")}}(e,n),function(e,t){"productCampaign"===e.type||"pageCampaigns"===e.type?t&&ie(t):ie((t.searchResult||t).campaigns)}(e,n),n.searchResult){if(n.searchResult.timedOut&&$.debug("FACT-Finder Timeout for request: "+e.type),!function(e,t){if("search"===e.type&&c.communication.globalCommunicationParameter.singleHitRedirect&&!e.ff_no_redirect){var n=t.searchResult;if("resultsFound"===n.resultStatus&&n.records&&1==n.records.length){var i=t.searchResult.records[0].record,r=i.Deeplink;if(!r&&c.communication.fieldRoles)r=i[c.communication.fieldRoles.deeplink];if(r){c.common.localStorage.setItem("ff_no_redirect","true");var a=c.communication.globalCommunicationParameter.singleHitRedirectBasePath;return c.common.isOk(a)&&(r=a+r),window.open(r,"_self"),!1}console.log("no deeplink in record to auto load product page")}}return!0}(e,n))return;var i,r;"sort"===e.type||"ppp"===e.type||"paging"===e.type?(c.communication.FFCommunicationEventAggregator.currentSearchResult&&(i=c.communication.FFCommunicationEventAggregator.currentSearchResult.groups,r=c.communication.FFCommunicationEventAggregator.currentSearchResult.breadCrumbTrailItems),c.communication.FFCommunicationEventAggregator.currentSearchResult=n.searchResult,c.communication.FFCommunicationEventAggregator.currentSearchResult.groups=i,c.communication.FFCommunicationEventAggregator.currentSearchResult.breadCrumbTrailItems=r):e.topics||(c.communication.FFCommunicationEventAggregator.currentSearchResult=n.searchResult),c.communication.Util.replaceHistoryState(n,window.location.href,e)}var a,o;c.communication.ResultDispatcher.dispatch(n,e,(o=t,(a=e).topics&&"function"==typeof a.topics&&(o=a.topics()),o))},(n=e).success?n.success=c.common.concatFunctions(i,n.success):n.success=i}function ie(e){e&&c.common.isArray(e)&&e.forEach(function(e){var t=e.pushedProductsRecords;t&&t.forEach(function(e,t){e.position=t+1})})}function re(e,t,n){e.forEach(function(e){n.forEach(function(n){var i=t[n]||n,r=e.record[i];e.record["__ORIG_"+i.toUpperCase()+"__"]=r,e.record[i]=ae(r)})})}function ae(e){if(e){var t=c.communication.globalCommunicationParameter.currencyCode,n=c.communication.globalCommunicationParameter.currencyCountryCode,i=parseInt(c.communication.globalCommunicationParameter.currencyMaxDigits),r=parseInt(c.communication.globalCommunicationParameter.currencyMinDigits);if(e.match(/[^$,.\d]/g)){var a=e.replace(/[^0-9.]+/g," ").split(" "),o=[];a.forEach(function(e){if(e){var t=parseFloat(e);isNaN(t)||o.push(e)}});var s=o.slice();return o=o.map(function(e){return parseFloat(e).toLocaleString(n,{style:"currency",currency:t,maximumFractionDigits:i,minimumFractionDigits:r})}),s.forEach(function(t,n){e=e.replace(t,o[n])}),e}var u=parseFloat(e).toLocaleString(n,{style:"currency",currency:t,maximumFractionDigits:i,minimumFractionDigits:r});return u+""=="NaN"?e:u}}e.FFCommunicationHandler=ee;var oe=function(e){function t(){return I()(this,t),T()(this,A()(t).apply(this,arguments))}return L()(t,e),t}(c.communication.FFCommunicationHandler);e.FF611CommunicationHandler=oe,t[i]=function(e){var t={};e.checkSession(t);for(var n=[],i=0;i<t.sid.length;i++)n.push(t.sid.charCodeAt(i).toString(16));return n.join("$")};var se=function(e){function t(){return I()(this,t),T()(this,A()(t).apply(this,arguments))}return L()(t,e),t}(c.communication.FFCommunicationHandler);e.FF70CommunicationHandler=se;var ce,ue,le,de,he,fe,pe,me,ge=function(e){function t(){return I()(this,t),T()(this,A()(t).apply(this,arguments))}return L()(t,e),t}(c.communication.FFCommunicationHandler);e.FF71CommunicationHandler=ge,t[U]=function(e){for(var t=this[D](),n=[],i=0;i<3;i++){var r="";e[i].forEach(function(e){for(var n=0;n<6;n++)r+=t.charAt(+e+10*n)}),n.push(r)}return n.push(t),n},ce=e.FFCommunicationEventAggregator||(e.FFCommunicationEventAggregator={}),ue=new c.communication.FF611CommunicationHandler,le=new c.communication.FF70CommunicationHandler,de=new c.communication.FF71CommunicationHandler,he=c.common.Logger,fe=[],pe=[],me=c.communication.globalSearchParameter,ce.eventCounter=0,ce.navigationResult={},ce.navigationLayer={},ce.beforeHistoryPushCallbacks=[],ce.addFFEvent=function(e){if(e.dispatchId=++ce.eventCounter,!e.version)try{e.version=parseFloat(me.version)}catch(e){this.logger.error(e)}if(!e.channel){var t=c.common.getParameterString();if(t){var n=c.common.parameterStringToDict(t);n.channel&&(e.channel=n.channel,me.channel=e.channel)}e.channel||(e.channel=me.channel)}for(var i=0;i<fe.length;i++){var r=fe[i];e.fail?e.fail=c.common.concatFunctions(e.fail,r.fn):e.fail=r.fn}c.communication.sessionManager.checkSession(e);var a,o=e.type;for(var s in c.common.encodeDict(e),e.type=o,e){var u=e[s];try{c.common.isArray(u)&&1===u.length&&(e[s]=u[0])}catch(e){}}for(i=0;i<pe.length;i++){r=pe[i];try{r.fn(e)}catch(e){console.log("Could not execute beforeDispatchingCallback: "+e)}}return e.query&&(e.query=c.common.fixedDecodeURIComponent(e.query).replace(/<.*>/g,""),e.query=c.common.fixedEncodeURIComponent(e.query)),me.url&&e.channel&&e.version||(he.error('Required search params are not available: [url(globalSearchParameter): "'.concat(me.url,'"], [url(event): "').concat(e.url,'"], [channel: "').concat(e.channel,'"], [version:"').concat(e.version,'"]')),he.warn("At the time this event was emitted no configuration was available, See https://web-components.fact-finder.de/documentation/ready-events",e)),6.9==(a=e).version||a[0]&&6.9==a[0]?(he.debug("dispatch event to FF6.9 component."),ue.addFFEvent(a)):6.11==a.version||a[0]&&6.11==a[0]?(he.debug("dispatch event to FF6.11 component."),ue.addFFEvent(a)):7==a.version||a[0]&&7==a[0]?(he.debug("dispatch event to FF7.0 component."),le.addFFEvent(a)):(7.1==a.version||a[0]&&7.1==a[0]?he.debug("dispatch event to FF7.1 component."):7.2==a.version||a[0]&&7.2==a[0]?he.debug("dispatch event to FF7.2 component."):7.3==a.version||a[0]&&7.3==a[0]?he.debug("dispatch event to FF7.3 component."):he.debug("default to 7.2 component."),de.addFFEvent(a)),e.dispatchId},ce.removeFailCallback=function(e){for(var t=0;t<fe.length;t++)if(fe[t].key===e)return fe.splice(t,1),!0;return!1},ce.addBeforeHistoryPushCallback=function(e){if(e){var t=c.common.randomString(20);return ce.beforeHistoryPushCallbacks.push({fn:e,key:t}),t}c.common.Logger.debug("addBeforeHistoryPushCallback: fn is undefined")},ce.removeBeforeHistoryPushCallback=function(e){for(var t=0;t<ce.beforeHistoryPushCallbacks.length;t++)if(ce.beforeHistoryPushCallbacks[t].key===e)return fe.splice(t,1),!0;return!1},ce.addFailCallback=function(e){if(e){var t=c.common.randomString(20);return fe.push({fn:e,key:t}),t}c.common.Logger.debug("addFailCallback: fn is undefined")},ce.removeBeforeDispatchingCallback=function(e){for(var t=0;t<pe.length;t++)if(pe[t].key===e)return pe.splice(t,1),!0;return!1},ce.addBeforeDispatchingCallback=function(e){if(e){var t=c.common.randomString(20);return pe.push({fn:e,key:t}),t}c.common.Logger.debug("addBeforeDispatchingCallback: fn is undefined")},ce.getCurrentResult=function(e){return ce.currentSearchResult}}((c=b||(b={})).communication||(c.communication={})),((l=(u=b||(b={})).middleware||(u.middleware={})).response||(l.response={})).use=function(e){u.communication.ResultDispatcher.addCallback(e.topic,e.handler,void 0)},((h=(d=b||(b={})).middleware||(d.middleware={})).response||(h.response={})).MultiAttributeParsing=function(e){var t=e||{},n=t.srcProperty,i=void 0===n?void 0:n,r=t.storeInProperty,a=void 0===r?void 0:r,o=t.keepOriginalInProperty,s=void 0===o?void 0:o,c=t.entrySeparator,u=void 0===c?"|":c,l=t.keyValueSeparator,h=void 0===l?"=":l;if(!i||"string"!=typeof i)throw f("srcProperty");if(!a||"string"!=typeof a)throw f("storeInProperty");if(void 0!==s&&("string"!=typeof s||""===s))throw p("keepOriginalInProperty");if("string"!=typeof u||""===u)throw p("entrySeparator");if("string"!=typeof h||""===h)throw p("keyValueSeparator");return Object.freeze({topic:"records",handler:function(e){0!==e.length&&(e[0].record.hasOwnProperty(i)?e.forEach(function(e){var t=e.record,n=t[i];"string"==typeof n?(t.hasOwnProperty([a])&&a!==i&&m("Overwriting storeInProperty '".concat(a,"'")),t[a]=n.split(u).filter(function(e){return!!e}).map(function(e){return e.split(h)}).reduce(function(e,t){var n=t[0].split("~~"),i=w()(n,2),r=i[0],a=i[1];return e[r]=e[r]||[],e[r].push({unit:a,value:t[1]}),e},{}),s&&(t[s]=n)):m("Cannot parse srcProperty '".concat(i,"'. Must be of type 'string', but was '").concat(N()(n),"'. Check if srcProperty is configured correctly"))}):m("srcProperty '".concat(i,"' not found on record")))}});function f(e){return Error(g("Required attribute options.".concat(e," must be a non-empty string")))}function p(e){return Error(g("Optional attribute options.".concat(e," was set to invalid value. Must be a non-empty string")))}function m(e){d.common.Logger.warn(g(e))}function g(e){return"[Middleware:MultiAttributeParsing] ".concat(e)}},((p=(f=b||(b={})).middleware||(f.middleware={})).response||(p.response={})).ProductTeaserCampaignProcessor=function(){return Object.freeze({topic:"result",handler:D})},function(e){e.RendererOptions=function e(){I()(this,e),this.append=!0,this.returnAsString=!0};var t=function(){function e(){I()(this,e),this.renderer=m.libs.mustache}return E()(e,[{key:"render",value:function(e,t,n,i){if(e.childNodes){var r=document.createElement("div");r.appendChild(e),e=r.innerHTML}var a;try{a=this.renderer.render(e,t)}catch(t){return console.error?console.error("could not render template: "+e,t):console.log("could not render template: "+e,t),""}if(n&&n.childNodes){var o=document.createElement("div");o.innerHTML=a;for(var s=0;s<o.childNodes.length;s++){var c=o.childNodes[s];if(!i||i&&1==i.append)n.appendChild(c);else{var u=n.firstChild;u&&n.insertBefore(c,u)}}}if(i&&!1===i.returnAsString){var l=document.createElement("div");return l.innerHTML=a,l.isWrapper=!0,l.firstElementChild}return a}}]),e}();e.TemplateRenderer=t}((m=b||(b={})).html||(m.html={})),v=(g=b||(b={})).html||(g.html={}),y=function(){function e(){I()(this,e),this.templateRenderer=new g.html.TemplateRenderer}return E()(e,[{key:"processAsnElement",value:function(e,t,n,i,r){var a,o={group:n,element:t};return e instanceof Array?a=t.selected?e[0]:e[1]:e instanceof HTMLElement?a=e:e instanceof Object?a=t.selected?e.selected:e.unselected:g.common.Logger.error("Could not read templates. Parameter[templates] needs to be an array OR an object with selected/unselected properties."),this.templateRenderer.render(a,o,i,r)}},{key:"processDetailedLinks",value:function(e,t,n,i){n||((n=document.createElement("div")).isWrapper=!0);for(var r=0;r<t.detailedLinks&&r<t.elements.length;r++){var a=t.elements[r];this.processAsnElement(e,a,t,n,i)}return n}},{key:"processHiddenLinks",value:function(e,t,n,i){n||((n=document.createElement("div")).isWrapper=!0);for(var r=t.detailedLinks;r<t.elements.length;r++){var a=t.elements[r];this.processAsnElement(e,a,t,n,i)}return n}}]),e}(),v.AsnRenderer=y,(_=b).isReady=!0,setTimeout(function(){return _.common.fireCustomEvent("ffReady",!0,!1,document)})},function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}e.exports=function(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),e}},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t,n){n(0);var i=n(67);function r(t,n,a){return"undefined"!=typeof Reflect&&Reflect.get?e.exports=r=Reflect.get:e.exports=r=function(e,t,n){var r=i(e,t);if(r){var a=Object.getOwnPropertyDescriptor(r,t);return a.get?a.get.call(n):a.value}},r(t,n,a||t)}e.exports=r},function(e,t,n){var i=n(17),r=n(12);e.exports=function(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?r(e):t}},function(e,t,n){var i=n(50);e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}},function(e,t,n){"use strict";var i=n(3),r=n.n(i),a=n(2),o=n.n(a),s=n(5),c=n.n(s),u=n(0),l=n.n(u),d=n(4),h=n.n(d),f=n(6),p=n.n(f),m=n(8),g=n(23),v=n(14),y=NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_COMMENT|NodeFilter.SHOW_TEXT;function b(e,t){for(var n=e.element.content,i=e.parts,r=document.createTreeWalker(n,y,null,!1),a=k(i),o=i[a],s=-1,c=0,u=[],l=null;r.nextNode();){s++;var d=r.currentNode;for(d.previousSibling===l&&(l=null),t.has(d)&&(u.push(d),null===l&&(l=d)),null!==l&&c++;void 0!==o&&o.index===s;)o.index=null!==l?-1:o.index-c,o=i[a=k(i,a)]}u.forEach(function(e){return e.parentNode.removeChild(e)})}var _=function(e){for(var t=e.nodeType===Node.DOCUMENT_FRAGMENT_NODE?0:1,n=document.createTreeWalker(e,y,null,!1);n.nextNode();)t++;return t},k=function(e){for(var t=(1<arguments.length&&void 0!==arguments[1]?arguments[1]:-1)+1;t<e.length;t++){var n=e[t];if(Object(v.d)(n))return t}return-1},w=n(34),C=n(32),S=n(39),P=n(31),E=function(e,t){return"".concat(e,"--").concat(t)},x=!0;void 0===window.ShadyCSS?x=!1:void 0===window.ShadyCSS.prepareTemplateDom&&(console.warn("Incompatible ShadyCSS version detected.Please update to at least @webcomponents/webcomponentsjs@2.0.2 and@webcomponents/shadycss@1.3.1."),x=!1);var T=["html","svg"],O=new Set,A=n(22),R=n.n(A),L=n(17),F=n.n(L),I=n(55),M=n.n(I),N=n(57),D=n.n(N),U=n(35),j=n.n(U),B=n(21),H=n.n(B),q=function(e){return null!==e},V=function(e,t){return t!==e&&(t==t||e==e)},z={attribute:!0,type:String,reflect:!1,hasChanged:V},K=new Promise(function(e){return e(!0)}),W=function(e){function t(){var e;return r()(this,t),(e=c()(this,l()(t).call(this)))._updateState=0,e._instanceProperties=void 0,e._updatePromise=K,e._changedProperties=new Map,e._reflectingProperties=void 0,e.initialize(),e}var n;return p()(t,e),o()(t,[{key:"initialize",value:function(){this.renderRoot=this.createRenderRoot(),this._saveInstanceProperties()}},{key:"_saveInstanceProperties",value:function(){var e=!0,t=!1,n=void 0;try{for(var i,r=this.constructor._classProperties[Symbol.iterator]();!(e=(i=r.next()).done);e=!0){var a=j()(i.value,1)[0];if(this.hasOwnProperty(a)){var o=this[a];delete this[a],this._instanceProperties||(this._instanceProperties=new Map),this._instanceProperties.set(a,o)}}}catch(e){t=!0,n=e}finally{try{e||null==r.return||r.return()}finally{if(t)throw n}}}},{key:"_applyInstanceProperties",value:function(){var e=!0,t=!1,n=void 0;try{for(var i,r=this._instanceProperties[Symbol.iterator]();!(e=(i=r.next()).done);e=!0){var a=j()(i.value,2),o=a[0],s=a[1];this[o]=s}}catch(e){t=!0,n=e}finally{try{e||null==r.return||r.return()}finally{if(t)throw n}}this._instanceProperties=void 0}},{key:"createRenderRoot",value:function(){return this.attachShadow({mode:"open"})}},{key:"connectedCallback",value:function(){1&this._updateState?void 0!==window.ShadyCSS&&window.ShadyCSS.styleElement(this):this.requestUpdate()}},{key:"disconnectedCallback",value:function(){}},{key:"attributeChangedCallback",value:function(e,t,n){t!==n&&this._attributeToProperty(e,n)}},{key:"_propertyToAttribute",value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:z,i=this.constructor,r=i._propertyValueToAttribute(t,n);if(void 0!==r){var a=i._attributeNameForProperty(e,n);void 0!==a&&(this._updateState=8|this._updateState,null===r?this.removeAttribute(a):this.setAttribute(a,r),this._updateState=-9&this._updateState)}}},{key:"_attributeToProperty",value:function(e,t){if(!(8&this._updateState)){var n=this.constructor,i=n._attributeToPropertyMap.get(e);if(void 0!==i){var r=n._classProperties.get(i);this[i]=n._propertyValueFromAttribute(t,r)}}}},{key:"requestUpdate",value:function(e,t){if(void 0===e)return this._invalidate();var n=this.constructor._classProperties.get(e)||z;return this._requestPropertyUpdate(e,t,n)}},{key:"_requestPropertyUpdate",value:function(e,t,n){return this.constructor._valueHasChanged(this[e],t,n.hasChanged)?(this._changedProperties.has(e)||this._changedProperties.set(e,t),!0===n.reflect&&(void 0===this._reflectingProperties&&(this._reflectingProperties=new Map),this._reflectingProperties.set(e,n)),this._invalidate()):this.updateComplete}},{key:"_invalidate",value:(n=D()(M.a.mark(function e(){var t,n;return M.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this._hasRequestedUpdate){e.next=8;break}return this._updateState=4|this._updateState,n=this._updatePromise,this._updatePromise=new Promise(function(e){return t=e}),e.next=6,n;case 6:this._validate(),t(!this._hasRequestedUpdate);case 8:return e.abrupt("return",this.updateComplete);case 9:case"end":return e.stop()}},e,this)})),function(){return n.apply(this,arguments)})},{key:"_validate",value:function(){if(this._instanceProperties&&this._applyInstanceProperties(),this.shouldUpdate(this._changedProperties)){var e=this._changedProperties;this.update(e),this._markUpdated(),1&this._updateState||(this._updateState=1|this._updateState,this.firstUpdated(e)),this.updated(e)}else this._markUpdated()}},{key:"_markUpdated",value:function(){this._changedProperties=new Map,this._updateState=-5&this._updateState}},{key:"shouldUpdate",value:function(e){return!0}},{key:"update",value:function(e){if(void 0!==this._reflectingProperties&&0<this._reflectingProperties.size){var t=!0,n=!1,i=void 0;try{for(var r,a=this._reflectingProperties[Symbol.iterator]();!(t=(r=a.next()).done);t=!0){var o=j()(r.value,2),s=o[0],c=o[1];this._propertyToAttribute(s,this[s],c)}}catch(e){n=!0,i=e}finally{try{t||null==a.return||a.return()}finally{if(n)throw i}}this._reflectingProperties=void 0}}},{key:"updated",value:function(e){}},{key:"firstUpdated",value:function(e){}},{key:"_hasRequestedUpdate",get:function(){return 4&this._updateState}},{key:"updateComplete",get:function(){return this._updatePromise}}],[{key:"createProperty",value:function(e){var t=this,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:z;if(!this.hasOwnProperty("_classProperties")){this._classProperties=new Map;var i=Object.getPrototypeOf(this)._classProperties;void 0!==i&&i.forEach(function(e,n){return t._classProperties.set(n,e)})}if(this._classProperties.set(e,n),!this.prototype.hasOwnProperty(e)){var r="symbol"===F()(e)?Symbol():"__".concat(e);Object.defineProperty(this.prototype,e,{get:function(){return this[r]},set:function(t){var i=this[e];this[r]=t,this._requestPropertyUpdate(e,i,n)},configurable:!0,enumerable:!0})}}},{key:"_finalize",value:function(){if(!this.hasOwnProperty("_finalized")||!this._finalized){var e=Object.getPrototypeOf(this);"function"==typeof e._finalize&&e._finalize(),this._finalized=!0,this._attributeToPropertyMap=new Map;var t=this.properties,n=[].concat(R()(Object.getOwnPropertyNames(t)),R()("function"==typeof Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(t):[])),i=!0,r=!1,a=void 0;try{for(var o,s=n[Symbol.iterator]();!(i=(o=s.next()).done);i=!0){var c=o.value;this.createProperty(c,t[c])}}catch(e){r=!0,a=e}finally{try{i||null==s.return||s.return()}finally{if(r)throw a}}}}},{key:"_attributeNameForProperty",value:function(e,t){var n=void 0!==t&&t.attribute;return!1===n?void 0:"string"==typeof n?n:"string"==typeof e?e.toLowerCase():void 0}},{key:"_valueHasChanged",value:function(e,t){return(2<arguments.length&&void 0!==arguments[2]?arguments[2]:V)(e,t)}},{key:"_propertyValueFromAttribute",value:function(e,t){var n=t&&t.type;if(void 0===n)return e;var i=n===Boolean?q:"function"==typeof n?n:n.fromAttribute;return i?i(e):e}},{key:"_propertyValueToAttribute",value:function(e,t){if(void 0!==t&&void 0!==t.reflect)return(t.type===Boolean?function(e){return e?"":null}:t.type&&t.type.toAttribute||String)(e)}},{key:"observedAttributes",get:function(){this._finalize();var e=[],t=!0,n=!1,i=void 0;try{for(var r,a=this._classProperties[Symbol.iterator]();!(t=(r=a.next()).done);t=!0){var o=j()(r.value,2),s=o[0],c=o[1],u=this._attributeNameForProperty(s,c);void 0!==u&&(this._attributeToPropertyMap.set(u,s),e.push(u))}}catch(e){n=!0,i=e}finally{try{t||null==a.return||a.return()}finally{if(n)throw i}}return e}}]),t}(H()(HTMLElement));function G(e){return function(t){return function(n,i){Object.defineProperty(n,i,{get:function(){return e(this.renderRoot,t)},enumerable:!0,configurable:!0})}}}W._attributeToPropertyMap=new Map,W._finalized=!0,W._classProperties=new Map,W.properties={},G(function(e,t){return e.querySelector(t)}),G(function(e,t){return e.querySelectorAll(t)});var X=function(e){function t(){return r()(this,t),c()(this,l()(t).apply(this,arguments))}return p()(t,e),o()(t,[{key:"update",value:function(e){h()(l()(t.prototype),"update",this).call(this,e);var n=this.render();n instanceof m.d&&this.constructor.render(n,this.renderRoot,{scopeName:this.localName,eventContext:this})}},{key:"render",value:function(){}}]),t}(W);X.render=function(e,t,n){var i,r=n.scopeName,a=w.a.has(t),o=t instanceof ShadowRoot&&x&&e instanceof P.b,s=o&&!O.has(r),c=s?document.createDocumentFragment():t;if(Object(w.b)(e,c,Object.assign({templateFactory:(i=r,function(e){var t=E(e.type,i),n=C.a.get(t);void 0===n&&(n={stringsArray:new WeakMap,keyString:new Map},C.a.set(t,n));var r=n.stringsArray.get(e.strings);if(void 0!==r)return r;var a=e.strings.join(v.f);if(void 0===(r=n.keyString.get(a))){var o=e.getTemplateElement();x&&window.ShadyCSS.prepareTemplateDom(o,i),r=new v.a(e,o),n.keyString.set(a,r)}return n.stringsArray.set(e.strings,r),r})},n)),s){var u=w.a.get(c);w.a.delete(c),u.value instanceof S.a&&function(e,t,n){O.add(n);var i=e.querySelectorAll("style");if(0!==i.length){for(var r,a=document.createElement("style"),o=0;o<i.length;o++){var s=i[o];s.parentNode.removeChild(s),a.textContent+=s.textContent}if(r=n,T.forEach(function(e){var t=C.a.get(E(e,r));void 0!==t&&t.keyString.forEach(function(e){var t=e.element.content,n=new Set;Array.from(t.querySelectorAll("style")).forEach(function(e){n.add(e)}),b(e,n)})}),function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,i=e.element.content,r=e.parts;if(null!=n)for(var a=document.createTreeWalker(i,y,null,!1),o=k(r),s=0,c=-1;a.nextNode();)for(c++,a.currentNode===n&&(s=_(t),n.parentNode.insertBefore(t,n));-1!==o&&r[o].index===c;){if(0<s){for(;-1!==o;)r[o].index+=s,o=k(r,o);return}o=k(r,o)}else i.appendChild(t)}(t,a,t.element.content.firstChild),window.ShadyCSS.prepareTemplateStyles(t.element,n),window.ShadyCSS.nativeShadow){var c=t.element.content.querySelector("style");e.insertBefore(c.cloneNode(!0),e.firstChild)}else{t.element.content.insertBefore(a,t.element.content.firstChild);var u=new Set;u.add(a),b(t,u)}}}(c,u.value.template,r),Object(g.b)(t,t.firstChild),t.appendChild(c),w.a.set(t,u)}!a&&o&&window.ShadyCSS.styleElement(t.host)};var Y=n(1),$=n(9);n.d(t,"a",function(){return Q}),n.d(t,"e",function(){return Z}),n.d(t,"d",function(){return ee}),n.d(t,"c",function(){return te}),n.d(t,"b",function(){return ne});var J=Object.freeze({Comment:8}),Q=function(e){function t(){return r()(this,t),c()(this,l()(t).apply(this,arguments))}return p()(t,e),o()(t,[{key:"createRenderRoot",value:function(){return this}},{key:"showSelf",value:function(){this.classList.remove("ffw-hidden")}},{key:"hideSelf",value:function(){this.classList.add("ffw-hidden")}},{key:"shouldUpdate",value:function(e){return this._preprocessBooleanProperties(e),!0}},{key:"connectedCallback",value:function(){h()(l()(t.prototype),"connectedCallback",this).call(this),this._preprocessBooleanProperties(this.constructor._classProperties)}},{key:"_preprocessBooleanProperties",value:function(e){var t=this;e.forEach(function(e,n){var i,r,a;t.constructor._classProperties.get(n).type===te&&(i=t[n],"true"!==(r=String(i).toLowerCase())&&"false"!==r&&Y.a.common.Logger.error("".concat(t.constructor.is,": ")+"StringyBoolean property [".concat(n,"] is expected be either true or false, but is [").concat(t[n],"]. ")+"Falling back to false."),t[n]=(a=t[n],"true"===String(a).toLowerCase()))})}}]),t}(Object($.a)(["RemoveUnresolvedAttribute"],X));function Z(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if("string"==typeof e)return Object(m.g)([Y.a.libs.mustache.render(e,t)]);var n=document.createElement("div");return n.appendChild(e),Object(m.g)([Y.a.libs.mustache.render(n.innerHTML,t)])}function ee(e){return!e.innerHTML.trim()||Array.from(e.childNodes).every(function(e){return e.nodeType===J.Comment})}var te=String.bind({});function ne(e){return null==e?e:String(e)}},function(e,t,n){"use strict";var i=n(3),r=n.n(i),a=n(2),o=n.n(a),s=n(20),c=new(function(){function e(){r()(this,e)}return o()(e,[{key:"handleAttributeExpressions",value:function(e,t,n,i){var r=t[0];return"."===r?new s.f(e,t.slice(1),n).parts:"@"===r?[new s.d(e,t.slice(1),i.eventContext)]:"?"===r?[new s.c(e,t.slice(1),n)]:new s.a(e,t,n).parts}},{key:"handleTextExpression",value:function(e){return new s.e(e)}}]),e}()),u=n(31),l=n(33),d=n(23),h=(n(25),n(34)),f=(n(32),n(39),n(14));n.d(t,"g",function(){return p}),n.d(t,"f",function(){return l.a}),n.d(t,"h",function(){return d.b}),n.d(t,"j",function(){return d.c}),n.d(t,"a",function(){return s.b}),n.d(t,"b",function(){return s.e}),n.d(t,"c",function(){return s.g}),n.d(t,"i",function(){return h.b}),n.d(t,"d",function(){return u.b}),n.d(t,"e",function(){return f.c});var p=function(e){for(var t=arguments.length,n=new Array(1<t?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return new u.b(e,n,"html",c)}},function(e,t,n){"use strict";var i=n(3),r=n.n(i),a=n(2),o=n.n(a),s=n(5),c=n.n(s),u=n(0),l=n.n(u),d=n(6),h=n.n(d),f=n(1),p=n(52),m=n(51),g=n(4),v=n.n(g),y=n(30),b=n(13),_=n(53);n.d(t,"a",function(){return w});var k={CampaignHelper:function(e){return function(e){function t(){return r()(this,t),c()(this,l()(t).apply(this,arguments))}return h()(t,e),o()(t,[{key:"_recalcSubscriptionTopic",value:function(e,t){var n;return n=this._isProductCampaign()&&this._isShoppingCartCampaign()?(f.a.common.Logger.log("ff-campaign-pushed-products: Both attributes is-product-campaign and\n                is-shopping-cart-campaign are set - only one these attributes can be true. Ignoring is-shopping-cart-campaign"),"productCampaign"):this._isProductCampaign()?"productCampaign":this._isShoppingCartCampaign()?"shoppingCartCampaign":"campaign",n+=":".concat(e),this[t]&&(n+=":".concat(this[t])),n}},{key:"_isProductCampaign",value:function(){return!0===this.isProductCampaign}},{key:"_isShoppingCartCampaign",value:function(){return!0===this.isShoppingCartCampaign}}]),t}(e)},CollapseElement:p.CollapseElementBehavior,CssAttributeToggle:function(e){return function(e){function t(){var e,n=arguments;if(r()(this,t),(e=c()(this,l()(t).call(this)))[e.toggleFunctionName]){var i=e[e.toggleFunctionName];e.toggleFunctionName=function(){i.apply(n),e.toggleAttribute()}}if(!e.stateOneValue){var a=e.style[e.attributeName];e.stateOneValue=a||""}return e.immediate&&e.toggleAttribute(),e}return h()(t,e),o()(t,null,[{key:"properties",get:function(){return{toggleFunctionName:{type:String},immediate:{type:Boolean},attributeName:{type:String},stateOneValue:{type:String},stateTwoValue:{type:String}}}}]),o()(t,[{key:"toggleAttribute",value:function(){this.style[this.attributeName]===this.stateOneValue?this.style[this.attributeName]=this.stateTwoValue:this.style[this.attributeName]=this.stateOneValue}},{key:"activateStateTwo",value:function(){this.style[this.attributeName]=this.stateTwoValue}},{key:"activateStateOne",value:function(){this.style[this.attributeName]=this.stateOneValue}}]),t}(e)},ElementLog:m.ElementLogBehavior,LightDOMTemplate:function(e){return function(e){function t(){var e;return r()(this,t),(e=c()(this,l()(t).call(this)))._renderer=new f.a.html.TemplateRenderer,e}return h()(t,e),o()(t,null,[{key:"properties",get:function(){return{templateString:{type:String},model:{type:Object,observer:"_modelObserver"},stampImmediate:{type:Boolean,value:!1}}}}]),o()(t,[{key:"ready",value:function(){v()(l()(t.prototype),"ready",this).call(this),this.updateTemplate(),this.stampImmediate&&this.stamp()}},{key:"stamp",value:function(){var e=this._renderer.render(this.templateString,this.model);this.innerHTML=e}},{key:"updateTemplate",value:function(e){e?this.templateString=e:this.templateString||(this.templateString=this.innerHTML)}},{key:"_modelObserver",value:function(e,t){this.stamp()}}]),t}(e)},OpacityToggle:function(e){return function(e){function t(){return r()(this,t),c()(this,l()(t).apply(this,arguments))}return h()(t,e),o()(t,[{key:"connectedCallback",value:function(){var e=this;v()(l()(t.prototype),"connectedCallback",this).call(this),this._debounceJob=y.a.debounce(this._debounceJob,b.b.after(100),function(){return e.style.opacity="1"})}}]),t}(e)},RecordBinding:function(e){return function(e){function t(){var e;return r()(this,t),(e=c()(this,l()(t).call(this))).tracking=new f.a.communication.Tracking12,e}return h()(t,e),o()(t,null,[{key:"properties",get:function(){return{searchLightDOM:{type:Boolean,value:!0},productImageIdentifier:{type:"String",value:"[data-image]"},productImageErrorIdentifier:{type:"String",value:"[data-image-onerror]"},redirectIdentifier:{type:"String",value:"[data-redirect]"},redirectTargetIdentifier:{type:"String",value:"[data-redirect-target]"},productAnchorIdentifier:{type:"String",value:"[data-anchor]"},recommendationIdentifier:{type:"String",value:"data-recommendation"},bindImmediate:{type:Boolean,value:!1},disableOverwrite:{type:Boolean}}}}]),o()(t,[{key:"ready",value:function(){v()(l()(t.prototype),"ready",this).call(this),this.bindImmediate&&(this.bindProductAnchors(),this.bindProductActions(),this.bindProductImage())}},{key:"bindProductActions",value:function(){this._bindProductRedirect()}},{key:"bindProductImage",value:function(){this.searchLightDOM&&this._bindProductImage(this)}},{key:"bindProductAnchors",value:function(){this.searchLightDOM&&this._bindProductAnchors(this)}},{key:"_bindProductImage",value:function(e){var t=this;e.querySelectorAll(this.productImageIdentifier).forEach(function(e){if(!e.onerror){var n=e.attributes.getNamedItem("data-image-onerror");if(n){var i=n.nodeValue;i&&(e.onerror=function(){e.onerror=null,e.setAttribute("src",i)})}}var r=e.getAttribute("data-image");if(r)e.setAttribute("src",r);else{var a=f.a.communication,o=a.fieldRoles?a.fieldRoles.imageUrl:"",s=t.recordData.record[o]||t.recordData.record.ImageUrl;void 0!==s?e.setAttribute("src",s):f.a.common.Logger.debug("No image data for this record: ".concat(t.recordData.id))}})}},{key:"_bindProductAnchors",value:function(e){e.querySelectorAll(this.productAnchorIdentifier).forEach(function(e){var t=e.getAttribute("data-anchor");t&&0!==t.length&&(e.setAttribute("href",t),e.removeAttribute("data-anchor"))})}},{key:"_bindProductRedirect",value:function(){this.searchLightDOM&&this.bindRedirect(this)}},{key:"bindRedirect",value:function(e){var t=this;e&&e.querySelectorAll(this.redirectIdentifier).forEach(function(e){e.querySelectorAll("[data-track]").forEach(function(e){return e.attributes.removeNamedItem("data-track")}),t.registerClickListener(e)})}},{key:"registerClickListener",value:function(e){var t=this,n=function(e){var n=e.ctrlKey||e.shiftKey||e.metaKey||e.altKey;return 0===e.button&&!n&&!t.disableOverwrite},i=function i(r){e.removeEventListener("mouseup",i),2!==r.button&&t._handleTrackingAndRedirect(r,n(r))};e.addEventListener("click",function(e){n(e)&&e.preventDefault()}),e.addEventListener("mousedown",function(t){e.addEventListener("mouseup",i),e.addEventListener("mouseleave",function(){return e.removeEventListener("mouseup",i)})})}},{key:"_handleRedirect",value:function(e){var t=e.currentTarget,n=this.getRedirectLocation(t),i=this.getRedirectTarget(t);n&&this.redirect(n,i)}},{key:"_handleTrackingAndRedirect",value:function(e,t){var n=this;e.stopPropagation();var i=e.currentTarget,r=this.getRedirectTarget(i),a=this.getRedirectLocation(i);if(a){var o=function(){!0===t&&n.redirect(a,r)};if("_blank"===r){try{!0===this.isRecommendation?this._trackRecommendationClick(this):this._trackProductClick(this)}catch(e){console.log(e)}o()}else!0===this.isRecommendation?this._trackRecommendationClick(this,void 0,o):this._trackProductClick(this,void 0,o)}}},{key:"getRedirectLocation",value:function(e){var t=e.attributes.getNamedItem("data-redirect");if(t){var n=t.nodeValue;if(n&&0<n.length)return n;if(this.recordData)return this.recordData.record.Deeplink;f.a.common.Logger.debug("No record data available for data-redirect action.")}}},{key:"getRedirectTarget",value:function(e){var t=e.attributes.getNamedItem("data-redirect-target");if(t){var n=t.nodeValue;if(n)return n}return"_blank"}},{key:"redirect",value:function(e,t){window.open(e,t)}}]),t}(e)},RemoveUnresolvedAttribute:function(e){return function(e){function t(){return r()(this,t),c()(this,l()(t).apply(this,arguments))}return h()(t,e),o()(t,[{key:"connectedCallback",value:function(){v()(l()(t.prototype),"connectedCallback",this).call(this),this.hasAttribute("unresolved")&&this.removeAttribute("unresolved")}}]),t}(e)},Tracking:_.TrackingBehavior},w=function(e,t){var n=t;if(e)for(var i=0;i<e.length;i++){var r=k[e[i]](n);n===r||n.prototype instanceof r||(n=r)}return n}},function(e,t){e.exports=function(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}},function(e,t,n){"use strict";var i=n(3),r=n.n(i),a=n(5),o=n.n(a),s=n(2),c=n.n(s),u=n(6),l=n.n(u),d=n(0),h=n.n(d),f=n(4),p=n.n(f),m=(n(19),n(29)),g=n(26),v=n(41),y=n(24),b=n(42),_=n(17),k=n.n(_);function w(e){return 0<=e.indexOf(".")}function C(e){var t=e.indexOf(".");return-1===t?e:e.slice(0,t)}function S(e,t){return 0===t.indexOf(e+".")}function P(e,t,n){return t+n.slice(e.length)}function E(e){if(Array.isArray(e)){for(var t=[],n=0;n<e.length;n++)for(var i=e[n].toString().split("."),r=0;r<i.length;r++)t.push(i[r]);return t.join(".")}return e}function x(e){return Array.isArray(e)?E(e).split("."):e.toString().split(".")}function T(e,t,n){for(var i=e,r=x(t),a=0;a<r.length;a++){if(!i)return;i=i[r[a]]}return n&&(n.path=r.join(".")),i}function O(e,t,n){var i=e,r=x(t),a=r[r.length-1];if(1<r.length){for(var o=0;o<r.length-1;o++)if(!(i=i[r[o]]))return;i[a]=n}else i[t]=n;return r.join(".")}var A={},R=/-[a-z]/g,L=/([A-Z])/g;function F(e){return A[e]||(A[e]=e.indexOf("-")<0?e:e.replace(R,function(e){return e[1].toUpperCase()}))}function I(e){return A[e]||(A[e]=e.replace(L,"-$1").toLowerCase())}for(var M=n(13).a,N=Object(g.a)(function(e){return function(e){function t(){var e;return r()(this,t),(e=o()(this,h()(t).call(this))).__dataEnabled=!1,e.__dataReady=!1,e.__dataInvalid=!1,e.__data={},e.__dataPending=null,e.__dataOld=null,e.__dataInstanceProps=null,e.__serializing=!1,e._initializeProperties(),e}return l()(t,e),c()(t,[{key:"_createPropertyAccessor",value:function(e,t){this._addPropertyToAttributeMap(e),this.hasOwnProperty("__dataHasAccessor")||(this.__dataHasAccessor=Object.assign({},this.__dataHasAccessor)),this.__dataHasAccessor[e]||(this.__dataHasAccessor[e]=!0,this._definePropertyAccessor(e,t))}},{key:"_addPropertyToAttributeMap",value:function(e){if(this.hasOwnProperty("__dataAttributes")||(this.__dataAttributes=Object.assign({},this.__dataAttributes)),!this.__dataAttributes[e]){var t=this.constructor.attributeNameForProperty(e);this.__dataAttributes[t]=e}}},{key:"_definePropertyAccessor",value:function(e,t){Object.defineProperty(this,e,{get:function(){return this._getProperty(e)},set:t?function(){}:function(t){this._setProperty(e,t)}})}}],[{key:"createProperties",value:function(e){var t=this.prototype;for(var n in e)n in t||t._createPropertyAccessor(n)}},{key:"attributeNameForProperty",value:function(e){return e.toLowerCase()}},{key:"typeForProperty",value:function(e){}}]),c()(t,[{key:"ready",value:function(){this.__dataReady=!0,this._flushProperties()}},{key:"_initializeProperties",value:function(){for(var e in this.__dataHasAccessor)this.hasOwnProperty(e)&&(this.__dataInstanceProps=this.__dataInstanceProps||{},this.__dataInstanceProps[e]=this[e],delete this[e])}},{key:"_initializeInstanceProperties",value:function(e){Object.assign(this,e)}},{key:"_setProperty",value:function(e,t){this._setPendingProperty(e,t)&&this._invalidateProperties()}},{key:"_getProperty",value:function(e){return this.__data[e]}},{key:"_setPendingProperty",value:function(e,t,n){var i=this.__data[e],r=this._shouldPropertyChange(e,t,i);return r&&(this.__dataPending||(this.__dataPending={},this.__dataOld={}),!this.__dataOld||e in this.__dataOld||(this.__dataOld[e]=i),this.__data[e]=t,this.__dataPending[e]=t),r}},{key:"_invalidateProperties",value:function(){var e=this;!this.__dataInvalid&&this.__dataReady&&(this.__dataInvalid=!0,M.run(function(){e.__dataInvalid&&(e.__dataInvalid=!1,e._flushProperties())}))}},{key:"_enableProperties",value:function(){this.__dataEnabled||(this.__dataEnabled=!0,this.__dataInstanceProps&&(this._initializeInstanceProperties(this.__dataInstanceProps),this.__dataInstanceProps=null),this.ready())}},{key:"_flushProperties",value:function(){var e=this.__data,t=this.__dataPending,n=this.__dataOld;this._shouldPropertiesChange(e,t,n)&&(this.__dataPending=null,this.__dataOld=null,this._propertiesChanged(e,t,n))}},{key:"_shouldPropertiesChange",value:function(e,t,n){return Boolean(t)}},{key:"_propertiesChanged",value:function(e,t,n){}},{key:"_shouldPropertyChange",value:function(e,t,n){return n!==t&&(n==n||t==t)}},{key:"attributeChangedCallback",value:function(e,n,i,r){n!==i&&this._attributeToProperty(e,i),p()(h()(t.prototype),"attributeChangedCallback",this)&&p()(h()(t.prototype),"attributeChangedCallback",this).call(this,e,n,i,r)}},{key:"_attributeToProperty",value:function(e,t,n){if(!this.__serializing){var i=this.__dataAttributes,r=i&&i[e]||e;this[r]=this._deserializeValue(t,n||this.constructor.typeForProperty(r))}}},{key:"_propertyToAttribute",value:function(e,t,n){this.__serializing=!0,n=arguments.length<3?this[e]:n,this._valueToNodeAttribute(this,n,t||this.constructor.attributeNameForProperty(e)),this.__serializing=!1}},{key:"_valueToNodeAttribute",value:function(e,t,n){var i=this._serializeValue(t);void 0===i?e.removeAttribute(n):e.setAttribute(n,i)}},{key:"_serializeValue",value:function(e){switch(k()(e)){case"boolean":return e?"":void 0;default:return null!=e?e.toString():void 0}}},{key:"_deserializeValue",value:function(e,t){switch(t){case Boolean:return null!==e;case Number:return Number(e);default:return e}}}]),t}(e)}),D={},U=HTMLElement.prototype;U;){for(var j=Object.getOwnPropertyNames(U),B=0;B<j.length;B++)D[j[B]]=!0;U=Object.getPrototypeOf(U)}var H=Object(g.a)(function(e){return function(e){function t(){return r()(this,t),o()(this,h()(t).apply(this,arguments))}return l()(t,e),c()(t,[{key:"_initializeProperties",value:function(){this.__dataProto&&(this._initializeProtoProperties(this.__dataProto),this.__dataProto=null),p()(h()(t.prototype),"_initializeProperties",this).call(this)}},{key:"_initializeProtoProperties",value:function(e){for(var t in e)this._setProperty(t,e[t])}},{key:"_ensureAttribute",value:function(e,t){this.hasAttribute(e)||this._valueToNodeAttribute(this,t,e)}},{key:"_serializeValue",value:function(e){switch(k()(e)){case"object":if(e instanceof Date)return e.toString();if(e)try{return JSON.stringify(e)}catch(e){return""}default:return p()(h()(t.prototype),"_serializeValue",this).call(this,e)}}},{key:"_deserializeValue",value:function(e,n){var i;switch(n){case Object:try{i=JSON.parse(e)}catch(n){i=e}break;case Array:try{i=JSON.parse(e)}catch(n){i=null,console.warn("Polymer::Attributes: couldn't decode Array as JSON: ".concat(e))}break;case Date:i=isNaN(e)?String(e):Number(e),i=new Date(i);break;default:i=p()(h()(t.prototype),"_deserializeValue",this).call(this,e,n)}return i}},{key:"_definePropertyAccessor",value:function(e,n){!function(e,t){if(!D[t]){var n=e[t];void 0!==n&&(e.__data?e._setPendingProperty(t,n):(e.__dataProto?e.hasOwnProperty(JSCompiler_renameProperty("__dataProto",e))||(e.__dataProto=Object.create(e.__dataProto)):e.__dataProto={},e.__dataProto[t]=n))}}(this,e),p()(h()(t.prototype),"_definePropertyAccessor",this).call(this,e,n)}},{key:"_hasAccessor",value:function(e){return this.__dataHasAccessor&&this.__dataHasAccessor[e]}},{key:"_isPropertyPending",value:function(e){return Boolean(this.__dataPending&&e in this.__dataPending)}}],[{key:"createPropertiesForAttributes",value:function(){for(var e=this.observedAttributes,t=0;t<e.length;t++)this.prototype._createPropertyAccessor(F(e[t]))}},{key:"attributeNameForProperty",value:function(e){return I(e)}}]),t}(N(e))}),q={"dom-if":!0,"dom-repeat":!0};function V(e){var t=e.getAttribute("is");if(t&&q[t]){var n=e;for(n.removeAttribute("is"),e=n.ownerDocument.createElement(t),n.parentNode.replaceChild(e,n),e.appendChild(n);n.attributes.length;)e.setAttribute(n.attributes[0].name,n.attributes[0].value),n.removeAttribute(n.attributes[0].name)}return e}function z(e,t){var n=t.parentInfo&&z(e,t.parentInfo);if(!n)return e;for(var i=n.firstChild,r=0;i;i=i.nextSibling)if(t.parentIndex===r++)return i}function K(e,t,n){if(n.events&&n.events.length)for(var i,r=0,a=n.events;r<a.length&&(i=a[r]);r++)e._addMethodEventListenerToNode(t,i.name,i.value,e)}var W=Object(g.a)(function(e){return function(e){function t(){return r()(this,t),o()(this,h()(t).apply(this,arguments))}return l()(t,e),c()(t,[{key:"_stampTemplate",value:function(e){e&&!e.content&&window.HTMLTemplateElement&&HTMLTemplateElement.decorate&&HTMLTemplateElement.decorate(e);var t=this.constructor._parseTemplate(e),n=t.nodeInfoList,i=t.content||e.content,r=document.importNode(i,!0);r.__noInsertionPoint=!t.hasInsertionPoint;var a,o,s,c,u,l=r.nodeList=new Array(n.length);r.$={};for(var d,h=0,f=n.length;h<f&&(d=n[h]);h++){var p=l[h]=z(r,d);s=r.$,c=p,(u=d).id&&(s[u.id]=c),a=p,(o=d).templateInfo&&(a._templateInfo=o.templateInfo),K(this,p,d)}return r}},{key:"_addMethodEventListenerToNode",value:function(e,t,n,i){var r,a,o=(a=n,r=(r=i=i||e)._methodHost||r,function(e){r[a]?r[a](e,e.detail):console.warn("listener method `"+a+"` not defined")});return this._addEventListenerToNode(e,t,o),o}},{key:"_addEventListenerToNode",value:function(e,t,n){e.addEventListener(t,n)}},{key:"_removeEventListenerFromNode",value:function(e,t,n){e.removeEventListener(t,n)}}],[{key:"_parseTemplate",value:function(e,t){if(!e._templateInfo){var n=e._templateInfo={};n.nodeInfoList=[],n.stripWhiteSpace=t&&t.stripWhiteSpace||e.hasAttribute("strip-whitespace"),this._parseTemplateContent(e,n,{parent:null})}return e._templateInfo}},{key:"_parseTemplateContent",value:function(e,t,n){return this._parseTemplateNode(e.content,t,n)}},{key:"_parseTemplateNode",value:function(e,t,n){var i,r=e;return"template"!=r.localName||r.hasAttribute("preserve-content")?"slot"===r.localName&&(t.hasInsertionPoint=!0):i=this._parseTemplateNestedTemplate(r,t,n)||i,r.firstChild&&(i=this._parseTemplateChildNodes(r,t,n)||i),r.hasAttributes&&r.hasAttributes()&&(i=this._parseTemplateNodeAttributes(r,t,n)||i),i}},{key:"_parseTemplateChildNodes",value:function(e,t,n){if("script"!==e.localName&&"style"!==e.localName)for(var i,r=e.firstChild,a=0;r;r=i){if("template"==r.localName&&(r=V(r)),i=r.nextSibling,r.nodeType===Node.TEXT_NODE){for(var o=i;o&&o.nodeType===Node.TEXT_NODE;)r.textContent+=o.textContent,i=o.nextSibling,e.removeChild(o),o=i;if(t.stripWhiteSpace&&!r.textContent.trim()){e.removeChild(r);continue}}var s={parentIndex:a,parentInfo:n};this._parseTemplateNode(r,t,s)&&(s.infoIndex=t.nodeInfoList.push(s)-1),r.parentNode&&a++}}},{key:"_parseTemplateNestedTemplate",value:function(e,t,n){var i=this._parseTemplate(e,t);return(i.content=e.content.ownerDocument.createDocumentFragment()).appendChild(e.content),n.templateInfo=i,!0}},{key:"_parseTemplateNodeAttributes",value:function(e,t,n){for(var i,r=!1,a=Array.from(e.attributes),o=a.length-1;i=a[o];o--)r=this._parseTemplateNodeAttribute(e,t,n,i.name,i.value)||r;return r}},{key:"_parseTemplateNodeAttribute",value:function(e,t,n,i,r){return"on-"===i.slice(0,3)?(e.removeAttribute(i),n.events=n.events||[],n.events.push({name:i.slice(3),value:r}),!0):"id"===i&&(n.id=r,!0)}},{key:"_contentForTemplate",value:function(e){var t=e._templateInfo;return t&&t.content||e.content}}]),t}(e)}),G=0,X={COMPUTE:"__computeEffects",REFLECT:"__reflectEffects",NOTIFY:"__notifyEffects",PROPAGATE:"__propagateEffects",OBSERVE:"__observeEffects",READ_ONLY:"__readOnly"},Y=/[A-Z]/;function $(e,t){var n=e[t];if(n){if(!e.hasOwnProperty(t))for(var i in n=e[t]=Object.create(e[t]))for(var r=n[i],a=n[i]=Array(r.length),o=0;o<r.length;o++)a[o]=r[o]}else n=e[t]={};return n}function J(e,t,n,i,r,a){if(t){var o=!1,s=G++;for(var c in n)Q(e,t,s,c,n,i,r,a)&&(o=!0);return o}return!1}function Q(e,t,n,i,r,a,o,s){var c=!1,u=t[o?C(i):i];if(u)for(var l,d=0,h=u.length;d<h&&(l=u[d]);d++)l.info&&l.info.lastRun===n||o&&!Z(i,l.trigger)||(l.info&&(l.info.lastRun=n),l.fn(e,i,r,a,l.info,o,s),c=!0);return c}function Z(e,t){if(t){var n=t.name;return n==e||t.structured&&function(e,t){return 0===e.indexOf(t+".")}(n,e)||t.wildcard&&S(n,e)}return!0}function ee(e,t,n,i,r){var a="string"==typeof r.method?e[r.method]:r.method,o=r.property;a?a.call(e,e.__data[o],i[o]):r.dynamicFn||console.warn("observer method `"+r.method+"` not defined")}function te(e,t,n,i){var r={value:n,queueProperty:!0};i&&(r.path=i),e.dispatchEvent(new CustomEvent(t,{detail:r}))}function ne(e,t,n,i,r,a){var o=(a?C(t):t)!=t?t:null,s=o?T(e,o):e.__data[t];o&&void 0===s&&(s=n[t]),te(e,r.eventName,s,o)}function ie(e,t,n,i,r){var a=e.__data[t];m.c&&(a=Object(m.c)(a,r.attrName,"attribute",e)),e._propertyToAttribute(t,r.attrName,a)}function re(e,t,n,i,r){var a=de(e,t,n,i,r),o=r.methodInfo;e.__dataHasAccessor&&e.__dataHasAccessor[o]?e._setPendingProperty(o,a,!0):e[o]=a}function ae(e,t,n,i,r,a,o){n.bindings=n.bindings||[];var s,c={kind:i,target:r,parts:a,literal:o,isCompound:1!==a.length};if(n.bindings.push(c),s=c,Boolean(s.target)&&"attribute"!=s.kind&&"text"!=s.kind&&!s.isCompound&&"{"===s.parts[0].mode){var u=c.parts[0],l=u.event,d=u.negate;c.listenerEvent=l||I(r)+"-changed",c.listenerNegate=d}for(var h=t.nodeInfoList.length,f=0;f<c.parts.length;f++){var p=c.parts[f];p.compoundIndex=f,oe(e,t,c,p,h)}}function oe(e,t,n,i,r){if(!i.literal)if("attribute"===n.kind&&"-"===n.target[0])console.warn("Cannot set attribute "+n.target+' because "-" is not a valid attribute starting character');else for(var a=i.dependencies,o={index:r,binding:n,part:i,evaluator:e},s=0;s<a.length;s++){var c=a[s];"string"==typeof c&&((c=ge(c)).wildcard=!0),e._addTemplatePropertyEffect(t,c.rootProperty,{fn:se,info:o,trigger:c})}}function se(e,t,n,i,r,a,o){var s=o[r.index],c=r.binding,u=r.part;if(a&&u.source&&t.length>u.source.length&&"property"==c.kind&&!c.isCompound&&s.__isPropertyEffectsClient&&s.__dataHasAccessor&&s.__dataHasAccessor[c.target]){var l=n[t];t=P(u.source,c.target,t),s._setPendingPropertyOrPath(t,l,!1,!0)&&e._enqueueClient(s)}else!function(e,t,n,i,r){if(r=function(e,t,n,i){if(n.isCompound){var r=e.__dataCompoundStorage[n.target];r[i.compoundIndex]=t,t=r.join("")}return"attribute"!==n.kind&&("textContent"!==n.target&&("value"!==n.target||"input"!==e.localName&&"textarea"!==e.localName)||(t=null==t?"":t)),t}(t,r,n,i),m.c&&(r=Object(m.c)(r,n.target,n.kind,t)),"attribute"==n.kind)e._valueToNodeAttribute(t,r,n.target);else{var a=n.target;t.__isPropertyEffectsClient&&t.__dataHasAccessor&&t.__dataHasAccessor[a]?t[X.READ_ONLY]&&t[X.READ_ONLY][a]||t._setPendingProperty(a,r)&&e._enqueueClient(t):e._setUnmanagedPropertyToNode(t,a,r)}}(e,s,c,u,r.evaluator._evaluateBinding(e,u,t,n,i,a))}function ce(e,t){if(t.isCompound){for(var n=e.__dataCompoundStorage||(e.__dataCompoundStorage={}),i=t.parts,r=new Array(i.length),a=0;a<i.length;a++)r[a]=i[a].literal;var o=t.target;n[o]=r,t.literal&&"property"==t.kind&&(e[o]=t.literal)}}function ue(e,t,n){if(n.listenerEvent){var i=n.parts[0];e.addEventListener(n.listenerEvent,function(e){var r,a,o,s,c,u,l,d;r=e,a=t,o=n.target,s=i.source,c=i.negate,u=(d=(l=r.detail)&&l.path)?(s=P(o,s,d),l&&l.value):r.currentTarget[o],u=c?!u:u,a[X.READ_ONLY]&&a[X.READ_ONLY][s]||!a._setPendingPropertyOrPath(s,u,!0,Boolean(d))||l&&l.queueProperty||a._invalidateProperties()})}}function le(e,t,n,i,r,a){a=t.static||a&&("object"!==k()(a)||a[t.methodName]);for(var o,s={methodName:t.methodName,args:t.args,methodInfo:r,dynamicFn:a},c=0;c<t.args.length&&(o=t.args[c]);c++)o.literal||e._addPropertyEffect(o.rootProperty,n,{fn:i,info:s,trigger:o});a&&e._addPropertyEffect(t.methodName,n,{fn:i,info:s})}function de(e,t,n,i,r){var a=e._methodHost||e,o=a[r.methodName];if(o){var s=e._marshalArgs(r.args,t,n);return o.apply(a,s)}r.dynamicFn||console.warn("method `"+r.methodName+"` not defined")}var he=[],fe=new RegExp("(\\[\\[|{{)\\s*(?:(!)\\s*)?((?:[a-zA-Z_$][\\w.:$\\-*]*)\\s*(?:\\(\\s*(?:(?:(?:((?:[a-zA-Z_$][\\w.:$\\-*]*)|(?:[-+]?[0-9]*\\.?[0-9]+(?:[eE][-+]?[0-9]+)?)|(?:(?:'(?:[^'\\\\]|\\\\.)*')|(?:\"(?:[^\"\\\\]|\\\\.)*\")))\\s*)(?:,\\s*(?:((?:[a-zA-Z_$][\\w.:$\\-*]*)|(?:[-+]?[0-9]*\\.?[0-9]+(?:[eE][-+]?[0-9]+)?)|(?:(?:'(?:[^'\\\\]|\\\\.)*')|(?:\"(?:[^\"\\\\]|\\\\.)*\")))\\s*))*)?)\\)\\s*)?)(?:]]|}})","g");function pe(e){for(var t="",n=0;n<e.length;n++)t+=e[n].literal||"";return t}function me(e){var t=e.match(/([^\s]+?)\(([\s\S]*)\)/);if(t){var n={methodName:t[1],static:!0,args:he};return t[2].trim()?function(e,t){return t.args=e.map(function(e){var n=ge(e);return n.literal||(t.static=!1),n},this),t}(t[2].replace(/\\,/g,"&comma;").split(","),n):n}return null}function ge(e){var t=e.trim().replace(/&comma;/g,",").replace(/\\(.)/g,"$1"),n={name:t,value:"",literal:!1},i=t[0];switch("-"===i&&(i=t[1]),"0"<=i&&i<="9"&&(i="#"),i){case"'":case'"':n.value=t.slice(1,-1),n.literal=!0;break;case"#":n.value=Number(t),n.literal=!0}return n.literal||(n.rootProperty=C(t),n.structured=w(t),n.structured&&(n.wildcard=".*"==t.slice(-2),n.wildcard&&(n.name=t.slice(0,-2)))),n}function ve(e,t,n,i){var r=n+".splices";e.notifyPath(r,{indexSplices:i}),e.notifyPath(n+".length",t.length),e.__data[r]={indexSplices:null}}function ye(e,t,n,i,r,a){ve(e,t,n,[{index:i,addedCount:r,removed:a,object:t,type:"splice"}])}var be=Object(g.a)(function(e){return function(e){function t(){var e;return r()(this,t),(e=o()(this,h()(t).call(this))).__isPropertyEffectsClient=!0,e.__dataCounter=0,e.__dataClientsReady,e.__dataPendingClients,e.__dataToNotify,e.__dataLinkedPaths,e.__dataHasPaths,e.__dataCompoundStorage,e.__dataHost,e.__dataTemp,e.__dataClientsInitialized,e.__data,e.__dataPending,e.__dataOld,e.__computeEffects,e.__reflectEffects,e.__notifyEffects,e.__propagateEffects,e.__observeEffects,e.__readOnly,e.__templateInfo,e}return l()(t,e),c()(t,[{key:"_initializeProperties",value:function(){p()(h()(t.prototype),"_initializeProperties",this).call(this),_e.registerHost(this),this.__dataClientsReady=!1,this.__dataPendingClients=null,this.__dataToNotify=null,this.__dataLinkedPaths=null,this.__dataHasPaths=!1,this.__dataCompoundStorage=this.__dataCompoundStorage||null,this.__dataHost=this.__dataHost||null,this.__dataTemp={},this.__dataClientsInitialized=!1}},{key:"_initializeProtoProperties",value:function(e){this.__data=Object.create(e),this.__dataPending=Object.create(e),this.__dataOld={}}},{key:"_initializeInstanceProperties",value:function(e){var t=this[X.READ_ONLY];for(var n in e)t&&t[n]||(this.__dataPending=this.__dataPending||{},this.__dataOld=this.__dataOld||{},this.__data[n]=this.__dataPending[n]=e[n])}},{key:"_addPropertyEffect",value:function(e,t,n){this._createPropertyAccessor(e,t==X.READ_ONLY);var i=$(this,t)[e];i||(i=this[t][e]=[]),i.push(n)}},{key:"_removePropertyEffect",value:function(e,t,n){var i=$(this,t)[e],r=i.indexOf(n);0<=r&&i.splice(r,1)}},{key:"_hasPropertyEffect",value:function(e,t){var n=this[t];return Boolean(n&&n[e])}},{key:"_hasReadOnlyEffect",value:function(e){return this._hasPropertyEffect(e,X.READ_ONLY)}},{key:"_hasNotifyEffect",value:function(e){return this._hasPropertyEffect(e,X.NOTIFY)}},{key:"_hasReflectEffect",value:function(e){return this._hasPropertyEffect(e,X.REFLECT)}},{key:"_hasComputedEffect",value:function(e){return this._hasPropertyEffect(e,X.COMPUTE)}},{key:"_setPendingPropertyOrPath",value:function(e,n,i,r){if(r||C(Array.isArray(e)?e[0]:e)!==e){if(!r){var a=T(this,e);if(!(e=O(this,e,n))||!p()(h()(t.prototype),"_shouldPropertyChange",this).call(this,e,n,a))return!1}if(this.__dataHasPaths=!0,this._setPendingProperty(e,n,i))return function(e,t,n){var i,r=e.__dataLinkedPaths;if(r)for(var a in r){var o=r[a];S(a,t)?(i=P(a,o,t),e._setPendingPropertyOrPath(i,n,!0,!0)):S(o,t)&&(i=P(o,a,t),e._setPendingPropertyOrPath(i,n,!0,!0))}}(this,e,n),!0}else{if(this.__dataHasAccessor&&this.__dataHasAccessor[e])return this._setPendingProperty(e,n,i);this[e]=n}return!1}},{key:"_setUnmanagedPropertyToNode",value:function(e,t,n){n===e[t]&&"object"!=k()(n)||(e[t]=n)}},{key:"_setPendingProperty",value:function(e,t,n){var i=this.__dataHasPaths&&w(e),r=i?this.__dataTemp:this.__data;return!!this._shouldPropertyChange(e,t,r[e])&&(this.__dataPending||(this.__dataPending={},this.__dataOld={}),e in this.__dataOld||(this.__dataOld[e]=this.__data[e]),i?this.__dataTemp[e]=t:this.__data[e]=t,this.__dataPending[e]=t,(i||this[X.NOTIFY]&&this[X.NOTIFY][e])&&(this.__dataToNotify=this.__dataToNotify||{},this.__dataToNotify[e]=n),!0)}},{key:"_setProperty",value:function(e,t){this._setPendingProperty(e,t,!0)&&this._invalidateProperties()}},{key:"_invalidateProperties",value:function(){this.__dataReady&&this._flushProperties()}},{key:"_enqueueClient",value:function(e){this.__dataPendingClients=this.__dataPendingClients||[],e!==this&&this.__dataPendingClients.push(e)}},{key:"_flushProperties",value:function(){this.__dataCounter++,p()(h()(t.prototype),"_flushProperties",this).call(this),this.__dataCounter--}},{key:"_flushClients",value:function(){this.__dataClientsReady?this.__enableOrFlushClients():(this.__dataClientsReady=!0,this._readyClients(),this.__dataReady=!0)}},{key:"__enableOrFlushClients",value:function(){var e=this.__dataPendingClients;if(e){this.__dataPendingClients=null;for(var t=0;t<e.length;t++){var n=e[t];n.__dataEnabled?n.__dataPending&&n._flushProperties():n._enableProperties()}}}},{key:"_readyClients",value:function(){this.__enableOrFlushClients()}},{key:"setProperties",value:function(e,t){for(var n in e)!t&&this[X.READ_ONLY]&&this[X.READ_ONLY][n]||this._setPendingPropertyOrPath(n,e[n],!0);this._invalidateProperties()}},{key:"ready",value:function(){this._flushProperties(),this.__dataClientsReady||this._flushClients(),this.__dataPending&&this._flushProperties()}},{key:"_propertiesChanged",value:function(e,t,n){var i=this.__dataHasPaths;this.__dataHasPaths=!1,function(e,t,n,i){var r=e[X.COMPUTE];if(r)for(var a=t;J(e,r,a,n,i);)Object.assign(n,e.__dataOld),Object.assign(t,e.__dataPending),a=e.__dataPending,e.__dataPending=null}(this,t,n,i);var r=this.__dataToNotify;this.__dataToNotify=null,this._propagatePropertyChanges(t,n,i),this._flushClients(),J(this,this[X.REFLECT],t,n,i),J(this,this[X.OBSERVE],t,n,i),r&&function(e,t,n,i,r){var a,o,s,c,u,l,d=e[X.NOTIFY],h=G++;for(var f in t)t[f]&&(d&&Q(e,d,h,f,n,i,r)?a=!0:r&&(s=e,u=n,(l=C(c=f))!==c&&(te(s,I(l)+"-changed",u[c],c),1))&&(a=!0));a&&(o=e.__dataHost)&&o._invalidateProperties&&o._invalidateProperties()}(this,r,t,n,i),1==this.__dataCounter&&(this.__dataTemp={})}},{key:"_propagatePropertyChanges",value:function(e,t,n){this[X.PROPAGATE]&&J(this,this[X.PROPAGATE],e,t,n);for(var i=this.__templateInfo;i;)J(this,i.propertyEffects,e,t,n,i.nodeList),i=i.nextTemplateInfo}},{key:"linkPaths",value:function(e,t){e=E(e),t=E(t),this.__dataLinkedPaths=this.__dataLinkedPaths||{},this.__dataLinkedPaths[e]=t}},{key:"unlinkPaths",value:function(e){e=E(e),this.__dataLinkedPaths&&delete this.__dataLinkedPaths[e]}},{key:"notifySplices",value:function(e,t){var n={path:""};ve(this,T(this,e,n),n.path,t)}},{key:"get",value:function(e,t){return T(t||this,e)}},{key:"set",value:function(e,t,n){n?O(n,e,t):this[X.READ_ONLY]&&this[X.READ_ONLY][e]||this._setPendingPropertyOrPath(e,t,!0)&&this._invalidateProperties()}},{key:"push",value:function(e){for(var t={path:""},n=T(this,e,t),i=n.length,r=arguments.length,a=new Array(1<r?r-1:0),o=1;o<r;o++)a[o-1]=arguments[o];var s=n.push.apply(n,a);return a.length&&ye(this,n,t.path,i,a.length,[]),s}},{key:"pop",value:function(e){var t={path:""},n=T(this,e,t),i=Boolean(n.length),r=n.pop();return i&&ye(this,n,t.path,n.length,0,[r]),r}},{key:"splice",value:function(e,t,n){for(var i=arguments.length,r=new Array(3<i?i-3:0),a=3;a<i;a++)r[a-3]=arguments[a];var o,s={path:""},c=T(this,e,s);return t<0?t=c.length-Math.floor(-t):t&&(t=Math.floor(t)),o=2===arguments.length?c.splice(t):c.splice.apply(c,[t,n].concat(r)),(r.length||o.length)&&ye(this,c,s.path,t,r.length,o),o}},{key:"shift",value:function(e){var t={path:""},n=T(this,e,t),i=Boolean(n.length),r=n.shift();return i&&ye(this,n,t.path,0,0,[r]),r}},{key:"unshift",value:function(e){for(var t={path:""},n=T(this,e,t),i=arguments.length,r=new Array(1<i?i-1:0),a=1;a<i;a++)r[a-1]=arguments[a];var o=n.unshift.apply(n,r);return r.length&&ye(this,n,t.path,0,r.length,[]),o}},{key:"notifyPath",value:function(e,t){var n;if(1==arguments.length){var i={path:""};t=T(this,e,i),n=i.path}else n=Array.isArray(e)?E(e):e;this._setPendingPropertyOrPath(n,t,!0,!0)&&this._invalidateProperties()}},{key:"_createReadOnlyProperty",value:function(e,t){var n;this._addPropertyEffect(e,X.READ_ONLY),t&&(this["_set"+(n=e,n[0].toUpperCase()+n.substring(1))]=function(t){this._setProperty(e,t)})}},{key:"_createPropertyObserver",value:function(e,t,n){var i={property:e,method:t,dynamicFn:Boolean(n)};this._addPropertyEffect(e,X.OBSERVE,{fn:ee,info:i,trigger:{name:e}}),n&&this._addPropertyEffect(t,X.OBSERVE,{fn:ee,info:i,trigger:{name:t}})}},{key:"_createMethodObserver",value:function(e,t){var n=me(e);if(!n)throw new Error("Malformed observer expression '"+e+"'");le(this,n,X.OBSERVE,de,null,t)}},{key:"_createNotifyingProperty",value:function(e){this._addPropertyEffect(e,X.NOTIFY,{fn:ne,info:{eventName:I(e)+"-changed",property:e}})}},{key:"_createReflectedProperty",value:function(e){var t=this.constructor.attributeNameForProperty(e);"-"===t[0]?console.warn("Property "+e+" cannot be reflected to attribute "+t+' because "-" is not a valid starting attribute name. Use a lowercase first letter for the property instead.'):this._addPropertyEffect(e,X.REFLECT,{fn:ie,info:{attrName:t}})}},{key:"_createComputedProperty",value:function(e,t,n){var i=me(t);if(!i)throw new Error("Malformed computed expression '"+t+"'");le(this,i,X.COMPUTE,re,e,n)}},{key:"_marshalArgs",value:function(e,t,n){for(var i=this.__data,r=[],a=0,o=e.length;a<o;a++){var s=e[a],c=s.name,u=void 0;if(s.literal?u=s.value:s.structured?void 0===(u=T(i,c))&&(u=n[c]):u=i[c],s.wildcard){var l=0===c.indexOf(t+"."),d=0===t.indexOf(c)&&!l;r[a]={path:d?t:c,value:d?n[t]:u,base:u}}else r[a]=u}return r}},{key:"_bindTemplate",value:function(e,t){var n=this.constructor._parseTemplate(e),i=this.__templateInfo==n;if(!i)for(var r in n.propertyEffects)this._createPropertyAccessor(r);if(t&&!((n=Object.create(n)).wasPreBound=i)&&this.__templateInfo){var a=this.__templateInfoLast||this.__templateInfo;return this.__templateInfoLast=a.nextTemplateInfo=n,n.previousTemplateInfo=a,n}return this.__templateInfo=n}},{key:"_stampTemplate",value:function(e){_e.beginHosting(this);var n=p()(h()(t.prototype),"_stampTemplate",this).call(this,e);_e.endHosting(this);var i=this._bindTemplate(e,!0);if(i.nodeList=n.nodeList,!i.wasPreBound)for(var r=i.childNodes=[],a=n.firstChild;a;a=a.nextSibling)r.push(a);return function(e,t){var n=t.nodeList,i=t.nodeInfoList;if(i.length)for(var r=0;r<i.length;r++){var a=i[r],o=n[r],s=a.bindings;if(s)for(var c=0;c<s.length;c++){var u=s[c];ce(o,u),ue(o,e,u)}o.__dataHost=e}}(this,n.templateInfo=i),this.__dataReady&&J(this,i.propertyEffects,this.__data,null,!1,i.nodeList),n}},{key:"_removeBoundDom",value:function(e){var t=e.templateInfo;t.previousTemplateInfo&&(t.previousTemplateInfo.nextTemplateInfo=t.nextTemplateInfo),t.nextTemplateInfo&&(t.nextTemplateInfo.previousTemplateInfo=t.previousTemplateInfo),this.__templateInfoLast==t&&(this.__templateInfoLast=t.previousTemplateInfo),t.previousTemplateInfo=t.nextTemplateInfo=null;for(var n=t.childNodes,i=0;i<n.length;i++){var r=n[i];r.parentNode.removeChild(r)}}},{key:"PROPERTY_EFFECT_TYPES",get:function(){return X}}],[{key:"addPropertyEffect",value:function(e,t,n){this.prototype._addPropertyEffect(e,t,n)}},{key:"createPropertyObserver",value:function(e,t,n){this.prototype._createPropertyObserver(e,t,n)}},{key:"createMethodObserver",value:function(e,t){this.prototype._createMethodObserver(e,t)}},{key:"createNotifyingProperty",value:function(e){this.prototype._createNotifyingProperty(e)}},{key:"createReadOnlyProperty",value:function(e,t){this.prototype._createReadOnlyProperty(e,t)}},{key:"createReflectedProperty",value:function(e){this.prototype._createReflectedProperty(e)}},{key:"createComputedProperty",value:function(e,t,n){this.prototype._createComputedProperty(e,t,n)}},{key:"bindTemplate",value:function(e){return this.prototype._bindTemplate(e)}},{key:"_addTemplatePropertyEffect",value:function(e,t,n){(e.hostProps=e.hostProps||{})[t]=!0;var i=e.propertyEffects=e.propertyEffects||{};(i[t]=i[t]||[]).push(n)}},{key:"_parseTemplateNode",value:function(e,n,i){var r=p()(h()(t),"_parseTemplateNode",this).call(this,e,n,i);if(e.nodeType===Node.TEXT_NODE){var a=this._parseBindings(e.textContent,n);a&&(e.textContent=pe(a)||" ",ae(this,n,i,"text","textContent",a),r=!0)}return r}},{key:"_parseTemplateNodeAttribute",value:function(e,n,i,r,a){var o=this._parseBindings(a,n);if(o){var s=r,c="property";Y.test(r)?c="attribute":"$"==r[r.length-1]&&(r=r.slice(0,-1),c="attribute");var u=pe(o);return u&&"attribute"==c&&e.setAttribute(r,u),"input"===e.localName&&"value"===s&&e.setAttribute(s,""),e.removeAttribute(s),"property"===c&&(r=F(r)),ae(this,n,i,c,r,o,u),!0}return p()(h()(t),"_parseTemplateNodeAttribute",this).call(this,e,n,i,r,a)}},{key:"_parseTemplateNestedTemplate",value:function(e,n,i){var r=p()(h()(t),"_parseTemplateNestedTemplate",this).call(this,e,n,i),a=i.templateInfo.hostProps;for(var o in a)ae(this,n,i,"property","_host_"+o,[{mode:"{",source:o,dependencies:[o]}]);return r}},{key:"_parseBindings",value:function(e,t){for(var n,i=[],r=0;null!==(n=fe.exec(e));){n.index>r&&i.push({literal:e.slice(r,n.index)});var a=n[1][0],o=Boolean(n[2]),s=n[3].trim(),c=!1,u="",l=-1;"{"==a&&0<(l=s.indexOf("::"))&&(u=s.substring(l+2),s=s.substring(0,l),c=!0);var d=me(s),h=[];if(d){for(var f=d.args,p=d.methodName,m=0;m<f.length;m++){var g=f[m];g.literal||h.push(g)}var v=t.dynamicFns;(v&&v[p]||d.static)&&(h.push(p),d.dynamicFn=!0)}else h.push(s);i.push({source:s,mode:a,negate:o,customEvent:c,signature:d,dependencies:h,event:u}),r=fe.lastIndex}if(r&&r<e.length){var y=e.substring(r);y&&i.push({literal:y})}return i.length?i:null}},{key:"_evaluateBinding",value:function(e,t,n,i,r,a){var o;return o=t.signature?de(e,n,i,0,t.signature):n!=t.source?T(e,t.source):a&&w(n)?T(e,n):e.__data[n],t.negate&&(o=!o),o}}]),t}(W(H(e)))}),_e=new(function(){function e(){r()(this,e),this.stack=[]}return c()(e,[{key:"registerHost",value:function(e){this.stack.length&&this.stack[this.stack.length-1]._enqueueClient(e)}},{key:"beginHosting",value:function(e){this.stack.push(e)}},{key:"endHosting",value:function(e){var t=this.stack.length;t&&this.stack[t-1]==e&&this.stack.pop()}}]),e}()),ke=Object(g.a)(function(e){function t(e){var t=Object.getPrototypeOf(e);return t.prototype instanceof i?t:null}function n(e){if(!e.hasOwnProperty(JSCompiler_renameProperty("__ownProperties",e))){var t=null;if(e.hasOwnProperty(JSCompiler_renameProperty("properties",e))){var n=e.properties;n&&(t=function(e){var t={};for(var n in e){var i=e[n];t[n]="function"==typeof i?{type:i}:i}return t}(n))}e.__ownProperties=t}return e.__ownProperties}var i=function(e){function i(){return r()(this,i),o()(this,h()(i).apply(this,arguments))}return l()(i,e),c()(i,[{key:"_initializeProperties",value:function(){this.constructor.finalize(),p()(h()(i.prototype),"_initializeProperties",this).call(this)}},{key:"connectedCallback",value:function(){p()(h()(i.prototype),"connectedCallback",this)&&p()(h()(i.prototype),"connectedCallback",this).call(this),this._enableProperties()}},{key:"disconnectedCallback",value:function(){p()(h()(i.prototype),"disconnectedCallback",this)&&p()(h()(i.prototype),"disconnectedCallback",this).call(this)}}],[{key:"finalize",value:function(){if(!this.hasOwnProperty(JSCompiler_renameProperty("__finalized",this))){var e=t(this);e&&e.finalize(),this.__finalized=!0,this._finalizeClass()}}},{key:"_finalizeClass",value:function(){var e=n(this);e&&this.createProperties(e)}},{key:"typeForProperty",value:function(e){var t=this._properties[e];return t&&t.type}},{key:"observedAttributes",get:function(){var e=this,t=this._properties;return t?Object.keys(t).map(function(t){return e.attributeNameForProperty(t)}):[]}},{key:"_properties",get:function(){if(!this.hasOwnProperty(JSCompiler_renameProperty("__properties",this))){var e=t(this);this.__properties=Object.assign({},e&&e._properties,n(this))}return this.__properties}}]),i}(N(e));return i}),we=Object(g.a)(function(e){return function(e){function t(){var e;return r()(this,t),(e=o()(this,h()(t).call(this)))._template,e._importPath,e.rootPath,e.importPath,e.root,e.$,e}return l()(t,e),c()(t,null,[{key:"_finalizeClass",value:function(){var e;p()(h()(t),"_finalizeClass",this).call(this),this.hasOwnProperty(JSCompiler_renameProperty("is",this))&&this.is&&(e=this.prototype,Ce.push(e));var n,i=((n=this).hasOwnProperty(JSCompiler_renameProperty("__ownObservers",n))||(n.__ownObservers=n.hasOwnProperty(JSCompiler_renameProperty("observers",n))?n.observers:null),n.__ownObservers);i&&this.createObservers(i,this._properties);var r=this.template;r&&(r="string"==typeof r?(console.error("template getter must return HTMLTemplateElement"),null):r.cloneNode(!0)),this.prototype._template=r}},{key:"createProperties",value:function(e){for(var t in e)n=this.prototype,a=e,(r=e[i=t]).computed&&(r.readOnly=!0),r.computed&&!n._hasReadOnlyEffect(i)&&n._createComputedProperty(i,r.computed,a),r.readOnly&&!n._hasReadOnlyEffect(i)&&n._createReadOnlyProperty(i,!r.computed),r.reflectToAttribute&&!n._hasReflectEffect(i)&&n._createReflectedProperty(i),r.notify&&!n._hasNotifyEffect(i)&&n._createNotifyingProperty(i),r.observer&&n._createPropertyObserver(i,r.observer,a[r.observer]),n._addPropertyToAttributeMap(i);var n,i,r,a}},{key:"createObservers",value:function(e,t){for(var n=this.prototype,i=0;i<e.length;i++)n._createMethodObserver(e[i],t)}},{key:"polymerElementVersion",get:function(){return"3.0.5"}},{key:"template",get:function(){return this.hasOwnProperty(JSCompiler_renameProperty("_template",this))||(this._template=this.prototype.hasOwnProperty(JSCompiler_renameProperty("_template",this.prototype))?this.prototype._template:function(e){var t=null;if(e&&(!m.d||m.a)&&(t=b.a.import(e,"template"),m.d&&!t))throw new Error("strictTemplatePolicy: expecting dom-module or null template for ".concat(e));return t}(this.is)||Object.getPrototypeOf(this.prototype).constructor.template),this._template},set:function(e){this._template=e}},{key:"importPath",get:function(){if(!this.hasOwnProperty(JSCompiler_renameProperty("_importPath",this))){var e=this.importMeta;if(e)this._importPath=Object(y.a)(e.url);else{var t=b.a.import(this.is);this._importPath=t&&t.assetpath||Object.getPrototypeOf(this.prototype).constructor.importPath}}return this._importPath}}]),c()(t,[{key:"_initializeProperties",value:function(){this.constructor.finalize(),this.constructor._finalizeTemplate(this.localName),p()(h()(t.prototype),"_initializeProperties",this).call(this),this.rootPath=m.b,this.importPath=this.constructor.importPath;var e=function(e){if(!e.hasOwnProperty(JSCompiler_renameProperty("__propertyDefaults",e))){e.__propertyDefaults=null;var t=e._properties;for(var n in t){var i=t[n];"value"in i&&(e.__propertyDefaults=e.__propertyDefaults||{},e.__propertyDefaults[n]=i)}}return e.__propertyDefaults}(this.constructor);if(e)for(var n in e){var i=e[n];if(!this.hasOwnProperty(n)){var r="function"==typeof i.value?i.value.call(this):i.value;this._hasAccessor(n)?this._setPendingProperty(n,r,!0):this[n]=r}}}},{key:"connectedCallback",value:function(){window.ShadyCSS&&this._template&&window.ShadyCSS.styleElement(this),p()(h()(t.prototype),"connectedCallback",this).call(this)}},{key:"ready",value:function(){this._template&&(this.root=this._stampTemplate(this._template),this.$=this.root.$),p()(h()(t.prototype),"ready",this).call(this)}},{key:"_readyClients",value:function(){this._template&&(this.root=this._attachDom(this.root)),p()(h()(t.prototype),"_readyClients",this).call(this)}},{key:"_attachDom",value:function(e){if(this.attachShadow)return e?(this.shadowRoot||this.attachShadow({mode:"open"}),this.shadowRoot.appendChild(e),this.shadowRoot):null;throw new Error("ShadowDOM not available. PolymerElement can create dom as children instead of in ShadowDOM by setting `this.root = this;` before `ready`.")}},{key:"updateStyles",value:function(e){window.ShadyCSS&&window.ShadyCSS.styleSubtree(this,e)}},{key:"resolveUrl",value:function(e,t){return!t&&this.importPath&&(t=Object(y.c)(this.importPath)),Object(y.c)(e,t)}}],[{key:"_processStyleText",value:function(e,t){return Object(y.b)(e,t)}},{key:"_finalizeTemplate",value:function(e){var t=this.prototype._template;if(t&&!t.__polymerFinalized){t.__polymerFinalized=!0;var n=this.importPath;!function(e,t,n,i){for(var r=t.content.querySelectorAll("style"),a=Object(v.c)(t),o=Object(v.b)(n),s=t.content.firstElementChild,c=0;c<o.length;c++){var u=o[c];u.textContent=e._processStyleText(u.textContent,i),t.content.insertBefore(u,s)}for(var l=0,d=0;d<a.length;d++){var h=a[d],f=r[l];f!==h?(h=h.cloneNode(!0),f.parentNode.insertBefore(h,f)):l++,h.textContent=e._processStyleText(h.textContent,i)}window.ShadyCSS&&window.ShadyCSS.prepareTemplate(t,n)}(this,t,e,n?Object(y.c)(n):""),this.prototype._bindTemplate(t)}}},{key:"_parseTemplateContent",value:function(e,n,i){return n.dynamicFns=n.dynamicFns||this._properties,p()(h()(t),"_parseTemplateContent",this).call(this,e,n,i)}}]),t}(ke(be(e)))}),Ce=[],Se=function(){function e(t){r()(this,e),this.value=t.toString()}return c()(e,[{key:"toString",value:function(){return this.value}}]),e}();var Pe=function(e){for(var t=document.createElement("template"),n=arguments.length,i=new Array(1<n?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];return t.innerHTML=i.reduce(function(t,n,i){return t+function(e){if(e instanceof HTMLTemplateElement)return e.innerHTML;if(e instanceof Se)return function(e){if(e instanceof Se)return e.value;throw new Error("non-literal value passed to Polymer's htmlLiteral function: ".concat(e))}(e);throw new Error("non-template value passed to Polymer's html function: ".concat(e))}(n)+e[i+1]},e[0]),t};n.d(t,"a",function(){return Ee}),n.d(t,"b",function(){return Pe});var Ee=we(HTMLElement)},function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},function(e,t,n){"use strict";n.d(t,"b",function(){return c}),n.d(t,"a",function(){return u}),n(19);var i=0,r=0,a=[],o=0,s=document.createTextNode("");new window.MutationObserver(function(){for(var e=a.length,t=0;t<e;t++){var n=a[t];if(n)try{n()}catch(e){setTimeout(function(){throw e})}}a.splice(0,e),r+=e}).observe(s,{characterData:!0});var c={after:function(e){return{run:function(t){return window.setTimeout(t,e)},cancel:function(e){window.clearTimeout(e)}}},run:function(e,t){return window.setTimeout(e,t)},cancel:function(e){window.clearTimeout(e)}},u={run:function(e){return s.textContent=o++,a.push(e),i++},cancel:function(e){var t=e-r;if(0<=t){if(!a[t])throw new Error("invalid async handle: "+e);a[t]=null}}}},function(e,t,n){"use strict";n.d(t,"f",function(){return a}),n.d(t,"g",function(){return o}),n.d(t,"b",function(){return c}),n.d(t,"a",function(){return u}),n.d(t,"d",function(){return l}),n.d(t,"c",function(){return d}),n.d(t,"e",function(){return h});var i=n(3),r=n.n(i),a="{{lit-".concat(String(Math.random()).slice(2),"}}"),o="\x3c!--".concat(a,"--\x3e"),s=new RegExp("".concat(a,"|").concat(o)),c="$lit$",u=function e(t,n){var i=this;r()(this,e),this.parts=[],this.element=n;var o=-1,u=0,l=[];!function e(n){for(var r,f,p=n.content,m=document.createTreeWalker(p,133,null,!1);m.nextNode();){o++,r=f;var g=f=m.currentNode;if(1===g.nodeType){if(g.hasAttributes()){for(var v=g.attributes,y=0,b=0;b<v.length;b++)0<=v[b].value.indexOf(a)&&y++;for(;0<y--;){var _=t.strings[u],k=h.exec(_)[2],w=k.toLowerCase()+c,C=g.getAttribute(w).split(s);i.parts.push({type:"attribute",index:o,name:k,strings:C}),g.removeAttribute(w),u+=C.length-1}}"TEMPLATE"===g.tagName&&e(g)}else if(3===g.nodeType){var S=g.nodeValue;if(S.indexOf(a)<0)continue;var P=g.parentNode,E=S.split(s),x=E.length-1;u+=x;for(var T=0;T<x;T++)P.insertBefore(""===E[T]?d():document.createTextNode(E[T]),g),i.parts.push({type:"node",index:o++});P.insertBefore(""===E[x]?d():document.createTextNode(E[x]),g),l.push(g)}else if(8===g.nodeType)if(g.nodeValue===a){var O=g.parentNode,A=g.previousSibling;null===A||A!==r||A.nodeType!==Node.TEXT_NODE?O.insertBefore(d(),g):o--,i.parts.push({type:"node",index:o++}),l.push(g),null===g.nextSibling?O.insertBefore(d(),g):o--,f=r,u++}else for(var R=-1;-1!==(R=g.nodeValue.indexOf(a,R+1));)i.parts.push({type:"node",index:-1})}}(n);for(var f=0;f<l.length;f++){var p=l[f];p.parentNode.removeChild(p)}},l=function(e){return-1!==e.index},d=function(){return document.createComment("")},h=/([ \x09\x0a\x0c\x0d])([^\0-\x1F\x7F-\x9F \x09\x0a\x0c\x0d"'>=\/]+)([ \x09\x0a\x0c\x0d]*=[ \x09\x0a\x0c\x0d]*(?:[^ \x09\x0a\x0c\x0d"'`<>=]*|"[^"]*|'[^']*))$/},function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n(19),n(30);var i=[];function r(){for(var e=Boolean(i.length);i.length;)try{i.shift().flush()}catch(e){setTimeout(function(){throw e})}return e}var a=function(){for(var e,t;e=window.ShadyDOM&&ShadyDOM.flush(),window.ShadyCSS&&window.ShadyCSS.ScopingShim&&window.ShadyCSS.ScopingShim.flush(),t=r(),e||t;);}},function(e,t,n){"use strict";n.r(t),n.d(t,"RecordList",function(){return S});var i=n(3),r=n.n(i),a=n(2),o=n.n(a),s=n(5),c=n.n(s),u=n(0),l=n.n(u),d=n(4),h=n.n(d),f=n(6),p=n.n(f),m=n(11),g=n(30),v=n(13),y=n(18),b=n(15),_=n(1),k=n(27),w=n(9),C=n(45),S=function(e){function t(){return r()(this,t),c()(this,l()(t).apply(this,arguments))}return p()(t,e),o()(t,[{key:"connectedCallback",value:function(){h()(l()(t.prototype),"connectedCallback",this).call(this),this.currentInfiniteScrollEvent={id:void 0,isRelevant:!1},"true"===this.subscribe&&(this.subscriptionKey=_.a.communication.ResultDispatcher.subscribe("records",this._recordsChangedFFEventHandler,this))}},{key:"ready",value:function(){if(h()(l()(t.prototype),"ready",this).call(this),this.attributeName="display",this.stateTwoValue="none",this._scrollingHandler=this._scrollingHandler||function(){},(!this.records||!this.records.length||this.records.length<=0)&&this.activateStateTwo(),this._templateRecord=this._templateRecord||this.querySelector(C.Record.is),this._templateRecord){this.insertElementHelper=new k.a(this._templateRecord,this);var e=this._templateRecord.parentNode;e&&e.removeChild(this._templateRecord)}}},{key:"disconnectedCallback",value:function(){h()(l()(t.prototype),"disconnectedCallback",this).call(this),this.subscriptionKey&&(_.a.communication.ResultDispatcher.unsubscribe("records",this.subscriptionKey),this.subscriptionKey=void 0),this._unregisterScrollingHandler(this._scrollingHandler),this._scrollingHandler=function(){}}},{key:"_recordsChangedFFEventHandler",value:function(e,t){var n=t&&t.dispatchId===this.currentInfiniteScrollEvent.id;n&&!this.currentInfiniteScrollEvent.isRelevant||(n||(this.currentInfiniteScrollEvent.isRelevant=!1),this._updateRecords(e,n))}},{key:"_recordsChanged",value:function(e,t){t&&e&&t.length===e.length&&e.every(function(e,n){return e.id===t[n].id})&&!0!==this.stampAlways||(this.currentInfiniteScrollEvent.isRelevant=!1,this._updateRecords(e,!1))}},{key:"_updateRecords",value:function(e,t){var n=this;if(!e||!e.length)return this.currentInfiniteScrollEvent.isRelevant=!1,void this.activateStateTwo();var i=t?[]:this.querySelectorAll(C.Record.is);this.insertElementHelper.insertAll(i,e,function(e,i){t&&n.page&&(i.record.page=n.page),e.stampAlways=n.stampAlways,e.isRecommendation=n.isRecommendation,e.recordData=i},function(){Object(b.a)(),n.activateStateOne(),Object(y.a)(n,function(){n.dispatchEvent(new CustomEvent("dom-updated",{bubbles:!0,composed:!0})),n.infiniteScrolling&&(t&&(n.currentInfiniteScrollEvent.isRelevant=!1),n.page=void 0,n._scrollingHandler())})})}},{key:"_infiniteScrollingChanged",value:function(e,t){if(this.currentInfiniteScrollEvent={id:void 0,isRelevant:!1},e)this._scrollingHandler=this._addInfiniteBorder(),this._registerScrollingHandler(this._scrollingHandler),this._scrollingHandler();else{this._unregisterScrollingHandler(this._scrollingHandler),this._scrollingHandler=function(){};var n=this.querySelector(".ffw-infinite-scrolling-border");n&&this.removeChild(n)}}},{key:"_addInfiniteBorder",value:function(){var e,t,n,i,r=this,a=(e=this.infiniteScrollMargin,(t=document.createElement("div")).classList.add("ffw-infinite-scrolling-border"),t.style.marginTop="".concat(e,"px"),t);return this.appendChild(a),Object(b.a)(),n=a,i=function(){r.infiniteScrolling&&(r._debounceJob=g.a.debounce(r._debounceJob,v.b.after(r.infiniteDebounceDelay),function(){r.loadNextPage()}))},function(){var e;0<=(e=n.getBoundingClientRect()).left&&e.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&e.right<=(window.innerWidth||document.documentElement.clientWidth)&&i()}}},{key:"loadNextPage",value:function(){if(!this.currentInfiniteScrollEvent.isRelevant){var e=_.a.communication.FFCommunicationEventAggregator.currentSearchResult,t=e&&e.paging.nextLink;if(t){this.page=t.number;var n=_.a.communication.FFCommunicationEventAggregator.addFFEvent({type:"paging",number:t.number,topics:function(){return["result","records"]}});this.currentInfiniteScrollEvent={id:n,isRelevant:!0}}}}},{key:"_registerScrollingHandler",value:function(e){window.addEventListener("scroll",e,!1),window.addEventListener("resize",e,!1)}},{key:"_unregisterScrollingHandler",value:function(e){window.removeEventListener("scroll",e,!1),window.removeEventListener("resize",e,!1)}}],[{key:"is",get:function(){return"ff-record-list"}},{key:"properties",get:function(){return{records:{type:Array,observer:"_recordsChanged"},subscribe:{type:String,value:"true"},isRecommendation:{type:Boolean},infiniteScrolling:{type:Boolean,observer:"_infiniteScrollingChanged"},infiniteDebounceDelay:{type:Number,value:32},infiniteScrollMargin:{type:Number,value:0},stampAlways:{type:Boolean}}}}]),t}(Object(w.a)(["CssAttributeToggle","RemoveUnresolvedAttribute"],m.a));window.customElements.define(S.is,S)},function(e,t){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(t){return"function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?e.exports=i=function(e){return n(e)}:e.exports=i=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":n(e)},i(t)}e.exports=i},function(e,t,n){"use strict";n.d(t,"a",function(){return c}),n(19);var i=!1,r=[],a=[];function o(){i=!0,requestAnimationFrame(function(){i=!1,function(e){for(;e.length;)s(e.shift())}(r),setTimeout(function(){!function(e){for(var t=0,n=e.length;t<n;t++)s(e.shift())}(a)})})}function s(e){var t=e[0],n=e[1],i=e[2];try{n.apply(t,i)}catch(e){setTimeout(function(){throw e})}}function c(e,t,n){i||o(),a.push([e,t,n])}},function(e,t,n){"use strict";window.JSCompiler_renameProperty=function(e,t){return e}},function(e,t,n){"use strict";n.d(t,"a",function(){return S}),n.d(t,"b",function(){return P}),n.d(t,"e",function(){return E}),n.d(t,"c",function(){return x}),n.d(t,"f",function(){return T}),n.d(t,"g",function(){return O}),n.d(t,"d",function(){return L});var i=n(5),r=n.n(i),a=n(0),o=n.n(a),s=n(4),c=n.n(s),u=n(6),l=n.n(u),d=n(3),h=n.n(d),f=n(2),p=n.n(f),m=n(17),g=n.n(m),v=n(33),y=n(23),b=n(25),_=n(39),k=n(31),w=n(14),C=function(e){return null===e||!("object"===g()(e)||"function"==typeof e)},S=function(){function e(t,n,i){h()(this,e),this.dirty=!0,this.element=t,this.name=n,this.strings=i,this.parts=[];for(var r=0;r<i.length-1;r++)this.parts[r]=this._createPart()}return p()(e,[{key:"_createPart",value:function(){return new P(this)}},{key:"_getValue",value:function(){for(var e=this.strings,t=e.length-1,n="",i=0;i<t;i++){n+=e[i];var r=this.parts[i];if(void 0!==r){var a=r.value;if(null!=a&&(Array.isArray(a)||"string"!=typeof a&&a[Symbol.iterator])){var o=!0,s=!1,c=void 0;try{for(var u,l=a[Symbol.iterator]();!(o=(u=l.next()).done);o=!0){var d=u.value;n+="string"==typeof d?d:String(d)}}catch(e){s=!0,c=e}finally{try{o||null==l.return||l.return()}finally{if(s)throw c}}}else n+="string"==typeof a?a:String(a)}}return n+e[t]}},{key:"commit",value:function(){this.dirty&&(this.dirty=!1,this.element.setAttribute(this.name,this._getValue()))}}]),e}(),P=function(){function e(t){h()(this,e),this.value=void 0,this.committer=t}return p()(e,[{key:"setValue",value:function(e){e===b.a||C(e)&&e===this.value||(this.value=e,Object(v.b)(e)||(this.committer.dirty=!0))}},{key:"commit",value:function(){for(;Object(v.b)(this.value);){var e=this.value;this.value=b.a,e(this)}this.value!==b.a&&this.committer.commit()}}]),e}(),E=function(){function e(t){h()(this,e),this.value=void 0,this._pendingValue=void 0,this.options=t}return p()(e,[{key:"appendInto",value:function(e){this.startNode=e.appendChild(Object(w.c)()),this.endNode=e.appendChild(Object(w.c)())}},{key:"insertAfterNode",value:function(e){this.startNode=e,this.endNode=e.nextSibling}},{key:"appendIntoPart",value:function(e){e._insert(this.startNode=Object(w.c)()),e._insert(this.endNode=Object(w.c)())}},{key:"insertAfterPart",value:function(e){e._insert(this.startNode=Object(w.c)()),this.endNode=e.endNode,e.endNode=this.startNode}},{key:"setValue",value:function(e){this._pendingValue=e}},{key:"commit",value:function(){for(;Object(v.b)(this._pendingValue);){var e=this._pendingValue;this._pendingValue=b.a,e(this)}var t=this._pendingValue;t!==b.a&&(C(t)?t!==this.value&&this._commitText(t):t instanceof k.b?this._commitTemplateResult(t):t instanceof Node?this._commitNode(t):Array.isArray(t)||t[Symbol.iterator]?this._commitIterable(t):this._commitText(t))}},{key:"_insert",value:function(e){this.endNode.parentNode.insertBefore(e,this.endNode)}},{key:"_commitNode",value:function(e){this.value!==e&&(this.clear(),this._insert(e),this.value=e)}},{key:"_commitText",value:function(e){var t=this.startNode.nextSibling;e=null==e?"":e,t===this.endNode.previousSibling&&t.nodeType===Node.TEXT_NODE?t.textContent=e:this._commitNode(document.createTextNode("string"==typeof e?e:String(e))),this.value=e}},{key:"_commitTemplateResult",value:function(e){var t=this.options.templateFactory(e);if(this.value&&this.value.template===t)this.value.update(e.values);else{var n=new _.a(t,e.processor,this.options),i=n._clone();n.update(e.values),this._commitNode(i),this.value=n}}},{key:"_commitIterable",value:function(t){Array.isArray(this.value)||(this.value=[],this.clear());var n,i=this.value,r=0,a=!0,o=!1,s=void 0;try{for(var c,u=t[Symbol.iterator]();!(a=(c=u.next()).done);a=!0){var l=c.value;void 0===(n=i[r])&&(n=new e(this.options),i.push(n),0===r?n.appendIntoPart(this):n.insertAfterPart(i[r-1])),n.setValue(l),n.commit(),r++}}catch(t){o=!0,s=t}finally{try{a||null==u.return||u.return()}finally{if(o)throw s}}r<i.length&&(i.length=r,this.clear(n&&n.endNode))}},{key:"clear",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.startNode;Object(y.b)(this.startNode.parentNode,e.nextSibling,this.endNode)}}]),e}(),x=function(){function e(t,n,i){if(h()(this,e),this.value=void 0,this._pendingValue=void 0,2!==i.length||""!==i[0]||""!==i[1])throw new Error("Boolean attributes can only contain a single expression");this.element=t,this.name=n,this.strings=i}return p()(e,[{key:"setValue",value:function(e){this._pendingValue=e}},{key:"commit",value:function(){for(;Object(v.b)(this._pendingValue);){var e=this._pendingValue;this._pendingValue=b.a,e(this)}if(this._pendingValue!==b.a){var t=!!this._pendingValue;this.value!==t&&(t?this.element.setAttribute(this.name,""):this.element.removeAttribute(this.name)),this.value=t,this._pendingValue=b.a}}}]),e}(),T=function(e){function t(e,n,i){var a;return h()(this,t),(a=r()(this,o()(t).call(this,e,n,i))).single=2===i.length&&""===i[0]&&""===i[1],a}return l()(t,e),p()(t,[{key:"_createPart",value:function(){return new O(this)}},{key:"_getValue",value:function(){return this.single?this.parts[0].value:c()(o()(t.prototype),"_getValue",this).call(this)}},{key:"commit",value:function(){this.dirty&&(this.dirty=!1,this.element[this.name]=this._getValue())}}]),t}(S),O=function(e){function t(){return h()(this,t),r()(this,o()(t).apply(this,arguments))}return l()(t,e),t}(P),A=!1;try{var R={get capture(){return!(A=!0)}};window.addEventListener("test",R,R),window.removeEventListener("test",R,R)}catch(e){}var L=function(){function e(t,n,i){var r=this;h()(this,e),this.value=void 0,this._pendingValue=void 0,this.element=t,this.eventName=n,this.eventContext=i,this._boundHandleEvent=function(e){return r.handleEvent(e)}}return p()(e,[{key:"setValue",value:function(e){this._pendingValue=e}},{key:"commit",value:function(){for(;Object(v.b)(this._pendingValue);){var e=this._pendingValue;this._pendingValue=b.a,e(this)}if(this._pendingValue!==b.a){var t=this._pendingValue,n=this.value,i=null==t||null!=n&&(t.capture!==n.capture||t.once!==n.once||t.passive!==n.passive),r=null!=t&&(null==n||i);i&&this.element.removeEventListener(this.eventName,this._boundHandleEvent,this._options),r&&(this._options=F(t),this.element.addEventListener(this.eventName,this._boundHandleEvent,this._options)),this.value=t,this._pendingValue=b.a}}},{key:"handleEvent",value:function(e){"function"==typeof this.value?this.value.call(this.eventContext||this.element,e):this.value.handleEvent(e)}}]),e}(),F=function(e){return e&&(A?{capture:e.capture,passive:e.passive,once:e.once}:e.capture)}},function(e,t,n){var i=n(0),r=n(50),a=n(71),o=n(72);function s(t){var n="function"==typeof Map?new Map:void 0;return e.exports=s=function(e){if(null===e||!a(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==n){if(n.has(e))return n.get(e);n.set(e,t)}function t(){return o(e,arguments,i(this).constructor)}return t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),r(t,e)},s(t)}e.exports=s},function(e,t,n){var i=n(68),r=n(69),a=n(70);e.exports=function(e){return i(e)||r(e)||a()}},function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"c",function(){return r}),n.d(t,"b",function(){return a});var i=void 0!==window.customElements&&void 0!==window.customElements.polyfillWrapFlushCallback,r=function(e,t){for(var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null,r=t;r!==n;){var a=r.nextSibling;e.insertBefore(r,i),r=a}},a=function(e,t){for(var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,i=t;i!==n;){var r=i.nextSibling;e.removeChild(i),i=r}}},function(e,t,n){"use strict";n.d(t,"c",function(){return s}),n.d(t,"b",function(){return c}),n.d(t,"a",function(){return u}),n(19);var i,r,a=/(url\()([^)]*)(\))/g,o=/(^\/)|(^#)|(^[\w-\d]*:)/;function s(e,t){if(e&&o.test(e))return e;if(void 0===i){i=!1;try{var n=new URL("b","http://a");n.pathname="c%20d",i="http://a/c%20d"===n.href}catch(e){}}return t||(t=document.baseURI||window.location.href),i?new URL(e,t).href:(r||((r=document.implementation.createHTMLDocument("temp")).base=r.createElement("base"),r.head.appendChild(r.base),r.anchor=r.createElement("a"),r.body.appendChild(r.anchor)),r.base.href=t,r.anchor.href=e,r.anchor.href||e)}function c(e,t){return e.replace(a,function(e,n,i,r){return n+"'"+s(i.replace(/["']/g,""),t)+"'"+r})}function u(e){return e.substring(0,e.lastIndexOf("/")+1)}},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var i={}},function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n(19);var i=0,r=function(e){var t=e.__mixinApplications;t||(t=new WeakMap,e.__mixinApplications=t);var n=i++;return function(i){var r=i.__mixinSet;if(r&&r[n])return i;var a=t,o=a.get(i);o||(o=e(i),a.set(i,o));var s=Object.create(o.__mixinSet||r||null);return s[n]=!0,o.__mixinSet=s,o}}},function(e,t,n){"use strict";n.d(t,"a",function(){return c});var i=n(3),r=n.n(i),a=n(2),o=n.n(a),s=n(15),c=function(){function e(t,n){r()(this,e),this.elementTemplate=t.node||t,this.type=t.type,this.name=t.localName,this.parent=t.parentNode||n,this.previousSibling=t.previousSibling,this.nextSibling=t.nextSibling;try{t.shadowRoot&&t.shadowRoot.parentNode&&t.shadowRoot.parentNode.removeChild(this.elementTemplate)}catch(t){console.error(t)}}return o()(e,[{key:"insert",value:function(e,t,n,i){var r=void 0!==e&&(void 0!==e.parentElement||e.parentNode);e=e||(this.elementTemplate.clone?this.elementTemplate.clone():this.elementTemplate.cloneNode(!0)),r||(this.nextSibling?this.parent.insertBefore(e,this.nextSibling):this.parent.appendChild(e)),!0!==i&&Object(s.a)();try{t&&setTimeout(function(){return t(e,n)})}catch(e){console.error(e)}}},{key:"insertAll",value:function(e,t,n,i,r){for(var a=Math.max(e.length,t.length),o=0;o<a;o++){var s=e[o],c=t[o];this.insert(s,n,c,r)}setTimeout(function(){try{i&&i()}catch(e){console.error(e)}})}}]),e}()},function(e,t,n){"use strict";n.d(t,"a",function(){return d});var i=n(8),r=function(e,t){var n=e.startNode.parentNode,r=void 0===t?e.endNode:t.startNode,a=n.insertBefore(Object(i.e)(),r);n.insertBefore(Object(i.e)(),r);var o=new i.b(e.options);return o.insertAfterNode(a),o},a=function(e,t){return e.setValue(t),e.commit(),e},o=function(e,t,n){var r=e.startNode.parentNode,a=n?n.startNode:e.endNode,o=t.endNode.nextSibling;o!==a&&Object(i.j)(r,t.startNode,o,a)},s=function(e){Object(i.h)(e.startNode.parentNode,e.startNode,e.endNode.nextSibling)},c=function(e,t,n){for(var i=new Map,r=t;r<=n;r++)i.set(e[r],r);return i},u=new WeakMap,l=new WeakMap,d=Object(i.f)(function(e,t,n){var d;return void 0===n?n=t:void 0!==t&&(d=t),function(t){if(!(t instanceof i.b))throw new Error("repeat can only be used in text bindings");var h,f,p=u.get(t)||[],m=l.get(t)||[],g=[],v=[],y=[],b=0,_=!0,k=!1,w=void 0;try{for(var C,S=e[Symbol.iterator]();!(_=(C=S.next()).done);_=!0){var P=C.value;y[b]=d?d(P,b):b,v[b]=n(P,b),b++}}catch(t){k=!0,w=t}finally{try{_||null==S.return||S.return()}finally{if(k)throw w}}for(var E=0,x=p.length-1,T=0,O=v.length-1;E<=x&&T<=O;)if(null===p[E])E++;else if(null===p[x])x--;else if(m[E]===y[T])g[T]=a(p[E],v[T]),E++,T++;else if(m[x]===y[O])g[O]=a(p[x],v[O]),x--,O--;else if(m[E]===y[O])g[O]=a(p[E],v[O]),o(t,p[E],g[O+1]),E++,O--;else if(m[x]===y[T])g[T]=a(p[x],v[T]),o(t,p[x],p[E]),x--,T++;else if(void 0===h&&(h=c(y,T,O),f=c(m,E,x)),h.has(m[E]))if(h.has(m[x])){var A=f.get(y[T]),R=void 0!==A?p[A]:null;if(null===R){var L=r(t,p[E]);a(L,v[T]),g[T]=L}else g[T]=a(R,v[T]),o(t,R,p[E]),p[A]=null;T++}else s(p[x]),x--;else s(p[E]),E++;for(;T<=O;){var F=r(t,g[O+1]);a(F,v[T]),g[T++]=F}for(;E<=x;){var I=p[E++];null!==I&&s(I)}u.set(t,g),l.set(t,y)}})},function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"c",function(){return a}),n.d(t,"d",function(){return o}),n.d(t,"a",function(){return s}),n(19);var i=n(24),r=(window.ShadyDOM,Boolean(!window.ShadyCSS||window.ShadyCSS.nativeCss),window.customElements.polyfillWrapFlushCallback,Object(i.a)(document.baseURI||window.location.href)),a=window.Polymer&&window.Polymer.sanitizeDOMValue||void 0,o=!1,s=!1},function(e,t,n){"use strict";n.d(t,"a",function(){return s});var i=n(3),r=n.n(i),a=n(2),o=n.n(a),s=(n(19),n(26),n(13),function(){function e(){r()(this,e),this._asyncModule=null,this._callback=null,this._timer=null}return o()(e,[{key:"setConfig",value:function(e,t){var n=this;this._asyncModule=e,this._callback=t,this._timer=this._asyncModule.run(function(){n._timer=null,n._callback()})}},{key:"cancel",value:function(){this.isActive()&&(this._asyncModule.cancel(this._timer),this._timer=null)}},{key:"flush",value:function(){this.isActive()&&(this.cancel(),this._callback())}},{key:"isActive",value:function(){return null!=this._timer}}],[{key:"debounce",value:function(t,n,i){return t instanceof e?t.cancel():t=new e,t.setConfig(n,i),t}}]),e}())},function(e,t,n){"use strict";n.d(t,"b",function(){return v}),n.d(t,"a",function(){return y});var i=n(5),r=n.n(i),a=n(0),o=n.n(a),s=n(4),c=n.n(s),u=n(6),l=n.n(u),d=n(3),h=n.n(d),f=n(2),p=n.n(f),m=n(23),g=n(14),v=function(){function e(t,n,i,r){h()(this,e),this.strings=t,this.values=n,this.type=i,this.processor=r}return p()(e,[{key:"getHTML",value:function(){for(var e=this.strings.length-1,t="",n=0;n<e;n++){var i=this.strings[n],r=!1;t+=i.replace(g.e,function(e,t,n,i){return r=!0,t+n+g.b+i+g.f}),r||(t+=g.g)}return t+this.strings[e]}},{key:"getTemplateElement",value:function(){var e=document.createElement("template");return e.innerHTML=this.getHTML(),e}}]),e}(),y=function(e){function t(){return h()(this,t),r()(this,o()(t).apply(this,arguments))}return l()(t,e),p()(t,[{key:"getHTML",value:function(){return"<svg>".concat(c()(o()(t.prototype),"getHTML",this).call(this),"</svg>")}},{key:"getTemplateElement",value:function(){var e=c()(o()(t.prototype),"getTemplateElement",this).call(this),n=e.content,i=n.firstChild;return n.removeChild(i),Object(m.c)(n,i.firstChild),e}}]),t}(v)},function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"a",function(){return a});var i=n(14);function r(e){var t=a.get(e.type);void 0===t&&(t={stringsArray:new WeakMap,keyString:new Map},a.set(e.type,t));var n=t.stringsArray.get(e.strings);if(void 0!==n)return n;var r=e.strings.join(i.f);return void 0===(n=t.keyString.get(r))&&(n=new i.a(e,e.getTemplateElement()),t.keyString.set(r,n)),t.stringsArray.set(e.strings,n),n}var a=new Map},function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return a});var i=new WeakMap,r=function(e){return function(){var t=e.apply(void 0,arguments);return i.set(t,!0),t}},a=function(e){return"function"==typeof e&&i.has(e)}},function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"b",function(){return s});var i=n(23),r=n(20),a=n(32),o=new WeakMap,s=function(e,t,n){var s=o.get(t);void 0===s&&(Object(i.b)(t,t.firstChild),o.set(t,s=new r.e(Object.assign({templateFactory:a.b},n))),s.appendInto(t)),s.setValue(e),s.commit()}},function(e,t,n){var i=n(63),r=n(64),a=n(65);e.exports=function(e,t){return i(e)||r(e,t)||a()}},function(e,t,n){"use strict";n.d(t,"a",function(){return k});var i=n(3),r=n.n(i),a=n(5),o=n.n(a),s=n(12),c=n.n(s),u=n(0),l=n.n(u),d=n(4),h=n.n(d),f=n(2),p=n.n(f),m=n(6),g=n.n(m),v=n(11),y=n(1),b=n(44),_=n(9),k=(n(56),function(e){function t(){var e;return r()(this,t),(e=o()(this,l()(t).call(this))).addEventListener("click",e._clicked.bind(c()(e))),e}return g()(t,e),p()(t,null,[{key:"is",get:function(){return"ff-suggest-item"}},{key:"properties",get:function(){return{type:{type:String,value:"all",reflectToAttribute:!0},suggestion:{type:Object,observer:"_suggestionChanged"}}}}]),p()(t,[{key:"ready",value:function(){var e=this;h()(l()(t.prototype),"ready",this).call(this),this.attributeName="display",this.stateTwoValue="none",this.activateStateTwo(),this.query||y.a.common.whenBrowserReady(function(){e.query=y.a.communication.globalElementValues.currentFFSearchBoxValue})}},{key:"highlightQuery",value:function(e,t){if(!e.queryHighlighted)try{var n=t.trim().split(" ");n.map(function(e,t){n[t]=e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")});var i=n.join("|");e.name=e.name.replace(new RegExp(i,"gi"),function(e){return'<span class="ffw-query">'.concat(e,"</span>")}),e.queryHighlighted=!0}catch(e){this.error(e)}}},{key:"_suggestionChanged",value:function(e,t){if(e){this.query=y.a.communication.globalElementValues.currentFFSearchBoxValue,this.highlightQuery(e,this.query),this.model=e;try{Object(b.a)(this,e.image)}catch(e){this.error(e)}this.activateStateOne()}else this.activateStateTwo()}},{key:"_clicked",value:function(e){var t={type:this.type,suggestion:this.suggestion,element:this};if(this.dispatchEvent(new CustomEvent("item-clicked",{detail:t,bubbles:!0})),!0!==this.ffPreventDefault){var n=this.suggestion.attributes[this.getDeeplinkField(y.a.communication.fieldRoles)];if(!this.openDeeplink(n))if("productName"===this.type){var i=this.getRecordEvent();this.dispatchEvent(new CustomEvent("before-search",{detail:i,bubbles:!0})),i.success=y.a.common.concatFunctions(i.success,this.recordSearchHandler.bind(this)),y.a.communication.FFCommunicationEventAggregator.addFFEvent(i)}else{var r=y.a.common.urlStringToDict(this.suggestion.searchParams);(r=y.a.common.decodeDict(r)).queryFromSuggest=!0,r.userInput=y.a.communication.globalElementValues.currentFFSearchBoxValue,r.type="search",this.dispatchEvent(new CustomEvent("before-search",{detail:r,bubbles:!0})),y.a.communication.FFCommunicationEventAggregator.addFFEvent(r)}}else delete this.ffPreventDefault}},{key:"getRecordEvent",value:function(){var e=7.2;try{e=parseFloat(y.a.communication.globalSearchParameter.version)}catch(e){this.error("Could not parse float from Fact-Finder version string, using fallback article number search")}return e<7.3?{type:"productDetail",id:this.suggestion.attributes.articleNr}:{type:"getRecords",recordId:[this.suggestion.attributes.id]}}},{key:"recordSearchHandler",value:function(e){var t;if(e.searchResult){if(e.searchResult.records&&0<e.searchResult.records.length){var n=this.getDeeplinkField(e.searchResult.fieldRoles);t=e.searchResult.records[0].record[n]}}else if(0<e.length&&e[0]&&e[0].record){var i=this.getDeeplinkField(y.a.communication.fieldRoles);t=e[0].record[i]}this.openDeeplink(t)}},{key:"getDeeplinkField",value:function(e){return e&&e.deeplink||"Deeplink"}},{key:"openDeeplink",value:function(e){if(e){if(-1<e.indexOf("http://")||-1<e.indexOf("https://"))return window.open(e,"_self"),!0;if(!0===y.a.communication.globalCommunicationParameter.singleHitRedirect){var t=y.a.communication.globalCommunicationParameter.singleHitRedirectBasePath;return t&&""!==t&&(e=t+e),window.open(e,"_self"),!0}}return!1}},{key:"clone",value:function(){var e=document.createElement(t.is);return e.type=this.type,e.templateString=this.templateString,y.a.common.copyHTMLAttributes(this,e),e}}]),t}(Object(_.a)(["CssAttributeToggle","ElementLog","LightDOMTemplate","RemoveUnresolvedAttribute"],v.a)));window.customElements.define(k.is,k)},function(e,t,n){"use strict";n.r(t),n.d(t,"ProductsPerPageItem",function(){return P}),n.d(t,"renderPPPItem",function(){return E}),n.d(t,"getTemplate",function(){return x});var i=n(46),r=n.n(i),a=n(10),o=n.n(a),s=n(3),c=n.n(s),u=n(5),l=n.n(u),d=n(0),h=n.n(d),f=n(12),p=n.n(f),m=n(2),g=n.n(m),v=n(6),y=n.n(v),b=n(8),_=n(40),k=n(1),w=n(7);function C(){var e=o()(['<ff-products-per-page-item class="','" .template="','" .productsPerPageItem="','"></ff-products-per-page-item>']);return C=function(){return e},e}var S={dataTemplate:"{{value}}",attributes:{}},P=function(e){function t(){var e,n;return c()(this,t),(e=l()(this,h()(t).call(this))).template=S,e.addEventListener("click",(n=p()(e),function(){!n.productsPerPageItem.selected&&k.a.communication.FFCommunicationEventAggregator.addFFEvent({type:"ppp",value:n.productsPerPageItem.value})})),e}return y()(t,e),g()(t,[{key:"render",value:function(){return Object(w.e)(this.template.dataTemplate,this.productsPerPageItem)}}],[{key:"is",get:function(){return"ff-products-per-page-item"}},{key:"properties",get:function(){return{productsPerPageItem:{type:Object},template:{type:Object,attribute:!1}}}}]),g()(t,[{key:"firstUpdated",value:function(e){var t=this;Object.keys(this.template.attributes).forEach(function(e){return t.setAttribute(e,t.template.attributes[e])})}}]),t}(w.a);function E(e,t){return Object(b.g)(C(),Object(_.a)(r()({"ffw-selected":t.selected},e.classNames)),e,t)}function x(e){var t=e.querySelector(P.is);return!t||Object(w.d)(t)?S:{dataTemplate:t.innerHTML,attributes:Array.prototype.reduce.call(t.attributes,function(e,t){var n=t.name,i=t.value;return"class"!==n&&(e[n]=i),e},{}),classNames:(t.className||"").split(" ").reduce(function(e,t){return t&&(e[t]=!0),e},{})}}window.customElements.define(P.is,P)},function(e,t,n){"use strict";n.d(t,"a",function(){return w});var i=n(10),r=n.n(i),a=n(3),o=n.n(a),s=n(5),c=n.n(s),u=n(12),l=n.n(u),d=n(0),h=n.n(d),f=n(4),p=n.n(f),m=n(2),g=n.n(m),v=n(6),y=n.n(v),b=n(8),_=n(7);function k(){var e=r()(['<div class="ffw-page-item-container ffw-cursor" @click="','">',"</div>"]);return k=function(){return e},e}var w=function(e){function t(){var e;return o()(this,t),(e=c()(this,h()(t).call(this))).type="pageLink",e.showSelected=!1,e._template=Object(_.d)(l()(e))?"{{caption}}":e.innerHTML,e.hideSelf(),e}return y()(t,e),g()(t,[{key:"render",value:function(){return Object(b.g)(k(),this._changePage,Object(_.e)(this._template,this.pagingItem||{}))}}],[{key:"is",get:function(){return"ff-paging-item"}},{key:"properties",get:function(){return{type:{type:String,reflect:!0},pagingItem:{type:Object,attribute:!1},showSelected:{type:Boolean,attribute:"show-selected",reflect:!0},showOnly:{type:_.b,attribute:"show-only",reflect:!0}}}}]),g()(t,[{key:"update",value:function(e){e.has("pagingItem")&&(this.pagingItem?(this.classList.remove("ffw-disabled"),this.showSelf(),!0===this.pagingItem.currentPage?this.classList.add("ffw-selected"):this.classList.remove("ffw-selected")):(this.classList.add("ffw-disabled"),this.hideSelf())),p()(h()(t.prototype),"update",this).call(this,e)}},{key:"clone",value:function(){var e=this.cloneNode(!0);return e._template=this._template,e}},{key:"_changePage",value:function(e){this.pagingItem&&!this.pagingItem.currentPage&&"true"!==this.showOnly&&factfinder.communication.FFCommunicationEventAggregator.addFFEvent({type:"paging",number:this.pagingItem.number})}}]),t}(_.a);window.customElements.define(w.is,w)},function(e,t,n){"use strict";n.d(t,"a",function(){return d});var i=n(22),r=n.n(i),a=n(3),o=n.n(a),s=n(2),c=n.n(s),u=n(23),l=n(14),d=function(){function e(t,n,i){o()(this,e),this._parts=[],this.template=t,this.processor=n,this.options=i}return c()(e,[{key:"update",value:function(e){var t=0,n=!0,i=!1,r=void 0;try{for(var a,o=this._parts[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){var s=a.value;void 0!==s&&s.setValue(e[t]),t++}}catch(e){i=!0,r=e}finally{try{n||null==o.return||o.return()}finally{if(i)throw r}}var c=!0,u=!1,l=void 0;try{for(var d,h=this._parts[Symbol.iterator]();!(c=(d=h.next()).done);c=!0){var f=d.value;void 0!==f&&f.commit()}}catch(e){u=!0,l=e}finally{try{c||null==h.return||h.return()}finally{if(u)throw l}}}},{key:"_clone",value:function(){var e=this,t=u.a?this.template.element.content.cloneNode(!0):document.importNode(this.template.element.content,!0),n=this.template.parts,i=0,a=0;return function t(o){for(var s=document.createTreeWalker(o,133,null,!1),c=s.nextNode();i<n.length&&null!==c;){var u=n[i];if(Object(l.d)(u))if(a===u.index){if("node"===u.type){var d=e.processor.handleTextExpression(e.options);d.insertAfterNode(c),e._parts.push(d)}else{var h;(h=e._parts).push.apply(h,r()(e.processor.handleAttributeExpressions(c,u.name,u.strings,e.options)))}i++}else a++,"TEMPLATE"===c.nodeName&&t(c.content),c=s.nextNode();else e._parts.push(void 0),i++}}(t),u.a&&(document.adoptNode(t),customElements.upgrade(t)),t}}]),e}()},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var i=n(8);window.navigator.userAgent.match("Trident")&&(DOMTokenList.prototype.toggle=function(e,t){return void 0===t||t?this.add(e):this.remove(e),void 0===t||t});var r=new WeakMap,a=new WeakMap,o=Object(i.f)(function(e){return function(t){if(!(t instanceof i.a)||t instanceof i.c||"class"!==t.committer.name||1<t.committer.parts.length)throw new Error("The `classMap` directive must be used in the `class` attribute and must be the only part in the attribute.");a.has(t)||(t.committer.element.className=t.committer.strings.join(" "),a.set(t,!0));var n=r.get(t);for(var o in n)o in e||t.committer.element.classList.remove(o);for(var s in e)n&&n[s]===e[s]||t.committer.element.classList.toggle(s,Boolean(e[s]));r.set(t,e)}})},function(e,t,n){"use strict";n.d(t,"c",function(){return p}),n.d(t,"b",function(){return m}),n.d(t,"a",function(){return v});var i=n(22),r=n.n(i),a=n(42),o=n(24),s="link[rel=import][type~=css]",c="include",u="shady-unscoped";function l(e){return a.a.import(e)}function d(e){var t=e.body?e.body:e,n=Object(o.b)(t.textContent,e.baseURI),i=document.createElement("style");return i.textContent=n,i}function h(e){for(var t=e.trim().split(/\s+/),n=[],i=0;i<t.length;i++)n.push.apply(n,r()(f(t[i])));return n}function f(e){var t=l(e);if(!t)return console.warn("Could not find style data in module named",e),[];if(void 0===t._styles){var n=[];n.push.apply(n,r()(g(t)));var i=t.querySelector("template");i&&n.push.apply(n,r()(p(i,t.assetpath))),t._styles=n}return t._styles}function p(e,t){if(!e._styles){for(var n=[],i=e.content.querySelectorAll("style"),a=0;a<i.length;a++){var s=i[a],u=s.getAttribute(c);u&&n.push.apply(n,r()(h(u).filter(function(e,t,n){return n.indexOf(e)===t}))),t&&(s.textContent=Object(o.b)(s.textContent,t)),n.push(s)}e._styles=n}return e._styles}function m(e){var t=l(e);return t?g(t):[]}function g(e){for(var t=[],n=e.querySelectorAll(s),i=0;i<n.length;i++){var r=n[i];if(r.import){var a=r.import,o=r.hasAttribute(u);if(o&&!a._unscopedStyle){var c=d(a);c.setAttribute(u,""),a._unscopedStyle=c}else a._style||(a._style=d(a));t.push(o?a._unscopedStyle:a._style)}}return t}function v(e){for(var t=e.trim().split(/\s+/),n="",i=0;i<t.length;i++)n+=y(t[i]);return n}function y(e){var t=l(e);if(t&&void 0===t._cssText){var n=function(e){for(var t="",n=g(e),i=0;i<n.length;i++)t+=n[i].textContent;return t}(t),i=t.querySelector("template");i&&(n+=function(e,t){for(var n="",i=p(e,t),r=0;r<i.length;r++){var a=i[r];a.parentNode&&a.parentNode.removeChild(a),n+=a.textContent}return n}(i,t.assetpath)),t._cssText=n||null}return t||console.warn("Could not find style data in module named",e),t&&t._cssText||""}},function(e,t,n){"use strict";n.d(t,"a",function(){return k});var i=n(3),r=n.n(i),a=n(2),o=n.n(a),s=n(5),c=n.n(s),u=n(0),l=n.n(u),d=n(6),h=n.n(d),f=n(21),p=n.n(f),m=(n(19),n(24)),g=n(29),v={},y={};function b(e,t){v[e]=y[e.toLowerCase()]=t}function _(e){return v[e]||y[e.toLowerCase()]}var k=function(e){function t(){return r()(this,t),c()(this,l()(t).apply(this,arguments))}return h()(t,e),o()(t,[{key:"attributeChangedCallback",value:function(e,t,n,i){t!==n&&this.register()}},{key:"register",value:function(e){if(e=e||this.id){if(g.d&&void 0!==_(e))throw b(e,null),new Error("strictTemplatePolicy: dom-module ".concat(e," re-registered"));b(this.id=e,this),(t=this).querySelector("style")&&console.warn("dom-module %s has style outside template",t.id)}var t}},{key:"assetpath",get:function(){if(!this.__assetpath){var e=window.HTMLImports&&HTMLImports.importForElement?HTMLImports.importForElement(this)||document:this.ownerDocument,t=Object(m.c)(this.getAttribute("assetpath")||"",e.baseURI);this.__assetpath=Object(m.a)(t)}return this.__assetpath}}],[{key:"import",value:function(e,t){if(e){var n=_(e);return n&&t?n.querySelector(t):n}return null}},{key:"observedAttributes",get:function(){return["id"]}}]),t}(p()(HTMLElement));k.prototype.modules=v,customElements.define("dom-module",k)},function(e,t,n){"use strict";n.r(t),n.d(t,"Communication",function(){return y});var i=n(35),r=n.n(i),a=n(3),o=n.n(a),s=n(5),c=n.n(s),u=n(0),l=n.n(u),d=n(2),h=n.n(d),f=n(6),p=n.n(f),m=n(13),g=n(1),v=n(9),y=function(e){function t(){var e;return o()(this,t),e=c()(this,l()(t).call(this)),g.a.communication.version="3.3.1",e._initDefaultValues(),e._globalCommParams=g.a.communication.globalCommunicationParameter,e.communicationHistoryFallbackTopic="_ff-communication-history-fallback",e}return p()(t,e),h()(t,null,[{key:"createProperties",value:function(){var e=this;this._attributeToPropertyMap=new Map;var t=function(t){var n=e.properties[t];e._attributeToPropertyMap.set(n.attribute||t,t),Object.defineProperty(e.prototype,t,{get:function(){return n.get&&"function"==typeof n.get?n.get.bind(this)():n.group?g.a.communication[n.group][n.name||t]:this["__".concat(t)]},set:function(e){n.set&&"function"==typeof n.set?n.set.bind(this)(e):n.group?g.a.communication[n.group][n.name||t]=e:this["__".concat(t)]=e},configurable:!0,enumerable:!0})};for(var n in this.properties)t(n);this._propsCreated=!0}},{key:"is",get:function(){return"ff-communication"}},{key:"properties",get:function(){return{addParams:{attribute:"add-params",group:"globalCommunicationParameter",type:String},addTrackingParams:{attribute:"add-tracking-params",group:"globalCommunicationParameter",type:String},ajax:{group:"globalCommunicationParameter",type:Boolean},asyncFacets:{attribute:"async-facets",group:"globalCommunicationParameter",type:Boolean},currencyCode:{attribute:"currency-code",group:"globalCommunicationParameter",type:String},currencyCountryCode:{attribute:"currency-country-code",group:"globalCommunicationParameter",type:String},currencyFields:{attribute:"currency-fields",group:"globalCommunicationParameter",type:String},currencyMaxDigits:{attribute:"currency-max-digits",group:"globalCommunicationParameter",type:String,value:"2"},currencyMinDigits:{attribute:"currency-min-digits",group:"globalCommunicationParameter",type:String,value:"2"},disableCache:{attribute:"disable-cache",group:"globalCommunicationParameter",type:Boolean,value:!1},disableSingleHitRedirect:{attribute:"disable-single-hit-redirect",get:function(){return!g.a.communication.globalCommunicationParameter.singleHitRedirect},set:function(e){return g.a.communication.globalCommunicationParameter.singleHitRedirect=!e},type:Boolean,value:!1},filterUrlPrefix:{attribute:"filter-url-prefix",group:"globalCommunicationParameter",type:String,value:""},generateAdvisorTree:{attribute:"generate-advisor-tree",group:"globalCommunicationParameter",type:Boolean,value:!1},keepFilters:{attribute:"keep-filters",group:"globalCommunicationParameter",type:Boolean,value:!1},keepUrlParams:{attribute:"keep-url-params",group:"globalCommunicationParameter",type:String},onlySearchParams:{attribute:"only-search-params",group:"globalCommunicationParameter",type:Boolean},parameterWhitelist:{attribute:"parameter-whitelist",group:"globalCommunicationParameter",type:String,value:"query,filter"},seoPrefix:{attribute:"seo-prefix",group:"globalCommunicationParameter",type:String,value:""},sid:{group:"globalCommunicationParameter",type:String},singleHitRedirectBasePath:{attribute:"single-hit-redirect-base-path",group:"globalCommunicationParameter",type:String},sortUrlParametersAlphabetically:{attribute:"sort-url-parameters-alphabetically",group:"globalCommunicationParameter",type:Boolean},useAsn:{attribute:"use-asn",group:"globalCommunicationParameter",type:Boolean,value:!0},useAso:{attribute:"use-aso",group:"globalCommunicationParameter",type:Boolean,value:!0},useBrowserHistory:{attribute:"use-browser-history",group:"globalCommunicationParameter",type:Boolean,value:!0},useCache:{attribute:"use-cache",group:"globalCommunicationParameter",type:Boolean},useCampaigns:{attribute:"use-campaigns",group:"globalCommunicationParameter",type:Boolean,value:!0},useFilterUrl:{attribute:"use-filter-url",group:"globalCommunicationParameter",type:Boolean,value:!1},useFoundWords:{attribute:"use-found-words",group:"globalCommunicationParameter",type:Boolean,value:!1},userId:{attribute:"user-id",get:function(){return g.a.communication.globalCommunicationParameter.userId},set:function(e){(g.a.communication.globalCommunicationParameter.userId=e)&&m.a.run(function(){var t={userId:e};g.a.communication.sessionManager.checkSession(t),g.a.communication.trackingManager.login(t)})},type:String},usePersonalization:{attribute:"use-personalization",group:"globalCommunicationParameter",type:Boolean,value:!0},useSemanticEnhancer:{attribute:"use-semantic-enhancer",group:"globalCommunicationParameter",type:Boolean,value:!0},useSeo:{attribute:"use-seo",group:"globalCommunicationParameter",type:Boolean,value:!1},useUrlParameter:{attribute:"use-url-parameter",group:"globalCommunicationParameter",type:Boolean,value:!0},channel:{group:"globalSearchParameter",type:String},defaultQuery:{attribute:"default-query",group:"globalSearchParameter",name:"query",set:function(e){g.a.communication.globalSearchParameter.query=encodeURIComponent(e)},type:String,value:"*"},url:{group:"globalSearchParameter",set:function(e){e&&(g.a.communication.globalSearchParameter.url=e.trim())},type:String},version:{value:"7.2",type:String,group:"globalSearchParameter",name:"version"},campaignUrl:{attribute:"campaign-url",group:"globalCustomUrls",type:String},compareUrl:{attribute:"compare-url",group:"globalCustomUrls",type:String},getRecordsUrl:{attribute:"get-records-url",group:"globalCustomUrls",type:String},recommendationUrl:{attribute:"recommendation-url",group:"globalCustomUrls",type:String},searchUrl:{attribute:"search-url",group:"globalCustomUrls",name:"serachUrl",type:String},similarRecordsUrl:{attribute:"similar-records-url",group:"globalCustomUrls",type:String},suggestUrl:{attribute:"suggest-url",group:"globalCustomUrls",type:String},tagCloudUrl:{attribute:"tag-cloud-url",group:"globalCustomUrls",type:String},trackingUrl:{attribute:"tracking-url",group:"globalCustomUrls",type:String},logLevel:{attribute:"log-level",get:function(){return g.a.common.Logger.logLevel},set:function(e){return g.a.common.Logger.logLevel=e},type:String,value:"warn"},addUnitToFilterElements:{attribute:"add-unit-to-filter-elements",type:Boolean},ignorePage:{attribute:"ignore-page",type:Boolean,value:!1},searchImmediate:{attribute:"search-immediate",type:Boolean}}}},{key:"observedAttributes",get:function(){this._propsCreated||this.createProperties();var e=[],t=!0,n=!1,i=void 0;try{for(var a,o=this._attributeToPropertyMap[Symbol.iterator]();!(t=(a=o.next()).done);t=!0){var s=r()(a.value,2),c=s[0];s[1],e.push(c)}}catch(e){n=!0,i=e}finally{try{t||null==o.return||o.return()}finally{if(n)throw i}}return e}}]),h()(t,[{key:"connectedCallback",value:function(){var e=this;this.subscriptionKey=g.a.communication.ResultDispatcher.subscribe(this.communicationHistoryFallbackTopic,function(e){e=g.a.communication.FFCommunicationEventAggregator.currentSearchResult=e.searchResult||e,g.a.communication.ResultDispatcher.dispatchResult(e)}),this.popStateListener=window.addEventListener("popstate",function(t){if(!0===e.useBrowserHistory&&g.a.common.isOk(t))if(e.useCache||e.info('<ff-communication.old use-cache="false"> is currently disabled.'),g.a.common.isOk(t.state))if(t.state._typeFlag===g.a.common.HistoryEntry._typeFlag){var n=g.a.common.urlStringToDict(t.state.searchParams);n.type="search",n.topics=function(){return[e.communicationHistoryFallbackTopic]},g.a.communication.FFCommunicationEventAggregator.addFFEvent(n)}else{var i=t.state.searchResult||t.state;g.a.communication.FFCommunicationEventAggregator.currentSearchResult=i,g.a.communication.ResultDispatcher.dispatchResult(i,null)}else{var r={campaigns:[]};g.a.communication.FFCommunicationEventAggregator.currentSearchResult=r,g.a.communication.ResultDispatcher.dispatchResult(r,null)}}),this.searchImmediate&&this.search(!0)}},{key:"disconnectedCallback",value:function(){window.removeEventListener("popstate",this.popStateListener),g.a.communication.ResultDispatcher.unsubscribe(this.communicationHistoryFallbackTopic,this.subscriptionKey)}},{key:"attributeChangedCallback",value:function(e,n,i){var r=this.constructor._attributeToPropertyMap.get(e),a=t.properties[r],o=this._getTypeName(a.type);switch(o){case"String":this[r]=null==i?i:String(i);break;case"Boolean":!1===this.hasAttribute(e)?this[r]=!1:this[r]=this._parseBoolean(i,r);break;default:this.error("Property type ".concat(o," is not supported."))}}},{key:"search",value:function(e){var t=g.a.common.getParameterString(),n=t?g.a.common.parameterStringToDict(t,!0):{};n.type="search",n.__immediate=e,!0===this.ignorePage&&delete n.page,this.checkSeo(n),this.checkFilterUrl(n),g.a.communication.FFCommunicationEventAggregator.addFFEvent(n)}},{key:"checkSeo",value:function(e){if(g.a.communication.globalCommunicationParameter.useSeo){var t=window.location.pathname.replace(g.a.communication.globalCommunicationParameter.seoPrefix+"","");e.seoPath=encodeURIComponent(t),delete e.query,e["ff-seo-initial"]=!0}}},{key:"checkFilterUrl",value:function(e){if(g.a.communication.globalCommunicationParameter.useFilterURL){var t=window.location.pathname;"/"===t.substr(0,1)&&(t=t.substr(1));var n=t.replace(g.a.communication.globalCommunicationParameter.filterUrlPrefix,"");"/"===n.substr(0,1)&&(n=n.substr(1));for(var i=n.split("/"),r=[],a=0;a<i.length;a++)if(-1===i[a].indexOf(".")){var o={};if(0==a)o.key="filterCategoryROOT";else{var s=r[a-1];o.key="".concat(s.key,"/").concat(s.value)}o.value=i[a],null!=o.value&&""!==o.value&&r.push(o)}0<r.length&&r.forEach(function(t){e[t.key]=g.a.common.fixedDecodeURIComponent(t.value)})}}},{key:"_addUnitToFilterElements",value:function(e){if(this.addUnitsKey&&g.a.communication.ResultDispatcher.unsubscribe(this.addUnitsKey,"asn"),e)try{this.addUnitsKey=g.a.communication.ResultDispatcher.subscribe("asn",function(e){e.forEach(function(e){e.unit&&e.elements.concat(e.selectedElements).forEach(function(t){t.name.indexOf(e.unit)<0&&(t.name="".concat(t.name," ").concat(e.unit))})})},this)}catch(e){this.error(e)}}},{key:"_parseBoolean",value:function(e,t){var n=String(e).toLowerCase();return-1<["true","false",""].indexOf(n)?"true"===n||""===n:"null"===n?(this.warn("Boolean property [".concat(t,"] is expected be either true, false or empty, but is [").concat(n,"]. Use empty value instead for 'true'. Falling back to true.")),!0):(this.error("Boolean property [".concat(t,"] is expected be either true, false or empty, but is [").concat(n,"]. Falling back to false.")),!1)}},{key:"_getTypeName",value:function(e){return"string"==typeof e?e:"function"==typeof e?e.name?e.name:e.toString().replace("\n","").match(/^function\s*([^\s(]+)/)[1]:void this.error("Type must be either a string or a function.")}},{key:"_initDefaultValues",value:function(){for(var e in t.properties){var n=t.properties[e];n.hasOwnProperty("value")&&(this[e]=n.value)}}}]),t}(Object(v.a)(["ElementLog"],HTMLElement));window.customElements.define(y.is,y)},function(e,t,n){"use strict";function i(e,t){e.querySelectorAll(e.getAttribute("product-image-identifier")||"[data-image]").forEach(function(n){n.onerror&&function(e,t){var n=e.attributes.getNamedItem(t);if(n){var i=n.nodeValue;i&&(e.onerror=function(){e.onerror=null,e.setAttribute("src",i)})}}(n,e.getAttribute("product-image-error-attribute")||"data-image-onerror"),n.setAttribute("src",n.getAttribute("data-image")||t)})}n.d(t,"a",function(){return i})},function(e,t,n){"use strict";n.r(t),n.d(t,"Record",function(){return g});var i=n(3),r=n.n(i),a=n(5),o=n.n(a),s=n(0),c=n.n(s),u=n(2),l=n.n(u),d=n(6),h=n.n(d),f=n(11),p=n(1),m=n(9),g=function(e){function t(){var e;return r()(this,t),(e=o()(this,c()(t).call(this))).attributeName="display",e.stateTwoValue="none",e}return h()(t,e),l()(t,null,[{key:"is",get:function(){return"ff-record"}},{key:"properties",get:function(){return{recordData:{type:Object,observer:"_recordDataChanged"},isRecommendation:{type:Boolean,value:!1},addCartClick:{type:Boolean},addCheckoutClick:{type:Boolean},stampAlways:{type:Boolean}}}}]),l()(t,[{key:"_recordDataChanged",value:function(e,t){if(e){if(!0===e.teaser)return this.innerHTML=e.text,!this.hasAttribute("is-teaser")&&this.setAttribute("is-teaser",""),void this.activateStateOne();this.hasAttribute("is-teaser")&&this.removeAttribute("is-teaser"),t&&e.id===t.id&&!0!==this.stampAlways||(this.model=e,this.bindProductActions(),this.bindProductImage(),this.bindProductAnchors(),this.bindClick(),this.addCartClick&&this.bindCartClick(),this.addCheckoutClick&&this.bindCheckoutClick()),this.activateStateOne()}else this.activateStateTwo()}},{key:"clone",value:function(){var e=document.createElement(t.is);return p.a.common.copyHTMLAttributes(this,e),e.templateString=this.templateString,e}}]),t}(Object(m.a)(["LightDOMTemplate","CssAttributeToggle","RecordBinding","RemoveUnresolvedAttribute","Tracking"],f.a));window.customElements.define(g.is,g)},function(e,t,n){var i=n(54);e.exports=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){i(e,t,n[t])})}return e}},function(e,t,n){"use strict";n.d(t,"a",function(){return a});var i=n(8),r=new WeakMap,a=Object(i.f)(function(e,t){return function(n){var i=r.get(n);if(Array.isArray(e)){if(Array.isArray(i)&&i.length===e.length&&e.every(function(e,t){return e===i[t]}))return}else if(i===e&&(void 0!==e||r.has(n)))return;n.setValue(t()),r.set(n,Array.isArray(e)?Array.from(e):e)}})},function(e,t,n){"use strict";n.r(t),n.d(t,"Middleware",function(){return g});var i=n(3),r=n.n(i),a=n(2),o=n.n(a),s=n(5),c=n.n(s),u=n(0),l=n.n(u),d=n(6),h=n.n(d),f=n(21),p=n.n(f),m=n(43),g=function(e){function t(){return r()(this,t),c()(this,l()(t).apply(this,arguments))}return h()(t,e),o()(t,[{key:"connectedCallback",value:function(){if(m.Communication.is!==this.parentElement.nodeName.toLowerCase())throw new Error("".concat(t.is," must be a direct child of ").concat(m.Communication.is))}}],[{key:"is",get:function(){return"ff-middleware"}}]),t}(p()(HTMLElement));window.customElements.define(g.is,g)},function(e,t,n){"use strict";n.d(t,"a",function(){return g});var i=n(3),r=n.n(i),a=n(2),o=n.n(a),s=n(5),c=n.n(s),u=n(0),l=n.n(u),d=n(6),h=n.n(d),f=n(21),p=n.n(f),m=n(48),g=function(e){function t(){var e;return r()(this,t),(e=c()(this,l()(t).call(this)))._onceExecuted=!1,e}return h()(t,e),o()(t,[{key:"connectedCallback",value:function(){if(m.Middleware.is!==this.parentElement.nodeName.toLowerCase())throw new Error("".concat(this.constructor.is," must be a direct child of ").concat(m.Middleware.is));!this._onceExecuted&&this._once&&(this._once(),this._onceExecuted=!0)}}]),t}(p()(HTMLElement))},function(e,t){function n(t,i){return e.exports=n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},n(t,i)}e.exports=n},function(e,t,n){"use strict";n.r(t),n.d(t,"ElementLogBehavior",function(){return p});var i=n(3),r=n.n(i),a=n(2),o=n.n(a),s=n(5),c=n.n(s),u=n(0),l=n.n(u),d=n(6),h=n.n(d),f=n(1),p=function(e){return function(e){function t(){return r()(this,t),c()(this,l()(t).apply(this,arguments))}return h()(t,e),o()(t,[{key:"trace",value:function(e){e=this._createMsg("trace",e),f.a.common.Logger.trace(e)}},{key:"info",value:function(e){e=this._createMsg("info",e),f.a.common.Logger.info(e)}},{key:"debug",value:function(e){e=this._createMsg("debug",e),f.a.common.Logger.debug(e)}},{key:"warn",value:function(e){e=this._createMsg("warn",e),f.a.common.Logger.warn(e)}},{key:"error",value:function(e){e=this._createMsg("error",e),f.a.common.Logger.error(e)}},{key:"_createMsg",value:function(e,t){return"".concat(e.toUpperCase()," ").concat(this.constructor.is,": ").concat(t)}}]),t}(e)}},function(e,t,n){"use strict";n.r(t),n.d(t,"CollapseElementBehavior",function(){return f});var i=n(3),r=n.n(i),a=n(2),o=n.n(a),s=n(5),c=n.n(s),u=n(0),l=n.n(u),d=n(6),h=n.n(d),f=function(e){return function(e){function t(){return r()(this,t),c()(this,l()(t).apply(this,arguments))}return h()(t,e),o()(t,[{key:"__transitionEnd",value:function(e){var t=this,n=e&&e.nodeName?e:e.currentTarget;try{n.__transitionActive__=!1,n.removeEventListener("transitionend",this.__transitionEnd),"0px"!==n.style.height?(this._updateTransition(n,!1),n.style.height="",n.style.overflow="",setTimeout(function(){return t._updateTransition(n,!0)})):this._updateTransition(n,!0)}catch(e){console.log(e)}finally{if(n&&n.__collapseCallback__){var i=n.__collapseCallback__;delete n.__collapseCallback__,setTimeout(function(){try{i()}catch(e){console.log(e)}},16)}}}},{key:"_updateTransition",value:function(e,t){e.style["transition-duration"]=!0===t?"":"0ms"}},{key:"_isDisplayed",value:function(e){var t=e.getBoundingClientRect();for(var n in t)if(0!==t[n])return!0;return!1}},{key:"_calcSize",value:function(e){var t=e.getBoundingClientRect();return"".concat(t.height,"px")}},{key:"_hide",value:function(e){var t=!(1<arguments.length&&void 0!==arguments[1])||arguments[1],n=2<arguments.length?arguments[2]:void 0;try{"0px"!==e.style.height&&this._doTransition(e,t,"0px",n)}catch(e){console.log(e)}}},{key:"_show",value:function(e){var t=!(1<arguments.length&&void 0!==arguments[1])||arguments[1],n=2<arguments.length?arguments[2]:void 0;try{this._doTransition(e,t,"auto",n)}catch(e){console.log(e)}}},{key:"_toggle",value:function(e){var t=!(1<arguments.length&&void 0!==arguments[1])||arguments[1],n=2<arguments.length?arguments[2]:void 0,i=this._calcSize(e).replace(/\D/g,""),r=e.hasAttribute("opened");0<parseFloat(i)&&!r?this._hide(e,t,n):r?this._hide(e,t,n):this._show(e,t,n)}},{key:"_doTransition",value:function(e,t,n,i){if(!e.__transitionActive__){e.__transitionActive__=!0,i&&(e.__collapseCallback__=i);var r=window.getComputedStyle(e),a=r["transition-duration"]||r.transitionDuration;if(t=a&&"0"!==a.replace(/\D/g,"")&&t,this._updateTransition(e,!1),t&&this._isDisplayed(e)){var o=this._calcSize(e);if("auto"===n&&(e.style.height="",n=this._calcSize(e)),n===(e.style.height=o))return e.style.height="",e.__transitionActive__=!1,delete e.__collapseCallback__,void this._updateTransition(e,t);e.offsetHeight,this._updateTransition(e,t),e.addEventListener("transitionend",this.__transitionEnd.bind(this))}"0px"===n?(e.style.overflow="hidden",e.removeAttribute("opened")):e.setAttribute("opened",""),e.style.height=n,t&&this._isDisplayed(e)||(e.offsetHeight,this.__transitionEnd(e))}}},{key:"_showChecked",value:function(e,t,n){e&&this._show(e,t,n)}},{key:"_hideChecked",value:function(e,t,n){e&&this._hide(e,t,n)}},{key:"_toggleChecked",value:function(e,t,n){e&&this._toggle(e,t,n)}}]),t}(e)}},function(e,t,n){"use strict";n.r(t),n.d(t,"TrackingBehavior",function(){return p});var i=n(3),r=n.n(i),a=n(2),o=n.n(a),s=n(5),c=n.n(s),u=n(0),l=n.n(u),d=n(6),h=n.n(d),f=n(1),p=function(e){return function(e){function t(){var e;return r()(this,t),(e=c()(this,l()(t).call(this))).clickSelector="[data-track]",e.productClickSelector='[data-track="productClick"]',e.recommendationClickSelector='[data-track="recommendationClick"]',e.checkoutClickSelector='[data-track="checkoutClick"]',e.cartClickSelector='[data-track="cartClick"]',e.dataCountSelector="[data-track-count]",e.tracking=new f.a.communication.Tracking12,e.getTrackingProductId=f.a.communication.Util.trackingHelper.getTrackingProductId,e.getPrice=f.a.communication.Util.trackingHelper.getPrice,e.getMasterArticleNumber=f.a.communication.Util.trackingHelper.getMasterArticleNumber,e.getUserId=f.a.communication.Util.trackingHelper.getUserId,e.getTitle=f.a.communication.Util.trackingHelper.getTitle,e}return h()(t,e),o()(t,[{key:"appendCount",value:function(e,t){e.count=t.count||"1";var n=t.querySelector(this.dataCountSelector);if(n){var i=n.getAttribute("data-track-count");e.count=n[i]||n.value||"1"}}},{key:"appendInstoreAds",value:function(e,t){"true"===t.record.__FFInstoreAds__&&(e.instoreAds="true")}},{key:"appendCampaign",value:function(e,t){t.record.__FFCampaign__&&(e.campaign=t.record.__FFCampaign__)}},{key:"appendUserId",value:function(e){var t=this.getUserId();null!=t&&(e.userId=t)}},{key:"appendTitle",value:function(e,t){var n=this.getTitle(t);null!=n&&(e.title=n)}},{key:"appendPageSize",value:function(e,t,n){var i=null;if(n&&n.resultsPerPageList)for(var r=0;r<n.resultsPerPageList.length;r++){var a=n.resultsPerPageList[r];if(1==a.selected){i=a.value;break}}null!=i&&(e.pageSize=i)}},{key:"appendOrigPageSize",value:function(e,t){var n=null;if(t&&t.resultsPerPageList)for(var i=0;i<t.resultsPerPageList.length;i++){var r=t.resultsPerPageList[i];if(1==r.default){n=r.value;break}}null!=n&&(e.origPageSize=n)}},{key:"appendSimi",value:function(e,t){var n=t.searchSimilarity;null!=n&&(e.simi=n)}},{key:"appendMasterArticleNumber",value:function(e,t){var n=this.getMasterArticleNumber(t);null!=n&&(e.masterId=n)}},{key:"getRecordElement",value:function(e,t){return t&&!e?{recordData:t}:e&&t?(e.recordData=t,e):e.tagName&&"ff-record"===e.tagName.toLowerCase()?this:f.a.common.getParentElementByName(e,"ff-record")}},{key:"bindClick",value:function(e){var t;e=e||this,this.searchLightDOM&&(t=e,!0===this.isRecommendation?m(this,this.clickSelector,function(t){e._trackRecommendationClick(e)},t):m(this,this.clickSelector,function(t){e._trackProductClick(e)},t))}},{key:"bindProductClick",value:function(e){var t;e=e||this,this.searchLightDOM&&(t=e,m(this,this.productClickSelector,function(t){e._trackProductClick(e)},t))}},{key:"bindRecommendationClick",value:function(e){var t;e=e||this,this.searchLightDOM&&(t=e,m(this,this.recommendationClickSelector,function(t){e._trackRecommendationClick(e)},t))}},{key:"bindCheckoutClick",value:function(e){var t;e=e||this,this.searchLightDOM&&(t=e,m(this,this.checkoutClickSelector,function(t){e._trackCheckoutClick(e)},t))}},{key:"bindCartClick",value:function(e){var t;e=e||this,this.searchLightDOM&&(t=e,m(this,this.cartClickSelector,function(t){e._trackCartClick(e)},t))}},{key:"_trackRecommendationClick",value:function(e,t,n){var i,r;if(i=t?{recordData:t}:e.tagName&&"ff-record"===e.tagName.toLowerCase()?this:f.a.common.getParentElementByName(e,"ff-record"),"ff-recommendation"===e.tagName.toLowerCase())r=e;else{var a=e;r=f.a.common.getParentElementByName(a,"ff-recommendation")}if(i){var o={type:"recommendationClick",mainId:r.recordId,id:this.getTrackingProductId(i.recordData)};this.appendMasterArticleNumber(o,i.recordData),this.appendUserId(o),n&&(o.always=n),this.tracking.recommendationClick(o)}}},{key:"_trackCheckoutClick",value:function(e,t,n){var i=this.getRecordElement(e,t);if(i){var r={id:this.getTrackingProductId(i.recordData),price:this.getPrice(i.recordData)},a=i.recordData.record.__FFCartQuery__||f.a.communication.Util.getQueryFromSearchParams();a&&(r.query=a),this.appendMasterArticleNumber(r,i.recordData),this.appendCount(r,e),this.appendCampaign(r,i.recordData),this.appendInstoreAds(r,i.recordData),this.appendUserId(r),n&&(r.always=n),this.tracking.checkout(r)}else console.log("No record element found. Tracking not possible.")}},{key:"_trackCartClick",value:function(e,t,n){var i=this.getRecordElement(e,t),r={id:this.getTrackingProductId(i.recordData),price:this.getPrice(i.recordData),query:f.a.communication.Util.getQueryFromSearchParams()};this.appendMasterArticleNumber(r,i.recordData),this.appendCount(r,e),this.appendCampaign(r,i.recordData),this.appendInstoreAds(r,i.recordData),this.appendUserId(r),n&&(r.always=n),this.tracking.cart(r)}},{key:"_trackProductClick",value:function(e,t,n){e=this.getRecordElement(e,t);var i=f.a.communication.FFCommunicationEventAggregator.currentSearchResult,r=e.recordData.position||e.recordData.record.__ORIG_POSITION__,a=f.a.communication.Util.getQueryFromSearchParams(),o=f.a.common.parameterStringToDict(f.a.common.getParameterString());if(o.navigation){for(var s in o)-1<s.indexOf("CategoryROOT")&&(a="".concat(s.replace("filterCategoryROOT",""),"%2F").concat(o[s]));a=f.a.common.fixedDecodeURIComponent(a)}var c={query:a,page:e.recordData.record.page||i.paging.currentPage,id:this.getTrackingProductId(e.recordData),pos:r,origPos:e.recordData.record.__ORIG_POSITION__||r,origPageSize:i.resultsPerPageList[0].value};this.appendPageSize(c,e.recordData,i),this.appendSimi(c,e.recordData),this.appendMasterArticleNumber(c,e.recordData),this.appendCampaign(c,e.recordData),this.appendInstoreAds(c,e.recordData),this.appendTitle(c,e.recordData),this.appendUserId(c),this.appendOrigPageSize(c,i),n&&(c.always=n),this.tracking.click(c)}}]),t}(e)};function m(e,t,n,i){var r=(i||e).querySelectorAll(t);return!!r&&(n=n.bind(e),r.forEach(function(e){return e.addEventListener("click",n)}),!0)}},function(e,t){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},function(e,t,n){e.exports=n(73)},function(e,t,n){"use strict";n.r(t),n.d(t,"SearchBox",function(){return C});var i=n(3),r=n.n(i),a=n(5),o=n.n(a),s=n(12),c=n.n(s),u=n(0),l=n.n(u),d=n(4),h=n.n(d),f=n(2),p=n.n(f),m=n(6),g=n.n(m),v=n(30),y=n(13),b=n(7),_=n(1),k=n(9),w=n(36),C=function(e){function t(){var e;return r()(this,t),(e=o()(this,l()(t).call(this))).selectedIndex=-1,e._ffCommunication=_.a.communication.FFCommunicationEventAggregator,e._inputValueChanged=e._inputValueChanged.bind(c()(e)),e.suggestOnfocus=!1,e.hidesuggestOnblur=!0,e.selectOnclick=!1,e.useSuggest=!0,e.suggestDelay=0,e.showAsteriskQuery=!1,e._externalHighlightKey=void 0,e._subscriptionKey=void 0,e}return g()(t,e),p()(t,[{key:"value",get:function(){if(this.input)return this.input.value;this.error("Input element not initialized.")},set:function(e){this.input?(this.input.value=e,this.input.dispatchEvent(new Event("input",{bubbles:!0}))):this.error("Input element not initialized.")}}],[{key:"is",get:function(){return"ff-searchbox"}},{key:"properties",get:function(){return{suggestOnfocus:{type:b.c,attribute:"suggest-onfocus"},hidesuggestOnblur:{type:b.c,attribute:"hidesuggest-onblur"},selectOnclick:{type:b.c,attribute:"select-onclick"},useSuggest:{type:b.c,attribute:"use-suggest"},suggestDelay:{type:Number,attribute:"suggest-delay"},showAsteriskQuery:{type:b.c,attribute:"show-asterisk-query"}}}}]),p()(t,[{key:"firstUpdated",value:function(e){var n=this;h()(l()(t.prototype),"firstUpdated",this).call(this,e),this.input.addEventListener("input",this._inputValueChanged),this.input.addEventListener("blur",this._inputValueChanged),this.input.addEventListener("focus",this._inputValueChanged),!0===this.selectOnclick?this.addEventListener("click",this.input.select.bind(this.input)):!1!==this.selectOnclick&&this.warn("select-onclick has to be either 'true' or 'false'"),this.input.onkeyup=function(e){13===e.keyCode&&n._onEnter(),27===e.keyCode&&n._hideSuggest(),40===e.keyCode&&n._onArrowDown(e),38===e.keyCode&&n._onArrowUp(e),37===e.keyCode&&n.move("left"),39===e.keyCode&&n.move("right")};try{var i=_.a.common.parameterStringToDict(_.a.common.getParameterString()).query,r=_.a.common.fixedDecodeURIComponent(i?i[0]:_.a.communication.globalSearchParameter.query);this.input.value="*"!==r||this.showAsteriskQuery?r:"",_.a.communication.globalElementValues.currentFFSearchBoxValue=r}catch(e){this.error(e)}}},{key:"connectedCallback",value:function(){h()(l()(t.prototype),"connectedCallback",this).call(this),this.resetInput(),this._externalHighlightKey||(this._externalHighlightKey=_.a.communication.ResultDispatcher.subscribe("ff_suggestHighlight",this._handleExternalHighlight,this)),this._subscriptionKey||(this._subscriptionKey=_.a.communication.ResultDispatcher.subscribe("bct",this._queryChanged,this))}},{key:"disconnectedCallback",value:function(){h()(l()(t.prototype),"disconnectedCallback",this).call(this),this._externalHighlightKey&&(_.a.communication.ResultDispatcher.unsubscribe("ff_suggestHighlight",this._externalHighlightKey),this._externalHighlightKey=void 0),this._subscriptionKey&&(_.a.communication.ResultDispatcher.unsubscribe("bct",this._subscriptionKey),this._subscriptionKey=void 0)}},{key:"_queryChanged",value:function(e){if(e&&e[0]){var t=e[0].text;this.input.value="*"!==t||this.showAsteriskQuery?t:"",_.a.communication.globalElementValues.currentFFSearchBoxValue=t}}},{key:"_inputValueChanged",value:function(e){var t=this;e&&("focus"===e.type&&(!0===this.suggestOnfocus?this._triggerSuggest():!1!==this.suggestOnfocus&&this.warn("suggest-onfocus has to be either 'true' or 'false'")),"input"===e.type&&(_.a.communication.globalElementValues.currentFFSearchBoxValue=e.currentTarget.value,this._triggerSuggest()),"blur"===e.type?!0===this.hidesuggestOnblur?y.b.run(function(){return t._hideSuggest()},150):!1!==this.hidesuggestOnblur&&this.warn("hidesuggest-onblur has to be either 'true' or 'false'"):e.detail&&void 0!==e.detail.value&&this._ffCommunication.addFFEvent({type:"suggest",query:e.detail.value}))}},{key:"_triggerSuggest",value:function(){var e=this;!1!==this.useSuggest&&(this.resetHighlight(),this._debounceJob=v.a.debounce(this._debounceJob,y.b.after(this.suggestDelay),function(){return e._fireSuggest()}))}},{key:"_fireSuggest",value:function(){if(this.value&&2<=this.value.length){var e={type:"suggest",query:this.value};this.dispatchEvent(new CustomEvent("before-suggest",{detail:e,bubbles:!0})),this._ffCommunication.addFFEvent(e)}else this._hideSuggest()}},{key:"_hideSuggest",value:function(){this.resetHighlight(),this.selectedIndex=-1,_.a.communication.ResultDispatcher.dispatchSuggest(void 0,null)}},{key:"search",value:function(){var e={type:"search",query:this.value};this.dispatchEvent(new CustomEvent("before-target",{detail:e})),this._ffCommunication.addFFEvent(e)}},{key:"_onEnter",value:function(){-1!==this.selectedIndex?this.searchSelected():this.search(),this._hideSuggest()}},{key:"_onArrowUp",value:function(e){if(!(this.selectedIndex<=0)){this.input.setSelectionRange(0,this.value.length);var t=this.getSuggestItems();return 0<t.length&&(this.removeHighlight(t[this.selectedIndex]),this.selectedIndex--,0<=this.selectedIndex&&this.setHighlight(t[this.selectedIndex])),e.stopPropagation(),e.preventDefault(),e.returnValue=!1,!(e.cancelBubble=!0)}}},{key:"_onArrowDown",value:function(e){var t=this.getSuggestItems();this.selectedIndex!==t.length-1&&0<t.length&&(-1!==this.selectedIndex&&this.removeHighlight(t[this.selectedIndex]),this.selectedIndex++,this.selectedIndex<t.length&&this.setHighlight(t[this.selectedIndex]))}},{key:"move",value:function(e){var t=this.getSuggestItems(),n=t[this.selectedIndex];if(n){var i=n.getBoundingClientRect(),r=[];t.forEach(function(t){var n=t.getBoundingClientRect();"left"===e&&n.left<i.left?r.push(t):"right"===e&&n.left>i.left&&r.push(t)});var a=null,o=1/0,s=1/0;r.forEach(function(e){var t=e.getBoundingClientRect(),n=Math.abs(t.left-i.left),r=Math.abs(t.top-i.top);a?r<s?(a=e,s=r):r===s&&n<o&&(a=e,o=n):(a=e,o=n,s=r)}),a&&(this.removeHighlight(n),this.setHighlight(a),this.selectedIndex=t.indexOf(a))}}},{key:"searchSelected",value:function(){var e=this.getSuggestItems()[this.selectedIndex];_.a.common.fireCustomEvent("click",!0,!0,e)}},{key:"getSuggestItems",value:function(){var e=document.querySelectorAll(w.a.is);return Array.from(e).filter(function(e){return 0!==e.offsetHeight})}},{key:"resetInput",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"input";this.input=this.querySelector(e)}},{key:"_handleExternalHighlight",value:function(e){this.resetHighlight(),this.setHighlight(e.element),this.selectedIndex=e.selectedIndex}},{key:"setHighlight",value:function(e){if(e.classList.add("ffw-highlight-suggest-item"),e._onfocus)try{e._onfocus()}catch(e){this.error(e)}}},{key:"removeHighlight",value:function(e){e.classList.remove("ffw-highlight-suggest-item")}},{key:"resetHighlight",value:function(){this.selectedIndex=-1,this.getSuggestItems().forEach(function(e){e.classList.remove("ffw-highlight-suggest-item")})}}]),t}(Object(k.a)(["ElementLog"],b.a));window.customElements.define(C.is,C)},function(e,t){function n(e,t,n,i,r,a,o){try{var s=e[a](o),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(i,r)}e.exports=function(e){return function(){var t=this,i=arguments;return new Promise(function(r,a){var o=e.apply(t,i);function s(e){n(o,r,a,s,c,"next",e)}function c(e){n(o,r,a,s,c,"throw",e)}s(void 0)})}}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return PagingSet});var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(3),_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__),_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(5),_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_1__),_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(0),_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_2__),_babel_runtime_helpers_get__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(4),_babel_runtime_helpers_get__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(_babel_runtime_helpers_get__WEBPACK_IMPORTED_MODULE_3__),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(2),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_4__),_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(6),_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5__),ff_core_dist_ff_core__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(1),_behaviors_BehaviorDecorator__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(9),utils_FACTFinderLitElement__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(7),PagingSet=function(_BehaviorDecorator){function PagingSet(){var e;return _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default()(this,PagingSet),(e=_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_1___default()(this,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_2___default()(PagingSet).call(this))).state="all",e._isActive=!1,e.hideSelf(),e}return _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5___default()(PagingSet,_BehaviorDecorator),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_4___default()(PagingSet,null,[{key:"is",get:function(){return"ff-paging-set"}},{key:"properties",get:function(){return{state:{type:String,reflect:!0},paging:{type:Object,attribute:!1}}}}]),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_4___default()(PagingSet,[{key:"update",value:function(e){e.has("paging")&&this._pagingChanged(),_babel_runtime_helpers_get__WEBPACK_IMPORTED_MODULE_3___default()(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_2___default()(PagingSet.prototype),"update",this).call(this,e)}},{key:"_pagingChanged",value:function _pagingChanged(){if("all"!==this.state){var state=this.state.replace(/currentPage/g,this.paging.currentPage).replace(/pageCount/g,this.paging.pageCount);if(/[a-z]/i.test(state))return this._isActive=!1,this.hideSelf(),void this.error("Alphabetical values are not allowed. Could not resolve [".concat(/[a-z].*/i.exec(state),"] in state [").concat(state,"]"));try{this._isActive=eval(state),this.isActive?this.showSelf():this.hideSelf()}catch(e){this._isActive=!1,this.hideSelf()}}else this._isActive=!0}},{key:"isActive",get:function(){return this._isActive}}]),PagingSet}(Object(_behaviors_BehaviorDecorator__WEBPACK_IMPORTED_MODULE_7__.a)(["ElementLog"],utils_FACTFinderLitElement__WEBPACK_IMPORTED_MODULE_8__.a));window.customElements.define(PagingSet.is,PagingSet)},function(e,t,n){var i=n(60);"string"==typeof i&&(i=[[e.i,i,""]]);n(61)(i,{insertAt:"top",hmr:!0,transform:void 0,insertInto:void 0}),i.locals&&(e.exports=i.locals)},function(e,t){e.exports="ff-campaign-advisor,ff-campaign-advisor-question,ff-campaign-feedbacktext,ff-campaign-pushed-products,ff-single-word-search,ff-single-word-search-record{display:block}ff-products-per-page-dropdown{display:inline-block;outline:none}ff-products-per-page-dropdown .ffw-ppp-dropdown-closed{display:none}ff-products-per-page-dropdown .ffw-ppp-dropdown-container{position:absolute;background-color:#fff;outline:none;z-index:1001;-webkit-transition:height .4s;-moz-transition:height .4s;-ms-transition:height .4s;-o-transition:height .4s;transition:height .4s;box-sizing:border-box}ff-products-per-page-item{display:block;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}ff-products-per-page-list{display:inline-block;outline:none}ff-products-per-page-list ff-products-per-page-item,ff-products-per-page-select{display:inline-block}ff-header-navigation .ffw-header-nav{position:relative}ff-header-navigation .ffw-header{display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-wrap:nowrap;flex-wrap:nowrap;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between}ff-header-navigation .ffw-body{display:-webkit-box;display:-ms-flexbox;display:flex;flex-direction:column;position:absolute;z-index:1;width:inherit;left:0;right:0;background-color:#fff}ff-header-navigation .ffw-body-middle{display:flex;flex-direction:row}ff-header-navigation .ffw-body-center{display:-webkit-box;display:-ms-flexbox;display:flex;flex-grow:1;-ms-flex-wrap:wrap;flex-wrap:wrap}ff-header-navigation .ffw-nav-group{-webkit-box-flex:0;-ms-flex-positive:0;flex-grow:0;-ms-flex-negative:0;flex-shrink:0;-ms-flex-preferred-size:300px;flex-basis:300px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}ff-nav-element.ffw-nav-item{-webkit-box-flex:1;-ms-flex:1;flex:1}ff-nav-element a{color:inherit;cursor:inherit;text-decoration:inherit}ff-record-list{display:block}ff-record-list .ffw-infinite-scrolling-border{height:1px;width:1px;position:absolute}ff-record{display:inline-block;vertical-align:top}ff-sortbox{display:inline-block;outline:none}ff-sortbox .ffw-closed{display:none}ff-sortbox .ffw-dropdown-container{position:absolute;background-color:#fff;z-index:1001;-webkit-transition:height .4s;-moz-transition:height .4s;-ms-transition:height .4s;-o-transition:height .4s;transition:height .4s;box-sizing:border-box}ff-sortbox-item{display:none;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}ff-paging,ff-paging-dropdown,ff-paging-item,ff-paging-set,ff-sortbox-select{display:inline-block}ff-paging-item .ffw-cursor{cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}ff-paging-dropdown{outline:none}ff-paging-dropdown .ffw-paging-dropdown-container{position:absolute;display:flex;flex-direction:column;background-color:#fff;outline:none;z-index:1001;-webkit-transition:height .4s;-moz-transition:height .4s;-ms-transition:height .4s;-o-transition:height .4s;transition:height .4s;box-sizing:border-box}ff-paging-dropdown .ffw-paging-dropdown-closed{display:none}ff-recommendation,ff-similar-products{display:block}ff-onfocus-suggest{display:block;z-index:9999}ff-onfocus-suggest .ffw-blockLayout{display:-webkit-box;display:-moz-box;display:-ms-flexbox;display:-webkit-flex;display:flex;flex-wrap:nowrap;-ms-flex-wrap:nowrap;-webkit-flex-wrap:nowrap;flex-direction:row;-ms-flex-direction:row;-webkit-flex-direction:row}ff-onfocus-suggest .ffw-suggestContainer{position:relative;z-index:9999;background-color:#fff;top:0;left:0;right:0}ff-onfocus-suggest .ffw-suggestContainerWrapper{position:absolute}ff-onfocus-suggest .ffw-suggestContainerPositioning{position:relative;width:100%}ff-onfocus-suggest .ffw-suggestContainerWrapperHidden{display:none}ff-suggest-item{display:block;word-wrap:break-word}ff-suggest-item:hover{text-decoration:underline}ff-suggest{display:block;z-index:9999}ff-suggest .ffw-blockLayout{display:flex;flex-wrap:nowrap;-ms-flex-wrap:nowrap;-webkit-flex-wrap:nowrap;flex-direction:row;-ms-flex-direction:row;-webkit-flex-direction:row}ff-suggest .ffw-listLayout{display:block}ff-suggest .ffw-suggestContainer{position:relative;z-index:9999;background-color:#fff;top:0;left:0;right:0}ff-suggest .ffw-suggestContainerWrapper{position:absolute}ff-suggest .ffw-hideSuggestContainerWrapper{display:none}ff-navigation{-ms-flex-wrap:nowrap;flex-wrap:nowrap;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between}ff-navigation,ff-navigation .ffw-menu-items{display:-webkit-box;display:-ms-flexbox;display:flex}ff-navigation .ffw-menu-items{-webkit-box-flex:1;-ms-flex:1;flex:1;width:100%}ff-navigation[layout=vertical]>.ffw-menu-items{-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}ff-navigation[layout=horizontal]>.ffw-menu-items{-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row}ff-navigation .ffw-navigation-label{display:none}ff-navigation #navigation-menu{display:none;border-bottom:1px solid #000;cursor:pointer;padding:5px;background-color:#b9ecff;-webkit-box-flex:1;-ms-flex:1;flex:1;width:100%}ff-navigation[mobile=true]>.ffw-navigation-label{display:block}ff-navigation[mobile=true]>#navigation-menu:checked+label+.ffw-menu-items{display:-webkit-box!important;display:-ms-flexbox!important;display:flex!important;-webkit-box-orient:vertical!important;-webkit-box-direction:normal!important;-ms-flex-direction:column!important;flex-direction:column!important}ff-navigation[mobile=true]>.ffw-menu-items{display:none;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}ff-navigation[mobile=true]{-webkit-box-orient:vertical!important;-webkit-box-direction:normal!important;-ms-flex-direction:column!important;flex-direction:column!important;width:100%}ff-navigation-item{-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;position:relative;display:-webkit-box;display:-ms-flexbox;display:flex;cursor:pointer}ff-navigation-item .ffw-item-caption{width:100%}ff-navigation-item .ffw-container-hidden{display:none!important}ff-navigation-item .ffw-item-container{display:none;-webkit-transition:all .1s linear;transition:all .1s linear;-webkit-transition-delay:.3s;transition-delay:.3s;position:absolute;z-index:1;background-color:#fff}ff-navigation-item[direction=down][flyout=true]>.ffw-item-container{top:100%}ff-navigation-item[direction=down]>.ffw-item-container{top:100%;left:0}ff-navigation-item[flyout=false][selected]>.ffw-item-container{top:0;z-index:0;position:relative;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}ff-navigation-item[flyout=false]>.ffw-item-container{display:none}ff-navigation-item[flyout=false][direction=down][selected]>.ffw-item-container{top:0}ff-navigation-item[flyout=false]{-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}ff-navigation-item[flyout=false][selected] .ffw-navigation-link{display:none!important;top:0}ff-navigation-item[flyout=false] .ffw-navigation-link{display:none!important}ff-navigation-item[flyout=true][direction=right]>.ffw-item-container{top:0;left:100%}ff-navigation-item[flyout=true][direction=left]>.ffw-item-container{top:0;right:100%}ff-navigation-item[flyout=true]:hover>.ffw-item-container:not(:empty){display:inline-block}ff-asn{outline:none;transition:opacity .6s;display:block}ff-asn[align=horizontal]{display:-webkit-box;display:-moz-box;display:-ms-flexbox;display:-webkit-flex;display:flex}ff-asn-group{opacity:0;transition:opacity .4s;outline:none;display:block;min-width:180px;max-width:220px}ff-asn-group[align=horizontal] #wrapper{position:absolute;width:100%}ff-asn-group .ffw-asn-group-container{position:relative}ff-asn-group .ffw-wrapper{position:relative;transition-duration:.35s}ff-asn-group-element,ff-asn-group-slider{display:block;outline:none}ff-asn-group-slider{opacity:0;transition:opacity .4s;min-width:180px;max-width:220px}ff-asn[align=horizontal] ff-asn-group-slider .ffw-wrapper{position:absolute;width:100%}ff-asn-group-slider .ffw-container{position:relative}ff-asn-group-slider .ffw-wrapper{position:relative;transition-duration:.4s}ff-slider-control{display:block;opacity:0;transition:opacity .8s;padding:10px 0}ff-slider-control .ffw-sliderSection{margin-top:10px}ff-slider{height:5px;background-color:#336;margin:5px auto;display:block;opacity:0;transition:opacity .8s}ff-slider .ffw-sliderWrapper{min-width:1px}ff-slider [slot^=slider]{height:10px;width:10px;border:1px solid #000;cursor:pointer}ff-compare{display:block}ff-asn-remove-all-filter{display:inline-block}ff-breadcrumb-trail{display:inline}ff-breadcrumb-trail-item{transition:opacity .8s;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}ff-search-feedback{position:absolute;top:20px}ff-search-feedback[align=left]{left:0}ff-search-feedback[align=right]{right:0}ff-search-feedback[align=left] .ffw-content{transform:translate(0)}ff-search-feedback[align=left] .ffw-caption{transform:translate(100%)}ff-search-feedback .ffw-noTransition{transition:0s!important}ff-search-feedback .ffw-caption{position:absolute;right:0;transition:transform .3s;cursor:pointer}ff-search-feedback .ffw-content{position:absolute;transition:transform .3s;transform:translate(100%);right:0;text-align:left}ff-search-feedback .ffw-transformZero{transform:translate(0)!important}ff-search-feedback .ffw-transformX{transform:translate(100%)!important}ff-tag-cloud{display:block;max-width:600px}ff-tag-cloud .ffw-tagCloudContainer{display:flex;justify-content:space-around;flex-wrap:wrap}ff-tag-cloud .ffw-tagCloudLink{padding:2px}.ffw-hidden{display:none!important}"},function(e,t,n){var i,r,a,o={},s=(i=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===r&&(r=i.apply(this,arguments)),r}),c=(a={},function(e,t){if("function"==typeof e)return e();if(void 0===a[e]){var n=function(e,t){return t?t.querySelector(e):document.querySelector(e)}.call(this,e,t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}a[e]=n}return a[e]}),u=null,l=0,d=[],h=n(62);function f(e,t){for(var n=0;n<e.length;n++){var i=e[n],r=o[i.id];if(r){r.refs++;for(var a=0;a<r.parts.length;a++)r.parts[a](i.parts[a]);for(;a<i.parts.length;a++)r.parts.push(b(i.parts[a],t))}else{var s=[];for(a=0;a<i.parts.length;a++)s.push(b(i.parts[a],t));o[i.id]={id:i.id,refs:1,parts:s}}}}function p(e,t){for(var n=[],i={},r=0;r<e.length;r++){var a=e[r],o=t.base?a[0]+t.base:a[0],s={css:a[1],media:a[2],sourceMap:a[3]};i[o]?i[o].parts.push(s):n.push(i[o]={id:o,parts:[s]})}return n}function m(e,t){var n=c(e.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var i=d[d.length-1];if("top"===e.insertAt)i?i.nextSibling?n.insertBefore(t,i.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),d.push(t);else if("bottom"===e.insertAt)n.appendChild(t);else{if("object"!=typeof e.insertAt||!e.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var r=c(e.insertAt.before,n);n.insertBefore(t,r)}}function g(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=d.indexOf(e);0<=t&&d.splice(t,1)}function v(e){var t=document.createElement("style");if(void 0===e.attrs.type&&(e.attrs.type="text/css"),void 0===e.attrs.nonce){var i=n.nc;i&&(e.attrs.nonce=i)}return y(t,e.attrs),m(e,t),t}function y(e,t){Object.keys(t).forEach(function(n){e.setAttribute(n,t[n])})}function b(e,t){var n,i,r,a,o,s;if(t.transform&&e.css){if(!(a="function"==typeof t.transform?t.transform(e.css):t.transform.default(e.css)))return function(){};e.css=a}if(t.singleton){var c=l++;n=u||(u=v(t)),i=w.bind(null,n,c,!1),r=w.bind(null,n,c,!0)}else r=e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(o=t,s=document.createElement("link"),void 0===o.attrs.type&&(o.attrs.type="text/css"),o.attrs.rel="stylesheet",y(s,o.attrs),m(o,s),i=function(e,t,n){var i=n.css,r=n.sourceMap,a=void 0===t.convertToAbsoluteUrls&&r;(t.convertToAbsoluteUrls||a)&&(i=h(i)),r&&(i+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");var o=new Blob([i],{type:"text/css"}),s=e.href;e.href=URL.createObjectURL(o),s&&URL.revokeObjectURL(s)}.bind(null,n=s,t),function(){g(n),n.href&&URL.revokeObjectURL(n.href)}):(n=v(t),i=function(e,t){var n=t.css,i=t.media;if(i&&e.setAttribute("media",i),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}.bind(null,n),function(){g(n)});return i(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;i(e=t)}else r()}}e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(t=t||{}).attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||"boolean"==typeof t.singleton||(t.singleton=s()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var n=p(e,t);return f(n,t),function(e){for(var i=[],r=0;r<n.length;r++){var a=n[r];(s=o[a.id]).refs--,i.push(s)}for(e&&f(p(e,t),t),r=0;r<i.length;r++){var s;if(0===(s=i[r]).refs){for(var c=0;c<s.parts.length;c++)s.parts[c]();delete o[s.id]}}}};var _,k=(_=[],function(e,t){return _[e]=t,_.filter(Boolean).join("\n")});function w(e,t,n,i){var r=n?"":i.css;if(e.styleSheet)e.styleSheet.cssText=k(t,r);else{var a=document.createTextNode(r),o=e.childNodes;o[t]&&e.removeChild(o[t]),o.length?e.insertBefore(a,o[t]):e.appendChild(a)}}},function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var n=t.protocol+"//"+t.host,i=n+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(e,t){var r,a=t.trim().replace(/^"(.*)"$/,function(e,t){return t}).replace(/^'(.*)'$/,function(e,t){return t});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(a)?e:(r=0===a.indexOf("//")?a:0===a.indexOf("/")?n+a:i+a.replace(/^\.\//,""),"url("+JSON.stringify(r)+")")})}},function(e,t){e.exports=function(e){if(Array.isArray(e))return e}},function(e,t){e.exports=function(e,t){var n=[],i=!0,r=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(i=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);i=!0);}catch(e){r=!0,a=e}finally{try{i||null==s.return||s.return()}finally{if(r)throw a}}return n}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}},function(e,t,n){"use strict";n.r(t);var i=n(11),r=i.a.prototype.attributeChangedCallback;i.a.prototype.attributeChangedCallback=function(e,t,n){r.apply(this,arguments);var i=e.replace(/-([a-z])/g,function(e){return e[1].toUpperCase()}),a=this.constructor.properties[i];a&&a.type===Boolean&&n&&"false"===n.toLowerCase()&&console.warn("Attribute [".concat(e,'] is present and set to "false"; however, its corresponding property [').concat(i,'] is of Boolean type.\nThis will NOT cause the property to be "false", it will become "true" because of the presence of the attribute! \nSee https://web-components.fact-finder.de/documentation/attribute-basics for more information. Related component:\n'),this)}},function(e,t,n){var i=n(0);e.exports=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=i(e)););return e}},function(e,t){e.exports=function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}},function(e,t){e.exports=function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}},function(e,t){e.exports=function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}},function(e,t,n){var i=n(50);function r(t,n,a){return function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()?e.exports=r=Reflect.construct:e.exports=r=function(e,t,n){var r=[null];r.push.apply(r,t);var a=new(Function.bind.apply(e,r));return n&&i(a,n.prototype),a},r.apply(null,arguments)}e.exports=r},function(e,t,n){var i=function(){return this||"object"==typeof self&&self}()||Function("return this")(),r=i.regeneratorRuntime&&0<=Object.getOwnPropertyNames(i).indexOf("regeneratorRuntime"),a=r&&i.regeneratorRuntime;if(i.regeneratorRuntime=void 0,e.exports=n(74),r)i.regeneratorRuntime=a;else try{delete i.regeneratorRuntime}catch(e){i.regeneratorRuntime=void 0}},function(e,t){!function(t){"use strict";var n,i=Object.prototype,r=i.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag",u="object"==typeof e,l=t.regeneratorRuntime;if(l)u&&(e.exports=l);else{(l=t.regeneratorRuntime=u?e.exports:{}).wrap=_;var d="suspendedStart",h="suspendedYield",f="executing",p="completed",m={},g={};g[o]=function(){return this};var v=Object.getPrototypeOf,y=v&&v(v(R([])));y&&y!==i&&r.call(y,o)&&(g=y);var b=S.prototype=w.prototype=Object.create(g);C.prototype=b.constructor=S,S.constructor=C,S[c]=C.displayName="GeneratorFunction",l.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===C||"GeneratorFunction"===(t.displayName||t.name))},l.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,S):(e.__proto__=S,c in e||(e[c]="GeneratorFunction")),e.prototype=Object.create(b),e},l.awrap=function(e){return{__await:e}},P(E.prototype),E.prototype[s]=function(){return this},l.AsyncIterator=E,l.async=function(e,t,n,i){var r=new E(_(e,t,n,i));return l.isGeneratorFunction(t)?r:r.next().then(function(e){return e.done?e.value:r.next()})},P(b),b[c]="Generator",b[o]=function(){return this},b.toString=function(){return"[object Generator]"},l.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var i=t.pop();if(i in e)return n.value=i,n.done=!1,n}return n.done=!0,n}},l.values=R,A.prototype={constructor:A,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(O),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=n)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function i(i,r){return s.type="throw",s.arg=e,t.next=i,r&&(t.method="next",t.arg=n),!!r}for(var a=this.tryEntries.length-1;0<=a;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(c&&u){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;0<=n;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,m):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),O(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var r=i.arg;O(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,i){return this.delegate={iterator:R(e),resultName:t,nextLoc:i},"next"===this.method&&(this.arg=n),m}}}function _(e,t,n,i){var r,a,o,s,c=t&&t.prototype instanceof w?t:w,u=Object.create(c.prototype),l=new A(i||[]);return u._invoke=(r=e,a=n,o=l,s=d,function(e,t){if(s===f)throw new Error("Generator is already running");if(s===p){if("throw"===e)throw t;return L()}for(o.method=e,o.arg=t;;){var n=o.delegate;if(n){var i=x(n,o);if(i){if(i===m)continue;return i}}if("next"===o.method)o.sent=o._sent=o.arg;else if("throw"===o.method){if(s===d)throw s=p,o.arg;o.dispatchException(o.arg)}else"return"===o.method&&o.abrupt("return",o.arg);s=f;var c=k(r,a,o);if("normal"===c.type){if(s=o.done?p:h,c.arg===m)continue;return{value:c.arg,done:o.done}}"throw"===c.type&&(s=p,o.method="throw",o.arg=c.arg)}}),u}function k(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}function w(){}function C(){}function S(){}function P(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function E(e){var t;this._invoke=function(n,i){function a(){return new Promise(function(t,a){!function t(n,i,a,o){var s=k(e[n],e,i);if("throw"!==s.type){var c=s.arg,u=c.value;return u&&"object"==typeof u&&r.call(u,"__await")?Promise.resolve(u.__await).then(function(e){t("next",e,a,o)},function(e){t("throw",e,a,o)}):Promise.resolve(u).then(function(e){c.value=e,a(c)},function(e){return t("throw",e,a,o)})}o(s.arg)}(n,i,t,a)})}return t=t?t.then(a,a):a()}}function x(e,t){var i=e.iterator[t.method];if(i===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=n,x(e,t),"throw"===t.method))return m;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var r=k(i,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,m;var a=r.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=n),t.delegate=null,m):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,m)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function A(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function R(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,a=function t(){for(;++i<e.length;)if(r.call(e,i))return t.value=e[i],t.done=!1,t;return t.value=n,t.done=!0,t};return a.next=a}}return{next:L}}function L(){return{value:n,done:!0}}}(function(){return this||"object"==typeof self&&self}()||Function("return this")())},function(e,t,n){"use strict";n.r(t),n.d(t,"SearchButton",function(){return y});var i=n(3),r=n.n(i),a=n(2),o=n.n(a),s=n(5),c=n.n(s),u=n(0),l=n.n(u),d=n(4),h=n.n(d),f=n(6),p=n.n(f),m=n(7),g=n(1),v=n(9),y=function(e){function t(){return r()(this,t),c()(this,l()(t).apply(this,arguments))}return p()(t,e),o()(t,[{key:"firstUpdated",value:function(){this.resetButton(),this.addEventListener("click",this._buttonClicked.bind(this)),h()(l()(t.prototype),"firstUpdated",this).call(this)}},{key:"resetButton",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"button";this._button=this.querySelector(e)}},{key:"_buttonClicked",value:function(e){e.srcElement===this._button&&g.a.communication.FFCommunicationEventAggregator.addFFEvent({type:"search",query:g.a.communication.globalElementValues.currentFFSearchBoxValue||g.a.communication.globalSearchParameter.query})}}],[{key:"is",get:function(){return"ff-searchbutton"}}]),t}(Object(v.a)(["ElementLog"],m.a));window.customElements.define(y.is,y)},function(e,t,n){"use strict";n.r(t),n.d(t,"CampaignFeedbackText",function(){return _});var i=n(3),r=n.n(i),a=n(5),o=n.n(a),s=n(0),c=n.n(s),u=n(4),l=n.n(u),d=n(2),h=n.n(d),f=n(6),p=n.n(f),m=n(11),g=n(18),v=n(15),y=n(9),b=n(1),_=function(e){function t(){var e;return r()(this,t),(e=o()(this,c()(t).call(this))).attributeName="display",e.stateTwoValue="none",e}return p()(t,e),h()(t,[{key:"_recalcTopic",value:function(){return this._recalcSubscriptionTopic("feedbacktext","label")}},{key:"_subscribeElement",value:function(){(!(0<arguments.length&&void 0!==arguments[0])||arguments[0])&&this.topic&&this.subscriptionKey&&b.a.communication.ResultDispatcher.unsubscribe(this.topic,this.subscriptionKey),this.topic=this._recalcTopic(),this.subscriptionKey=b.a.communication.ResultDispatcher.subscribe(this.topic,this._handleCampaign,this)}}],[{key:"is",get:function(){return"ff-campaign-feedbacktext"}},{key:"properties",get:function(){return{label:{type:String,value:"",observer:"_subscribeElement"},isProductCampaign:{type:Boolean,observer:"_subscribeElement"},isShoppingCartCampaign:{type:Boolean,observer:"_subscribeElement"}}}}]),h()(t,[{key:"ready",value:function(){l()(c()(t.prototype),"ready",this).call(this),this.updateTemplate(),this.activateStateTwo()}},{key:"connectedCallback",value:function(){l()(c()(t.prototype),"connectedCallback",this).call(this),this._subscribeElement()}},{key:"disconnectedCallback",value:function(){l()(c()(t.prototype),"disconnectedCallback",this).call(this),this.subscriptionKey&&(b.a.communication.ResultDispatcher.unsubscribe(this.topic,this.subscriptionKey),this.subscriptionKey=void 0)}},{key:"_handleCampaign",value:function(e){var t=this;e?(this.model&&e.text===this.model.text||(this.model=e),Object(v.a)(),this.activateStateOne(),Object(g.a)(this,function(){t.dispatchEvent(new CustomEvent("dom-updated",{bubbles:!0,composed:!0}))})):this.activateStateTwo()}}]),t}(Object(y.a)(["LightDOMTemplate","CssAttributeToggle","RemoveUnresolvedAttribute","CampaignHelper"],m.a));window.customElements.define(_.is,_)},function(e,t,n){"use strict";n.r(t),n.d(t,"CampaignLandingPage",function(){return m});var i=n(3),r=n.n(i),a=n(2),o=n.n(a),s=n(5),c=n.n(s),u=n(0),l=n.n(u),d=n(6),h=n.n(d),f=n(1),p=n(9),m=function(e){function t(){return r()(this,t),c()(this,l()(t).apply(this,arguments))}return h()(t,e),o()(t,[{key:"attributeChangedCallback",value:function(e,t,n){"page-id"===e&&(this.pageId=n)}},{key:"pageId",get:function(){return this._pageId},set:function(e){(this._pageId=e)?f.a.communication.FFCommunicationEventAggregator.addFFEvent({type:"pageCampaigns",pageId:e}):this.debug("No page id for page campaign specified.")}}],[{key:"is",get:function(){return"ff-campaign-landing-page"}},{key:"observedAttributes",get:function(){return["page-id"]}}]),t}(Object(p.a)(["ElementLog"],HTMLElement));window.customElements.define(m.is,m)},function(e,t,n){"use strict";n.r(t),n.d(t,"CampaignProduct",function(){return g});var i=n(3),r=n.n(i),a=n(2),o=n.n(a),s=n(5),c=n.n(s),u=n(0),l=n.n(u),d=n(6),h=n.n(d),f=n(21),p=n.n(f),m=n(1),g=function(e){function t(){return r()(this,t),c()(this,l()(t).apply(this,arguments))}return h()(t,e),o()(t,[{key:"attributeChangedCallback",value:function(e,t,n){"record-id"===e&&(this.recordId=n)}},{key:"recordId",get:function(){return this._recordId},set:function(e){this._recordId=e,m.a.communication.FFCommunicationEventAggregator.addFFEvent({type:"productCampaign",productNumber:e})}}],[{key:"is",get:function(){return"ff-campaign-product"}},{key:"observedAttributes",get:function(){return["record-id"]}}]),t}(p()(HTMLElement));window.customElements.define(g.is,g)},function(e,t,n){"use strict";n.r(t),n.d(t,"CampaignRedirect",function(){return g});var i=n(3),r=n.n(i),a=n(2),o=n.n(a),s=n(5),c=n.n(s),u=n(0),l=n.n(u),d=n(6),h=n.n(d),f=n(21),p=n.n(f),m=n(1),g=function(e){function t(){return r()(this,t),c()(this,l()(t).apply(this,arguments))}return h()(t,e),o()(t,[{key:"connectedCallback",value:function(){var e;this.subscriptionKey=m.a.communication.ResultDispatcher.subscribe(["campaign:redirect"],(e=this,function(t){if(!t||!e.hasAttribute("relative-to-origin"))return t;var n=t.target.destination.replace(/^\/+/,"");return t.target.destination="".concat(location.protocol,"//").concat(location.host,"/").concat(n),t}))}},{key:"disconnectedCallback",value:function(){m.a.communication.ResultDispatcher.unsubscribe(["campaign:redirect"],this.subscriptionKey),this.subscriptionKey=void 0}}],[{key:"is",get:function(){return"ff-campaign-redirect"}}]),t}(p()(HTMLElement));window.customElements.define(g.is,g)},function(e,t,n){"use strict";n.r(t),n.d(t,"CampaignShoppingCart",function(){return g});var i=n(3),r=n.n(i),a=n(2),o=n.n(a),s=n(5),c=n.n(s),u=n(0),l=n.n(u),d=n(6),h=n.n(d),f=n(21),p=n.n(f),m=n(1),g=function(e){function t(){return r()(this,t),c()(this,l()(t).apply(this,arguments))}return h()(t,e),o()(t,[{key:"attributeChangedCallback",value:function(e,t,n){"record-id"===e&&(this.recordId=n)}},{key:"recordId",get:function(){return this._recordId},set:function(e){(this._recordId=e)&&m.a.communication.FFCommunicationEventAggregator.addFFEvent({type:"shoppingCartCampaign",productNumber:e.split(",")})}}],[{key:"is",get:function(){return"ff-campaign-shopping-cart"}},{key:"observedAttributes",get:function(){return["record-id"]}}]),t}(p()(HTMLElement));window.customElements.define(g.is,g)},function(e,t,n){"use strict";n.r(t),n.d(t,"ProductsPerPageDropdown",function(){return E});var i=n(10),r=n.n(i),a=n(3),o=n.n(a),s=n(5),c=n.n(s),u=n(0),l=n.n(u),d=n(4),h=n.n(d),f=n(2),p=n.n(f),m=n(6),g=n.n(m),v=n(8),y=n(40),b=n(47),_=n(28),k=n(1),w=n(9),C=n(7),S=n(37);function P(){var e=r()(["",'<div class="ffw-ppp-dropdown-container ','">',"</div>"]);return P=function(){return e},e}var E=function(e){function t(){var e;return o()(this,t),(e=c()(this,l()(t).call(this))).opened=!1,e.showSelected="false",e.collapseOnblur="false",e.items=[],e.haveItemsBeenInitialised=!1,e.ffPPPTemplate=void 0,e.dropdownContainer=void 0,e.subscriptionKey=void 0,e.hideSelf(),e}return g()(t,e),p()(t,[{key:"render",value:function(){var e=this,t=this.items.filter(function(e){return e.selected})[0];return Object(v.g)(P(),t?Object(S.renderPPPItem)(this.ffPPPTemplate,t):"",Object(y.a)({"ffw-ppp-dropdown-closed":!this.opened}),Object(b.a)([this.items,this.showSelected],function(){return Object(_.a)(e.items,function(e){return e.value},function(t){return"false"===e.showSelected&&t.selected?"":Object(S.renderPPPItem)(e.ffPPPTemplate,t)})}))}}],[{key:"is",get:function(){return"ff-products-per-page-dropdown"}},{key:"properties",get:function(){return{items:{type:Array,attribute:!1},opened:{type:Boolean,reflect:!0},showSelected:{type:String,attribute:"show-selected"},collapseOnblur:{type:String,attribute:"collapse-onblur"}}}}]),p()(t,[{key:"connectedCallback",value:function(){var e,n;h()(l()(t.prototype),"connectedCallback",this).call(this),!this.getAttribute("tabindex")&&this.setAttribute("tabindex","1"),this.ffPPPTemplate=Object(S.getTemplate)(this),this.subscriptionKey=k.a.communication.ResultDispatcher.subscribe("ppp",(e=this,function(t){return e.items=t||[]})),this.addEventListener("click",this.toggle.bind(this)),this.addEventListener("blur",(n=this,function(){"true"===n.collapseOnblur&&setTimeout(function(){return n.hide()},16)}))}},{key:"update",value:function(e){h()(l()(t.prototype),"update",this).call(this,e),e.has("items")&&function(e){if(0===e.items.length)return e.hideSelf();e.haveItemsBeenInitialised?e.hide():e.haveItemsBeenInitialised=!0,e.showSelf()}(this)}},{key:"firstUpdated",value:function(){this.dropdownContainer=this.getElementsByClassName("ffw-ppp-dropdown-container")[0]}},{key:"updated",value:function(e){e.has("items")&&this.dispatchEvent(new CustomEvent("dom-updated",{bubbles:!0,composed:!0}))}},{key:"disconnectedCallback",value:function(){h()(l()(t.prototype),"disconnectedCallback",this).call(this),k.a.communication.ResultDispatcher.unsubscribe("ppp",this.subscriptionKey)}},{key:"show",value:function(){this.opened||this.dropdownContainer.__transitionActive__||(this.opened=!0,this._show(this.dropdownContainer,!0))}},{key:"hide",value:function(){var e=this;this.opened&&!this.dropdownContainer.__transitionActive__&&this._hide(this.dropdownContainer,!0,function(){return e.opened=!1})}},{key:"toggle",value:function(e){!1!==e&&this.opened?this.hide():this.show()}}]),t}(Object(w.a)(["CollapseElement"],C.a));window.customElements.define(E.is,E)},function(e,t,n){"use strict";n.r(t),n.d(t,"ProductsPerPageSelect",function(){return w});var i=n(10),r=n.n(i),a=n(3),o=n.n(a),s=n(5),c=n.n(s),u=n(0),l=n.n(u),d=n(4),h=n.n(d),f=n(2),p=n.n(f),m=n(6),g=n.n(m),v=n(8),y=n(28),b=n(1),_=n(7);function k(){var e=r()(['<select @change="','">',"</select>"]);return k=function(){return e},e}var w=function(e){function t(){var e;return o()(this,t),(e=c()(this,l()(t).call(this))).options=[],e.select=void 0,e.optionTemplate=void 0,e.subscriptionKey=void 0,e.hideSelf(),e}return g()(t,e),p()(t,[{key:"render",value:function(){var e=this;return Object(v.g)(k(),C,Object(y.a)(this.options,function(e){return e.value},function(t){return Object(_.e)(e.optionTemplate,t)}))}}],[{key:"is",get:function(){return"ff-products-per-page-select"}},{key:"properties",get:function(){return{options:{type:Array,attribute:!1}}}}]),p()(t,[{key:"connectedCallback",value:function(){var e,n;h()(l()(t.prototype),"connectedCallback",this).call(this),this.optionTemplate=(e=this.querySelector("[data-template]"))?(e.removeAttribute("data-template"),e.cloneNode(!0)):"<option>{{value}}</option>",this.subscriptionKey=b.a.communication.ResultDispatcher.subscribe("ppp",(n=this,function(e){return n.options=e||[]}))}},{key:"firstUpdated",value:function(){this.select=this.querySelector("select")}},{key:"update",value:function(e){h()(l()(t.prototype),"update",this).call(this,e),e.has("options")&&(0===this.options.length?this.hideSelf():this.showSelf())}},{key:"updated",value:function(e){e.has("options")&&(this.select.selectedIndex=function(e){for(var t=0;t<e.length;t++)if(e[t].selected)return t;return-1}(this.options),this.dispatchEvent(new CustomEvent("dom-updated",{bubbles:!0,composed:!0})))}},{key:"disconnectedCallback",value:function(){h()(l()(t.prototype),"disconnectedCallback",this).call(this),b.a.communication.ResultDispatcher.unsubscribe("ppp",this.subscriptionKey)}}]),t}(_.a);function C(){var e=this.options[this.select.selectedIndex];e&&b.a.communication.FFCommunicationEventAggregator.addFFEvent({type:"ppp",value:e.value})}window.customElements.define(w.is,w)},function(e,t,n){"use strict";n.r(t),n.d(t,"ProductsPerPageList",function(){return C});var i=n(10),r=n.n(i),a=n(3),o=n.n(a),s=n(5),c=n.n(s),u=n(0),l=n.n(u),d=n(4),h=n.n(d),f=n(2),p=n.n(f),m=n(6),g=n.n(m),v=n(8),y=n(28),b=n(1),_=n(7),k=n(37);function w(){var e=r()(["",""]);return w=function(){return e},e}var C=function(e){function t(){var e;return o()(this,t),(e=c()(this,l()(t).call(this))).items=[],e.ffPPPTemplate=void 0,e.subscriptionKey=void 0,e.hideSelf(),e}return g()(t,e),p()(t,[{key:"render",value:function(){var e=this;return Object(v.g)(w(),Object(y.a)(this.items,function(e){return e.value},function(t){return Object(k.renderPPPItem)(e.ffPPPTemplate,t)}))}}],[{key:"is",get:function(){return"ff-products-per-page-list"}},{key:"properties",get:function(){return{items:{type:Array,attribute:!1}}}}]),p()(t,[{key:"connectedCallback",value:function(){var e;h()(l()(t.prototype),"connectedCallback",this).call(this),this.ffPPPTemplate=Object(k.getTemplate)(this),this.subscriptionKey=b.a.communication.ResultDispatcher.subscribe("ppp",(e=this,function(t){return e.items=t||[]}))}},{key:"update",value:function(e){h()(l()(t.prototype),"update",this).call(this,e),e.has("items")&&(0===this.items.length?this.hideSelf():this.showSelf())}},{key:"updated",value:function(e){e.has("items")&&this.dispatchEvent(new CustomEvent("dom-updated",{bubbles:!0,composed:!0}))}},{key:"disconnectedCallback",value:function(){h()(l()(t.prototype),"disconnectedCallback",this).call(this),b.a.communication.ResultDispatcher.unsubscribe("ppp",this.subscriptionKey)}}]),t}(_.a);window.customElements.define(C.is,C)},function(e,t,n){"use strict";n.r(t),n.d(t,"AsnRemoveAllFilter",function(){return g});var i=n(3),r=n.n(i),a=n(5),o=n.n(a),s=n(0),c=n.n(s),u=n(4),l=n.n(u),d=n(2),h=n.n(d),f=n(6),p=n.n(f),m=n(1),g=function(e){function t(){var e;return r()(this,t),(e=o()(this,c()(t).call(this))).showAlways=!1,e.removeParams=!1,e}return p()(t,e),h()(t,null,[{key:"is",get:function(){return"ff-asn-remove-all-filter"}},{key:"properties",get:function(){return{showAlways:{type:Boolean,attribute:"show-always"},removeParams:{type:Boolean,attribute:"remove-params"}}}}]),h()(t,[{key:"connectedCallback",value:function(){l()(c()(t.prototype),"connectedCallback",this).call(this),this.hideSelf(),this.addEventListener("click",this._removeFilter),this.subscriptionKey=m.a.communication.ResultDispatcher.subscribe("result",this._onResultDispatch,this)}},{key:"disconnectedCallback",value:function(){l()(c()(t.prototype),"disconnectedCallback",this).call(this),m.a.communication.ResultDispatcher.unsubscribe("result",this.subscriptionKey),this.subscriptionKey=void 0}},{key:"_onResultDispatch",value:function(e){if(!1===this.showAlways){var t=m.a.common.urlStringToDict(e.searchParams);for(var n in t)if(t.hasOwnProperty(n)&&"filter"===n.substr(0,"filter".length))return void this.showSelf();this.hideSelf()}else this.showSelf()}},{key:"_removeFilter",value:function(){m.a.communication.FFCommunicationEventAggregator.addFFEvent({type:"clearFilter",removeParams:this.removeParams})}}]),t}(n(7).a);window.customElements.define(g.is,g)},function(e,t,n){"use strict";n.r(t),n.d(t,"Recommendation",function(){return b});var i=n(3),r=n.n(i),a=n(5),o=n.n(a),s=n(0),c=n.n(s),u=n(4),l=n.n(u),d=n(2),h=n.n(d),f=n(6),p=n.n(f),m=n(1),g=n(9),v=n(7),y=n(16),b=function(e){function t(){var e;return r()(this,t),(e=o()(this,c()(t).call(this))).maxResults=4,e.subscribe=!0,e.usePerso=!1,e.key=m.a.common.randomString(10),e.subscriptionKey=void 0,e}return p()(t,e),h()(t,null,[{key:"is",get:function(){return"ff-recommendation"}},{key:"properties",get:function(){return{recordId:{type:v.b,attribute:"record-id"},maxResults:{type:Number,attribute:"max-results"},subscribe:{type:v.c},usePerso:{type:v.c,attribute:"use-perso"}}}}]),h()(t,[{key:"connectedCallback",value:function(){l()(c()(t.prototype),"connectedCallback",this).call(this),this.hideSelf(),this.subscribe&&(this.subscriptionKey=m.a.communication.ResultDispatcher.subscribe("recommendation:".concat(this.key),_,this));var e=this.querySelector(y.RecordList.is);e&&(e.setAttribute("subscribe","false"),e.isRecommendation=!0)}},{key:"disconnectedCallback",value:function(){l()(c()(t.prototype),"disconnectedCallback",this).call(this),this.subscriptionKey&&(m.a.communication.ResultDispatcher.unsubscribe("recommendation:".concat(this.key),this.subscriptionKey),this.subscriptionKey=void 0)}},{key:"update",value:function(e){e.has("recordId")&&this.getRecommendations(),l()(c()(t.prototype),"update",this).call(this,e)}},{key:"getRecommendations",value:function(){if(this.recordId){var e={type:"recommendation:".concat(this.key),id:this.recordId.split(","),maxResults:this.maxResults};this.usePerso&&(e.usePerso="true"),m.a.communication.FFCommunicationEventAggregator.addFFEvent(e)}else this.debug("No record id for recommendations specified."),this.hideSelf()}}]),t}(Object(g.a)(["ElementLog"],v.a));function _(e){var t=this;if(e&&0<e.length){var n=this.querySelector(y.RecordList.is);n&&(n.records=e.slice(0,this.maxResults)),this.showSelf(),Promise.resolve().then(function(){return t.dispatchEvent(new CustomEvent("gotRecommendations",{bubbles:!0,composed:!0}))})}else this.hideSelf()}window.customElements.define(b.is,b)},function(e,t,n){"use strict";n.r(t),n.d(t,"SimilarProducts",function(){return b});var i=n(3),r=n.n(i),a=n(5),o=n.n(a),s=n(0),c=n.n(s),u=n(4),l=n.n(u),d=n(2),h=n.n(d),f=n(6),p=n.n(f),m=n(1),g=n(9),v=n(16),y=n(7),b=function(e){function t(){var e;r()(this,t),(e=o()(this,c()(t).call(this))).maxResults=4;var n=e.querySelector(v.RecordList.is);return n&&n.setAttribute("subscribe","false"),e}return p()(t,e),h()(t,null,[{key:"is",get:function(){return"ff-similar-products"}},{key:"properties",get:function(){return{recordId:{type:y.b,attribute:"record-id"},maxResults:{type:Number,attribute:"max-results"}}}}]),h()(t,[{key:"update",value:function(e){e.has("recordId")&&this.getSimilarProducts(),l()(c()(t.prototype),"update",this).call(this,e)}},{key:"connectedCallback",value:function(){l()(c()(t.prototype),"connectedCallback",this).call(this),this.hideSelf(),this.subscriptionKey=m.a.communication.ResultDispatcher.subscribe("similarProducts",_,this)}},{key:"disconnectedCallback",value:function(){l()(c()(t.prototype),"disconnectedCallback",this).call(this),m.a.communication.ResultDispatcher.unsubscribe("similarProducts",this.subscriptionKey)}},{key:"getSimilarProducts",value:function(){this.recordId?m.a.communication.FFCommunicationEventAggregator.addFFEvent({type:"similarProducts",id:this.recordId,maxResults:this.maxResults}):this.debug("No record id for similarProducts specified.")}}]),t}(Object(g.a)(["ElementLog"],y.a));function _(e){var t=e.records;if(t&&0<t.length){var n=this.querySelector(v.RecordList.is);n&&(n.records=t.slice(0,this.maxResults)),this.showSelf()}else this.hideSelf()}window.customElements.define(b.is,b)},function(e,t,n){"use strict";n.r(t),n.d(t,"Suggest",function(){return E});var i=n(10),r=n.n(i),a=n(3),o=n.n(a),s=n(2),c=n.n(s),u=n(5),l=n.n(u),d=n(0),h=n.n(d),f=n(4),p=n.n(f),m=n(6),g=n.n(m),v=n(11),y=n(13),b=n(30),_=n(18),k=n(1),w=n(9),C=n(27),S=n(36);function P(){var e=r()(['<div style="position:relative;width:100%"><div class="ffw-suggestContainerWrapper ffw-hideSuggestContainerWrapper"><div class="ffw-suggestContainer ffw-listLayout"></div></div></div>']);return P=function(){return e},e}var E=function(e){function t(){return o()(this,t),l()(this,h()(t).apply(this,arguments))}return g()(t,e),c()(t,[{key:"connectedCallback",value:function(){var e=this;p()(h()(t.prototype),"connectedCallback",this).call(this),this.suggestSubscriptionKey=k.a.communication.ResultDispatcher.subscribe("suggest",function(t,n){var i=k.a.communication.globalElementValues.currentFFSearchBoxValue;n&&k.a.common.fixedDecodeURIComponent(n.query)!==i||e._suggestItemsChanged(t)}),this.subscriptionKey=this.suggestSubscriptionKey,this.productDetailSubscriptionKey=k.a.communication.ResultDispatcher.subscribe("getProductDetailRecord",this._productDetailRecordChanged,this),this.suggestItemInsertHelper=this.suggestItemInsertHelper||{},y.a.run(function(){return e._initItemTemplates()})}},{key:"disconnectedCallback",value:function(){p()(h()(t.prototype),"disconnectedCallback",this).call(this),k.a.communication.ResultDispatcher.unsubscribe("suggest",this.suggestSubscriptionKey),k.a.communication.ResultDispatcher.unsubscribe("getProductDetailRecord",this.productDetailSubscriptionKey)}},{key:"getRoot",value:function(){return this._root||(this._root=this.querySelector(".ffw-suggestContainer")),this._root}},{key:"_attachDom",value:function(e){var t=this.children,n=e.querySelector(".ffw-suggestContainer");Array.from(t).forEach(function(e){n.appendChild(e)}),this.appendChild(e)}},{key:"_initItemTemplates",value:function(){var e=this;Array.from(this.childNodes).filter(function(e){return e.nodeType===Node.ELEMENT_NODE}).forEach(function(t){var n=t.querySelectorAll(S.a.is);n&&0<n.length?n.forEach(function(n){e.suggestItemInsertHelper[n.type]||"unknown"===n.type||(e.suggestItemInsertHelper[n.type]=e.createSuggestItemInsertHelper(t,n,e))}):(t.style.display="none",e.warn("Section ".concat(t," does not contain a ff-suggest-item. Section is ignored.")))})}},{key:"createSuggestItemInsertHelper",value:function(e,t,n){var i=t.type;if(i){if(e.querySelector('[data-container="'.concat(i,'"]')))return new C.a(t,this);this.warn("No container specified for suggest item with type='".concat(i,"'. Nest the suggest item in any element with attribute data-container='").concat(i,"'."))}else this.warn("No type specified for suggest item.")}},{key:"_suggestItemsChanged",value:function(e,t){var n=this,i=k.a.communication.globalElementValues.currentFFSearchBoxValue;if(e&&0<e.length&&i&&2<=i.length){var r=this.getSuggestionsByType(e);for(var a in r)if(!this.suggestItemInsertHelper[a]){var o=this.querySelector("div[data-container='unknown']");if(o){var s=o.cloneNode(!0);s.setAttribute("data-container",a),s.innerHTML=s.innerHTML.replace(/unknown/g,a),o.parentElement.insertBefore(s,o);var c=s.querySelector(S.a.is);c?this.suggestItemInsertHelper[a]=new C.a(c,this):this.info("Template has no ff-suggest-item.")}else r[a]=[]}for(var u in this.suggestItemInsertHelper){var l=this.querySelectorAll("ff-suggest-item[type='".concat(u,"']")),d=this.suggestItemInsertHelper[u];d&&d.insertAll(l,r[u]||[],function(e,t){e.suggestion=t,e._hasItemClickedListenter||(e._hasItemClickedListenter=!0,e.host=n,e.addEventListener("item-clicked",function(t){e.host.dispatchEvent(new CustomEvent("suggest-item-clicked",{detail:t.detail,bubbles:!0}))}))},function(){n._debounceJob=b.a.debounce(n._debounceJob,y.b.after(16),function(){n.hideOrShowSectionsAndContainer(),Object(_.a)(n,function(){n.querySelector(".ffw-suggestContainerWrapper").classList.remove("ffw-hideSuggestContainerWrapper"),n.dispatchEvent(new CustomEvent("dom-updated",{bubbles:!0,composed:!0}))})})})}}else this._hideSuggest()}},{key:"_productDetailRecordChanged",value:function(e,t){e&&0<e.length&&this.dispatchEvent(new CustomEvent("suggest-product-record",{detail:e[0],bubbles:!0}))}},{key:"hideOrShowSectionsAndContainer",value:function(){Array.from(this.getRoot().childNodes).filter(function(e){return e.nodeType===Node.ELEMENT_NODE}).forEach(function(e){var t=!1;e.querySelectorAll("[data-container]").forEach(function(e){0===e.querySelectorAll("ff-suggest-item:not([style*='display: none'])").length?e.setAttribute("hidden",""):(e.removeAttribute("hidden"),t=!0)}),!1===t?e.setAttribute("hidden",""):e.removeAttribute("hidden")})}},{key:"_hideSuggest",value:function(){this.querySelector(".ffw-suggestContainerWrapper").classList.add("ffw-hideSuggestContainerWrapper")}},{key:"_showSuggest",value:function(){this.querySelector(".ffw-suggestContainerWrapper").classList.remove("ffw-hideSuggestContainerWrapper")}},{key:"getSuggestionsByType",value:function(e){var t={};return e.forEach(function(e){var n=t[e.type]||[];n.push(e),t[e.type]=n}),t}},{key:"_layoutChanged",value:function(e,t){"block"===e?(this.getRoot().classList.remove("ffw-listLayout"),this.getRoot().classList.add("ffw-blockLayout")):(this.getRoot().classList.remove("ffw-blockLayout"),this.getRoot().classList.add("ffw-listLayout"))}}],[{key:"is",get:function(){return"ff-suggest"}},{key:"properties",get:function(){return{layout:{type:"String",value:"list",observer:"_layoutChanged"},suggestItems:{type:"Array",observer:"_suggestItemsChanged"}}}},{key:"template",get:function(){return Object(v.b)(P())}}]),t}(Object(w.a)(["ElementLog","RemoveUnresolvedAttribute"],v.a));window.customElements.define(E.is,E)},function(e,t,n){"use strict";n.r(t),n.d(t,"OnfocusSuggest",function(){return T});var i=n(54),r=n.n(i),a=n(22),o=n.n(a),s=n(10),c=n.n(s),u=n(3),l=n.n(u),d=n(5),h=n.n(d),f=n(0),p=n.n(f),m=n(4),g=n.n(m),v=n(2),y=n.n(v),b=n(6),_=n.n(b),k=n(11),w=n(18),C=n(1),S=n(9),P=n(27),E=n(36);function x(){var e=c()(['<div class="ffw-suggestContainerPositioning"><div class="ffw-suggestContainerWrapper ffw-suggestContainerWrapperHidden"><div class="ffw-suggestContainer ffw-blockLayout"></div></div></div>']);return x=function(){return e},e}var T=function(e){function t(){var e;return l()(this,t),(e=h()(this,p()(t).call(this))).insertHelpers={isOnfocus:{},suggestions:{}},e}return _()(t,e),y()(t,null,[{key:"is",get:function(){return"ff-onfocus-suggest"}},{key:"properties",get:function(){return{suggestItems:{type:Array,observer:"_suggestItemsChanged"},disableDebugLog:{type:Boolean}}}},{key:"template",get:function(){return Object(k.b)(x())}}]),y()(t,[{key:"connectedCallback",value:function(){var e=this;g()(p()(t.prototype),"connectedCallback",this).call(this),this.subscriptionKey=C.a.communication.ResultDispatcher.subscribe("suggest",O(function(t){return e._render(t,!1)})),this.subscriptionKey2=C.a.communication.ResultDispatcher.subscribe("onfocus-suggest",O(function(t){return e._render(t.suggestions||t,!0)})),this._initOnfocusSectionTemplates(this),this._initSuggestionsSectionTemplates(this)}},{key:"disconnectedCallback",value:function(){g()(p()(t.prototype),"disconnectedCallback",this).call(this),C.a.communication.ResultDispatcher.unsubscribe("suggest",this.subscriptionKey),C.a.communication.ResultDispatcher.unsubscribe("onfocus-suggest",this.subscriptionKey2)}},{key:"_attachDom",value:function(e){var t=e.querySelector(".ffw-suggestContainer");o()(this.children).forEach(function(e){return t.appendChild(e)}),this.appendChild(e)}},{key:"_hideSuggest",value:function(){this.querySelector(".ffw-suggestContainerWrapper").classList.add("ffw-suggestContainerWrapperHidden")}},{key:"_showSuggest",value:function(){this.querySelector(".ffw-suggestContainerWrapper").classList.remove("ffw-suggestContainerWrapperHidden")}},{key:"_getInsertHelper",value:function(e){return!0===e?this.insertHelpers.isOnfocus:this.insertHelpers.suggestions}},{key:"_suggestItemsChanged",value:function(e){this._render(e,!1)}},{key:"_render",value:function(e,t){var n=this,i=C.a.communication.globalElementValues.currentFFSearchBoxValue;if(e){if(t){var a=this.querySelector(".ffw-highlight-suggest-item").suggestion.name.replace(/<.*?>/g,"");this.suggestEntries[a]||(this.suggestEntries[a]=e)}else{var o=C.a.communication.globalSearchParameter.channel;e.unshift({name:i,searchParams:"Search.ff?query=".concat(i,"&channel=").concat(o),type:"searchTerm",attributes:{}}),this.suggestEntries=r()({},i,e)}var s=this.getSuggestionsByType(e),c=function(e){var i=n._getInsertHelper(!t)[e];if(!i&&!n.disableDebugLog)return n.info("No template defined for type [".concat(e,"].")),"continue";n.querySelector('[data-container="onfocus"]').style.display="";var r=s[e],a=n.querySelector('[data-container="'.concat(e,'"]'));if(0===r.length)return a&&(a.style.display="none"),"continue";a&&(a.style.display="");var o=(n.isOnfocusSuggestion(i,t)?n.querySelector('[data-container="onfocus"]'):n.querySelector('[data-container="suggestions"]')).querySelectorAll('ff-suggest-item[type="'.concat(e,'"]'));i.helper.insertAll(o,r,function(e,r){return n._renderSingleItem(e,r,i,t)},n._afterRender.bind(n),!0)};for(var u in s)c(u)}else this._hideSuggest()}},{key:"_renderSingleItem",value:function(e,t,n,i){var r=this;e.suggestion=t,!0!==e._hasItemClickedListenter&&(e.addEventListener("item-clicked",function(e){r.dispatchEvent(new CustomEvent("suggest-item-clicked",{bubbles:!0,composed:!0,detail:e.detail}))}),e._hasItemClickedListenter=!0),this.isOnfocusSuggestion(n,i)&&(e._onfocus||(e._onfocus=function(){var t={type:"suggest",query:e.suggestion.name.replace(/<.*?>/g,""),topics:function(){return["onfocus-suggest"]}};r.suggestEntries[t.query]?C.a.communication.ResultDispatcher.dispatch(JSON.parse(JSON.stringify(r.suggestEntries[t.query])),t,t.topics()):C.a.communication.FFCommunicationEventAggregator.addFFEvent(t)}),e.onmouseenter=function(){var t=Array.from(document.querySelectorAll(E.a.is)).filter(function(e){return 0!==e.offsetHeight});C.a.communication.ResultDispatcher.dispatch({element:e,selectedIndex:t.indexOf(e)},{},"ff_suggestHighlight")})}},{key:"_afterRender",value:function(){var e=this.querySelector('[data-container="onfocus"]');if(null===e.querySelector(".ffw-highlight-suggest-item")){var t=e.querySelector(E.a.is);C.a.communication.ResultDispatcher.dispatch({element:t,selectedIndex:0},{},"ff_suggestHighlight")}this.querySelector(".ffw-suggestContainerWrapper").classList.remove("ffw-suggestContainerWrapperHidden"),this.showSuggestionsContainer(),Object(w.a)(this,function(){this.dispatchEvent(new CustomEvent("dom-updated",{bubbles:!0,composed:!0}))})}},{key:"hideSuggestionsContainer",value:function(){this.querySelector('[data-container="suggestions"]').style.display="none"}},{key:"showSuggestionsContainer",value:function(){this.querySelector('[data-container="suggestions"]').style.display=""}},{key:"isOnfocusSuggestion",value:function(e,t){return!0===e.isOnfocus&&!t}},{key:"getSuggestionsByType",value:function(e,t){var n={};e.forEach(function(e){var t=n[e.type]||[];t.push(e),n[e.type]=t});var i=this._getInsertHelper(t);for(var r in i)n[r]||(n[r]=[]);return n}},{key:"_initOnfocusSectionTemplates",value:function(e){var t=e.querySelector('[data-container="onfocus"]');t?this._initSectionTemplates(t,!0):this.error('Required <section data-container="onfocus"> not provided.')}},{key:"_initSuggestionsSectionTemplates",value:function(e){var t=this,n=e.querySelector('[data-container="suggestions"]');n?n.querySelectorAll("[data-container]").forEach(function(e){return t._initSectionTemplates(e,!1)}):this.error('Required <section data-container="suggestions"> not provided.')}},{key:"_initSectionTemplates",value:function(e,t){var n=this,i=e.querySelectorAll(E.a.is);if(i&&0!==i.length){var r=this._getInsertHelper(t);i.forEach(function(i){r[i.getAttribute("type")]={helper:new P.a(i,n),isOnfocus:t,container:e};var a=i.parentNode;a&&a.removeChild(i)})}else this.error("Section ".concat(e," must contain at least one ff-suggest-item."));e.style.display="none"}}]),t}(Object(S.a)(["ElementLog","RemoveUnresolvedAttribute"],k.a));function O(e){return function(t,n){var i=C.a.communication.globalElementValues.currentFFSearchBoxValue;n&&C.a.common.fixedDecodeURIComponent(n.query)!==i||e(t)}}window.customElements.define(T.is,T)},function(e,t,n){"use strict";n.r(t),n.d(t,"SortBoxSelect",function(){return k});var i=n(10),r=n.n(i),a=n(3),o=n.n(a),s=n(5),c=n.n(s),u=n(0),l=n.n(u),d=n(4),h=n.n(d),f=n(2),p=n.n(f),m=n(6),g=n.n(m),v=n(8),y=n(1),b=n(7);function _(){var e=r()(['<select @change="','">',"</select>"]);return _=function(){return e},e}var k=function(e){function t(){var e;return o()(this,t),(e=c()(this,l()(t).call(this)))._selectAttributes=[],e._itemTemplate=void 0,e.items=[],e}return g()(t,e),p()(t,[{key:"render",value:function(){var e=this;return Object(v.g)(_(),w,this.items.map(function(t){return Object(b.e)(e._itemTemplate,t)}))}}],[{key:"is",get:function(){return"ff-sortbox-select"}},{key:"properties",get:function(){return{items:{type:Array,attribute:!1}}}}]),p()(t,[{key:"connectedCallback",value:function(){var e,n=this;h()(l()(t.prototype),"connectedCallback",this).call(this),this.hideSelf(),this._selectAttributes=(e=this.querySelector("select"))?e.attributes:[],this._itemTemplate=this.querySelector("option")||"<option>{{description}}</option>",this.subscriptionKey=y.a.communication.ResultDispatcher.subscribe("sort",function(e){n.items=e})}},{key:"firstUpdated",value:function(){var e=this.querySelector("select");Array.prototype.forEach.call(this._selectAttributes,function(t){var n=t.name,i=t.value;return e.setAttribute(n,i)})}},{key:"updated",value:function(e){e.has("items")&&(0===this.items.length?this.hideSelf():(this.showSelf(),this.querySelector("select").selectedIndex=function(e){for(var t=0;t<e.length;t++)if(e[t].selected)return t;return 0}(this.items)),this.dispatchEvent(new CustomEvent("dom-updated",{bubbles:!0,composed:!0})))}},{key:"disconnectedCallback",value:function(){h()(l()(t.prototype),"disconnectedCallback",this).call(this),y.a.communication.ResultDispatcher.unsubscribe("sort",this.subscriptionKey)}}]),t}(b.a);function w(e){y.a.communication.FFCommunicationEventAggregator.addFFEvent({type:"sort",value:this.items[e.target.selectedIndex].description})}window.customElements.define(k.is,k)},function(e,t,n){"use strict";n.r(t),n.d(t,"Template",function(){return _});var i=n(3),r=n.n(i),a=n(2),o=n.n(a),s=n(5),c=n.n(s),u=n(0),l=n.n(u),d=n(4),h=n.n(d),f=n(6),p=n.n(f),m=n(11),g=n(18),v=n(15),y=n(9),b=n(1),_=function(e){function t(){return r()(this,t),c()(this,l()(t).apply(this,arguments))}return p()(t,e),o()(t,[{key:"ready",value:function(){h()(l()(t.prototype),"ready",this).call(this),this.attributeName="display",this.stateTwoValue="none",this.activateStateTwo()}},{key:"connectedCallback",value:function(){h()(l()(t.prototype),"connectedCallback",this).call(this),this.subscriptionKey=b.a.communication.ResultDispatcher.subscribe(this.scope,this._dataChanged,this)}},{key:"disconnectedCallback",value:function(){h()(l()(t.prototype),"disconnectedCallback",this).call(this),b.a.communication.ResultDispatcher.unsubscribe(this.scope,this.subscriptionKey)}},{key:"_dataChanged",value:function(e){var t=this;e?(this.model=e,this.activateStateOne(),Object(v.a)(),Object(g.a)(this,function(){return t.dispatchEvent(new CustomEvent("dom-updated",{bubbles:!0,composed:!0}))})):this.activateStateTwo()}},{key:"_scopeChanged",value:function(e,t){b.a.communication.ResultDispatcher.unsubscribe(t,this.subscriptionKey),this.subscriptionKey=b.a.communication.ResultDispatcher.subscribe(e,this._dataChanged,this)}}],[{key:"is",get:function(){return"ff-template"}},{key:"properties",get:function(){return{data:{type:Object,observer:"_dataChanged"},scope:{type:String,observer:"_scopeChanged"}}}}]),t}(Object(y.a)(["LightDOMTemplate","CssAttributeToggle","RemoveUnresolvedAttribute"],m.a));window.customElements.define(_.is,_)},function(e,t,n){"use strict";n.r(t);var i=n(3),r=n.n(i),a=n(2),o=n.n(a),s=n(5),c=n.n(s),u=n(0),l=n.n(u),d=n(4),h=n.n(d),f=n(6),p=n.n(f),m=n(11),g=n(1),v=n(9),y=function(e){function t(){return r()(this,t),c()(this,l()(t).apply(this,arguments))}return p()(t,e),o()(t,[{key:"connectedCallback",value:function(){h()(l()(t.prototype),"connectedCallback",this).call(this),this.subscriptionKey=g.a.communication.ResultDispatcher.subscribe("productDetail",this._newProductDetail,this)}},{key:"disconnectedCallback",value:function(){h()(l()(t.prototype),"disconnectedCallback",this).call(this),g.a.communication.ResultDispatcher.unsubscribe("productDetail",this.subscriptionKey)}},{key:"_recordIdChanged",value:function(){g.a.communication.FFCommunicationEventAggregator.addFFEvent({type:"productDetail",id:this.recordId})}},{key:"_urlParameterNameChanged",value:function(){if(this.urlParameterName){var e=g.a.common.urlStringToDict()[this.urlParameterName];e&&(this.recordId=e)}}},{key:"_newProductDetail",value:function(e){}}],[{key:"is",get:function(){return"ff-product-detail"}},{key:"properties",get:function(){return{recordId:{type:"Number",observer:"_recordIdChanged"},urlParameterName:{type:"String",observer:"_urlParameterNameChanged"}}}}]),t}(Object(v.a)(["RemoveUnresolvedAttribute"],m.a));window.customElements.define(y.is,y)},function(e,t,n){"use strict";n.r(t),n.d(t,"PagingDropdown",function(){return R});var i=n(10),r=n.n(i),a=n(3),o=n.n(a),s=n(5),c=n.n(s),u=n(12),l=n.n(u),d=n(0),h=n.n(d),f=n(4),p=n.n(f),m=n(2),g=n.n(m),v=n(6),y=n.n(v),b=n(8),_=n(40),k=n(47),w=n(28),C=n(1),S=n(9),P=n(7),E=n(38);function x(){var e=r()(["<ff-paging-item>{{caption}}</ff-paging-item>"]);return x=function(){return e},e}function T(){var e=r()([""]);return T=function(){return e},e}function O(){var e=r()([""]);return O=function(){return e},e}function A(){var e=r()(["",'<div class="ffw-paging-dropdown-container ','">',"</div>"]);return A=function(){return e},e}var R=function(e){function t(){var e,n;return o()(this,t),(e=c()(this,h()(t).call(this))).opened=!1,e._subscriptionKey=void 0,e._itemTemplate=void 0,e.getAttribute("tabindex")||e.setAttribute("tabindex","999"),e.hideSelf(),e._itemTemplate=e.querySelector(E.a.is)||(n=document.createElement("div"),Object(b.i)(Object(b.g)(x()),n),n.firstElementChild),e.addEventListener("click",function(){return e.toggle()}),e.addEventListener("blur",function(){var e=this;!0===this.collapseOnblur&&setTimeout(function(){return e.hide()},150)}.bind(l()(e))),e}return y()(t,e),g()(t,[{key:"render",value:function(){var e=this;return Object(b.g)(A(),this.renderDropdownSelected(),Object(_.a)({"ffw-paging-dropdown-closed":!this.opened}),Object(k.a)([this.items,this.showSelected],function(){return Object(w.a)(e.items?e.items.pageLinks:[],function(e){return e.caption},function(t){return e.renderDropdownItem(t)})}))}},{key:"renderDropdownSelected",value:function(){return this.items?this.renderLink(this.items.pageLinks.filter(function(e){return e.currentPage})[0]):Object(b.g)(O())}},{key:"renderDropdownItem",value:function(e){return!e.currentPage||this.showSelected?this.renderLink(e):Object(b.g)(T())}},{key:"renderLink",value:function(e){var t=this._itemTemplate.clone();return t.pagingItem=e,t}}],[{key:"is",get:function(){return"ff-paging-dropdown"}},{key:"properties",get:function(){return{items:{type:Object,attribute:!1},opened:{type:Boolean,reflect:!0},showSelected:{type:Boolean,reflect:!0,attribute:"show-selected"},collapseOnblur:{type:Boolean,attribute:"collapse-onblur",reflect:!0}}}}]),g()(t,[{key:"connectedCallback",value:function(){var e=this;p()(h()(t.prototype),"connectedCallback",this).call(this),this._subscriptionKey=C.a.communication.ResultDispatcher.subscribe("paging",function(t){return e.items=t},this)}},{key:"disconnectedCallback",value:function(){p()(h()(t.prototype),"disconnectedCallback",this).call(this),C.a.communication.ResultDispatcher.unsubscribe("paging",this._subscriptionKey)}},{key:"update",value:function(e){e.has("items")&&this._itemsChanged(),p()(h()(t.prototype),"update",this).call(this,e)}},{key:"updated",value:function(e){(e.has("items")||e.has("showSelected"))&&this.dispatchEvent(new CustomEvent("dom-updated",{bubbles:!0,composed:!0}))}},{key:"show",value:function(){var e=this.getDropdown();this.opened=!0,this._show(e,!0)}},{key:"hide",value:function(){var e=this,t=this.getDropdown();t&&this._hide(t,!0,function(){e.opened=!1})}},{key:"toggle",value:function(){(0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.opened)?this.hide():this.show()}},{key:"getDropdown",value:function(){return this.querySelector(".ffw-paging-dropdown-container")}},{key:"_itemsChanged",value:function(){this.opened&&this.hide(),0<this.items.pageLinks.length?this.showSelf():this.hideSelf()}}]),t}(Object(S.a)(["CollapseElement"],P.a));window.customElements.define(R.is,R)},function(e,t,n){"use strict";n.r(t),n.d(t,"Paging",function(){return b});var i=n(3),r=n.n(i),a=n(5),o=n.n(a),s=n(0),c=n.n(s),u=n(4),l=n.n(u),d=n(2),h=n.n(d),f=n(6),p=n.n(f),m=n(1),g=n(7),v=n(38),y=n(58),b=function(e){function t(){var e;return r()(this,t),(e=o()(this,c()(t).call(this))).subscriptionKey=void 0,e.showOnly=!1,e.hideSelf(),e}return p()(t,e),h()(t,null,[{key:"is",get:function(){return"ff-paging"}},{key:"properties",get:function(){return{paging:{type:Object,attribute:!1},showOnly:{type:g.c,attribute:"show-only",reflect:!0}}}}]),h()(t,[{key:"connectedCallback",value:function(){var e=this;l()(c()(t.prototype),"connectedCallback",this).call(this),this.subscriptionKey=m.a.communication.ResultDispatcher.subscribe("paging",function(t){return e.paging=t},this)}},{key:"disconnectedCallback",value:function(){l()(c()(t.prototype),"disconnectedCallback",this).call(this),m.a.communication.ResultDispatcher.unsubscribe("paging",this.subscriptionKey)}},{key:"update",value:function(e){e.has("paging")&&this._pagingChanged(),l()(c()(t.prototype),"update",this).call(this,e)}},{key:"updated",value:function(e){e.has("paging")&&this.dispatchEvent(new CustomEvent("dom-updated",{bubbles:!0,composed:!0}))}},{key:"_pagingChanged",value:function(){var e=this;if(0===this.paging.pageLinks.length)this.hideSelf();else{var t=this.querySelectorAll(y.a.is);0<t.length?t.forEach(function(t){t.paging=e.paging,t.updateComplete.then(function(){t.isActive&&e._processPagingSet(e.paging,t)})}):this._processPagingSet(this.paging,this),this.showSelf()}}},{key:"_processPagingSet",value:function(e,t){this._processCurrentLinks(e,t);var n=t.querySelector("".concat(v.a.is,'[type="firstLink"]'));n&&(_(n,this.showOnly),n.pagingItem=e.firstLink);var i=t.querySelector("".concat(v.a.is,'[type="lastLink"]'));i&&(_(i,this.showOnly),i.pagingItem=e.lastLink);var r=t.querySelector("".concat(v.a.is,'[type="nextLink"]'));r&&(_(r,this.showOnly),r.pagingItem=e.nextLink);var a=t.querySelector("".concat(v.a.is,'[type="previousLink"]'));a&&(_(a,this.showOnly),a.pagingItem=e.previousLink)}},{key:"_processCurrentLinks",value:function(e,t){var n=this,i=e.pageLinks.reduce(function(e,t,n){return!0===t.currentPage?n:e},-1);t.querySelectorAll("".concat(v.a.is,'[type~="currentLink"]')).forEach(function(t){_(t,n.showOnly);var r=/-?\d/.exec(t.type)||[],a=parseInt(r[0])||0;t.pagingItem=e.pageLinks[i+a]})}}]),t}(g.a);function _(e,t){e.showOnly=e.showOnly||t.toString()}window.customElements.define(b.is,b)},function(e,t,n){"use strict";n.r(t),n.d(t,"Compare",function(){return b});var i=n(3),r=n.n(i),a=n(5),o=n.n(a),s=n(0),c=n.n(s),u=n(4),l=n.n(u),d=n(2),h=n.n(d),f=n(6),p=n.n(f),m=n(1),g=n(9),v=n(16),y=n(7),b=function(e){function t(){var e;return r()(this,t),(e=o()(this,c()(t).call(this))).maxResults=4,e.subscribe="true",e.autoCompare="false",e.key=m.a.common.randomString(10),e}return p()(t,e),h()(t,null,[{key:"is",get:function(){return"ff-compare"}},{key:"properties",get:function(){return{recordId:{type:Array,attribute:"record-id"},maxResults:{type:Number,attribute:"max-result"},subscribe:{type:String},autoCompare:{type:String,attribute:"auto-compare"}}}}]),h()(t,[{key:"connectedCallback",value:function(){l()(c()(t.prototype),"connectedCallback",this).call(this),this.hideSelf();var e=this.querySelector(v.RecordList.is);e?("true"===e.subscribe&&(this.warn("Automatic subscription of ff-record-list child component is turned on and will be turned off. Please, set ff-record-list 'subscribe' property to 'false' in your HTML code."),e.setAttribute("subscribe","false")),e.subscriptionKey&&(this.warn("ff-record-list child component is subscribed to search result and will be unsubscribed."),m.a.communication.ResultDispatcher.unsubscribe("records",e.subscriptionKey),e.subscriptionKey=void 0)):this.warn("Record list for 'ff-compare' component was not found."),"true"===this.subscribe&&(this.subscriptionKey=m.a.communication.ResultDispatcher.subscribe("compare:".concat(this.key),this.handleCompareResults,this))}},{key:"disconnectedCallback",value:function(){l()(c()(t.prototype),"disconnectedCallback",this).call(this),m.a.communication.ResultDispatcher.unsubscribe("compare:".concat(this.key),this.subscriptionKey)}},{key:"updated",value:function(e){l()(c()(t.prototype),"updated",this).call(this,e),e.has("recordId")&&"true"===this.autoCompare&&this.compareRecords(this.recordId)}},{key:"handleCompareResults",value:function(e){var t=this,n=e.records||[],i=e.attributes.reduce(function(e,t){return e[t.attributeName]=t.different,e},{});if(2<=n.length){n.forEach(function(e){return e.diff=i});var r=this.querySelector(v.RecordList.is);r&&(r.records=n.slice(0,this.maxResults),r.addEventListener("dom-updated",function(){var e=Array.from(r.querySelectorAll("[data-attribute]"));t._updateCssClasses(e,i),t.showSelf()},{once:!0}))}else this.hideSelf()}},{key:"compareRecords",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];2<=e.length?m.a.communication.FFCommunicationEventAggregator.addFFEvent({type:"compare:".concat(this.key),ids:e,maxResults:this.maxResults}):(this.debug("No record ids for compare specified."),this.hideSelf())}},{key:"_updateCssClasses",value:function(e,t){e.forEach(function(e){var n=e.getAttribute("data-attribute");!0===t[n]?(e.classList.add("ffw-compare-diff"),e.classList.remove("ffw-compare-equal")):!1===t[n]?(e.classList.remove("ffw-compare-diff"),e.classList.add("ffw-compare-equal")):(e.classList.remove("ffw-compare-diff"),e.classList.remove("ffw-compare-equal"))})}}]),t}(Object(g.a)(["ElementLog"],y.a));window.customElements.define(b.is,b)},function(e,t,n){"use strict";n.r(t),n.d(t,"TagCloud",function(){return P});var i=n(10),r=n.n(i),a=n(3),o=n.n(a),s=n(5),c=n.n(s),u=n(12),l=n.n(u),d=n(0),h=n.n(d),f=n(4),p=n.n(f),m=n(2),g=n.n(m),v=n(6),y=n.n(v),b=n(11),_=n(18),k=n(30),w=n(13),C=n(1);function S(){var e=r()(['<div class="ffw-tagCloudContainer"></div>']);return S=function(){return e},e}var P=function(e){function t(){var e;return o()(this,t),(e=c()(this,h()(t).call(this)))._handleClick=e._handleClick.bind(l()(e)),e.watchPropertyChanges=!1,e}return y()(t,e),g()(t,[{key:"_attachDom",value:function(e){this.appendChild(e)}}],[{key:"is",get:function(){return"ff-tag-cloud"}},{key:"properties",get:function(){return{minFontSize:{type:Number,value:10},maxFontSize:{type:Number,value:20},unit:{type:String,value:"px"},gradientColorStart:{type:String,value:"#294884"},gradientColorEnd:{type:String,value:"#20b6e8"},wordCount:{type:Number,value:30},disableAuto:{type:Boolean}}}},{key:"template",get:function(){return Object(b.b)(S())}},{key:"observers",get:function(){return["_propertyChanged(minFontSize, maxFontSize, unit, gradientColorStart, gradientColorEnd, wordCount)"]}}]),g()(t,[{key:"connectedCallback",value:function(){p()(h()(t.prototype),"connectedCallback",this).call(this),this.subscriptionKey=C.a.communication.ResultDispatcher.subscribe("tagCloud",this._resultChanged,this),this.watchPropertyChanges=!0,this.disableAuto||this.getTagCloud()}},{key:"disconnectedCallback",value:function(){var e=this;p()(h()(t.prototype),"disconnectedCallback",this).call(this),this.querySelector(".ffw-tagCloudContainer").childNodes.forEach(function(t){return t.removeEventListener("click",e._handleClick)}),C.a.communication.ResultDispatcher.unsubscribe("tagCloud",this.subscriptionKey)}},{key:"_propertyChanged",value:function(e,t,n,i,r,a){var o=this;this.watchPropertyChanges&&!this.disableAuto&&(this._debounceJob=k.a.debounce(this._debounceJob,w.b.after(100),function(){return o.getTagCloud()}))}},{key:"getTagCloud",value:function(){C.a.communication.FFCommunicationEventAggregator.addFFEvent({type:"tagCloud",wordCount:this.wordCount})}},{key:"_resultChanged",value:function(e){var t=this,n=this.querySelector(".ffw-tagCloudContainer");n.childNodes.forEach(function(e){return e.addEventListener("click",t._handleClick)}),C.a.common.removeChildNodes(n),e.forEach(function(e){var i=t.minFontSize+Math.round((t.maxFontSize-t.minFontSize)*e.weight),r=document.createElement("a");r.setAttribute("href","#"),r.classList.add("ffw-tagCloudLink"),r.tagCloudEntry={query:e.query,count:e.searchCount,params:C.a.common.decodeUrl(e.params)},r.style.fontSize=i+t.unit,r.style.color=t._tagColor(t._colorIncrement(1),e.weight),r.innerHTML=e.query,r.addEventListener("click",t._handleClick),n.appendChild(r)}),Object(_.a)(this,function(){return t.dispatchEvent(new CustomEvent("dom-updated",{bubbles:!0,composed:!0}))})}},{key:"_colorIncrement",value:function(e){var t=this;return this._toRGB(this.gradientColorEnd).map(function(n,i){return(n-t._toRGB(t.gradientColorStart)[i])/e})}},{key:"_toRGB",value:function(e){4===e.length&&(e=e.replace(/(\w)(\w)(\w)/gi,"$1$1$2$2$3$3"));var t=/(\w{2})(\w{2})(\w{2})/.exec(e);return[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]}},{key:"_tagColor",value:function(e,t){var n=this._toRGB(this.gradientColorStart).map(function(n,i){var r=Math.round(n+e[i]*t);return Math.min(Math.max(r,0),255)});return this._toHex(n)}},{key:"_toHex",value:function(e){return e.reduce(function(e,t){return e+"0".concat(t.toString(16)).slice(-2)},"#")}},{key:"_handleClick",value:function(e){e.preventDefault();var t={entry:e.target.tagCloudEntry,element:this};if(this.dispatchEvent(new CustomEvent("entry-clicked",{bubbles:!0,composed:!0,detail:t})),!0!==this.ffPreventDefault){var n=C.a.common.urlStringToDict(e.target.tagCloudEntry.params);n.type="search",this.dispatchEvent(new CustomEvent("before-search",{bubbles:!0,composed:!0,detail:n})),C.a.communication.FFCommunicationEventAggregator.addFFEvent(n)}else delete this.ffPreventDefault}}]),t}(b.a);window.customElements.define(P.is,P)},function(e,t,n){"use strict";n.r(t),n.d(t,"SearchFeedback",function(){return k});var i=n(10),r=n.n(i),a=n(3),o=n.n(a),s=n(2),c=n.n(s),u=n(5),l=n.n(u),d=n(0),h=n.n(d),f=n(4),p=n.n(f),m=n(6),g=n.n(m),v=n(11),y=n(1),b=n(9);function _(){var e=r()(['<div on-click="_handleClick" class="ffw-caption ffw-noTransition"></div><div class="ffw-content ffw-noTransition"></div>']);return _=function(){return e},e}var k=function(e){function t(){return o()(this,t),l()(this,h()(t).apply(this,arguments))}return g()(t,e),c()(t,[{key:"_attachDom",value:function(e){e.querySelector(".ffw-caption").appendChild(this.querySelector('[slot="caption"]')),e.querySelector(".ffw-content").appendChild(this.querySelector('[slot="content"]')),this.appendChild(e)}},{key:"ready",value:function(){var e=this;p()(h()(t.prototype),"ready",this).call(this),setTimeout(function(){e.caption.classList.remove("ffw-noTransition"),e.content.classList.remove("ffw-noTransition")},500)}},{key:"connectedCallback",value:function(){var e=this;p()(h()(t.prototype),"connectedCallback",this).call(this),this.subscriptionKey=y.a.communication.ResultDispatcher.subscribe("result",this._resultChanged,this);var n=function(t,n){var i=e.querySelector(t);i&&i.addEventListener("click",n.bind(e))};n("[data-toggle]",this._handleClick),n("[data-send]",this._handleSend),n("[data-positive]",this._setPositive),n("[data-negative]",this._setNegative)}},{key:"disconnectedCallback",value:function(){p()(h()(t.prototype),"disconnectedCallback",this).call(this),y.a.communication.ResultDispatcher.unsubscribe("result",this.subscriptionKey)}},{key:"_openChanged",value:function(e,t){if(this.hidden)this._removeTransitions();else{var n="right"===this.align;this.content.classList.toggle(n?"ffw-transformZero":"ffw-transformX"),this.caption.classList.toggle(n?"ffw-transformX":"ffw-transformZero")}}},{key:"_removeTransitions",value:function(){this.content.classList.remove("ffw-transformZero"),this.content.classList.remove("ffw-transformX"),this.caption.classList.remove("ffw-transformZero"),this.caption.classList.remove("ffw-transformX")}},{key:"_resultChanged",value:function(e){!0!==this.dontShowOnResultChanged&&e&&this.hidden&&this._setHidden(!1),this.opened=!1,this._removeTransitions(),this.reset()}},{key:"_handleClick",value:function(){this.opened=!this.opened,this._checkAndReset()}},{key:"_checkAndReset",value:function(){!this.opened&&this.resetOnToggle&&this.reset()}},{key:"_handleSend",value:function(){var e=this,t={query:y.a.communication.Util.getQueryFromSearchParams(),id:"none",positive:this.positive,success:function(){console.log(e._setHidden),e.resetOnSend&&e._resetAfterSend(),e.dispatchEvent(new CustomEvent("successful",{bubbles:!0,composed:!0}))},fail:function(){return e.dispatchEvent(new CustomEvent("failed",{bubbles:!0,composed:!0}))}},n=this.querySelector("[data-message]");n&&"string"==typeof n.value&&(t.message=n.value),y.a.communication.trackingManager.searchFeedback(t)}},{key:"_resetAfterSend",value:function(){this.reset(),this.hide()}},{key:"_setPositive",value:function(){this.positive="true"}},{key:"_setNegative",value:function(){this.positive="false"}},{key:"hide",value:function(){this._setHidden(!0),this.opened=!1}},{key:"show",value:function(){this._setHidden(!1)}},{key:"reset",value:function(){this._setPositive();var e=this.querySelector("[data-message]");e&&"string"==typeof e.value&&(e.value="")}},{key:"caption",get:function(){return this.querySelector(".ffw-caption")}},{key:"content",get:function(){return this.querySelector(".ffw-content")}}],[{key:"is",get:function(){return"ff-search-feedback"}},{key:"properties",get:function(){return{opened:{type:Boolean,notify:!0,reflectToAttribute:!0,observer:"_openChanged"},align:{type:String,value:"left"},hidden:{type:Boolean,value:!0,readOnly:!0,reflectToAttribute:!0},positive:{type:String,value:"true",notify:!0},resetOnToggle:{type:Boolean},resetOnSend:{type:Boolean},dontShowOnResultChanged:{type:Boolean}}}},{key:"template",get:function(){return Object(v.b)(_())}}]),t}(Object(b.a)(["RemoveUnresolvedAttribute"],v.a));window.customElements.define(k.is,k)},function(e,t,n){"use strict";n.r(t),n.d(t,"MultiAttributeParsing",function(){return p});var i=n(3),r=n.n(i),a=n(2),o=n.n(a),s=n(5),c=n.n(s),u=n(0),l=n.n(u),d=n(6),h=n.n(d),f=n(1),p=function(e){function t(){return r()(this,t),c()(this,l()(t).apply(this,arguments))}return h()(t,e),o()(t,[{key:"_once",value:function(){f.a.middleware.response.use(f.a.middleware.response.MultiAttributeParsing({srcProperty:this.srcProperty,storeInProperty:this.storeInProperty,keepOriginalInProperty:this.keepOriginalInProperty,entrySeparator:this.entrySeparator,keyValueSeparator:this.keyValueSeparator}))}},{key:"srcProperty",get:function(){return m(this,"src-property")}},{key:"storeInProperty",get:function(){return m(this,"store-in-property")}},{key:"keepOriginalInProperty",get:function(){return m(this,"keep-original-in-property")}},{key:"entrySeparator",get:function(){return m(this,"entry-separator")}},{key:"keyValueSeparator",get:function(){return m(this,"key-value-separator")}}],[{key:"is",get:function(){return"ff-multi-attribute-parsing"}}]),t}(n(49).a);function m(e,t){var n=e.getAttribute(t);return"string"==typeof n?n:void 0}window.customElements.define(p.is,p)},function(e,t,n){"use strict";n.r(t),n.d(t,"ProductTeaserCampaignProcessor",function(){return p});var i=n(3),r=n.n(i),a=n(2),o=n.n(a),s=n(5),c=n.n(s),u=n(0),l=n.n(u),d=n(6),h=n.n(d),f=n(1),p=function(e){function t(){return r()(this,t),c()(this,l()(t).apply(this,arguments))}return h()(t,e),o()(t,[{key:"_once",value:function(){f.a.middleware.response.use(f.a.middleware.response.ProductTeaserCampaignProcessor())}}],[{key:"is",get:function(){return"ff-product-teaser-campaign-processor"}}]),t}(n(49).a);window.customElements.define(p.is,p)},function(e,t,n){"use strict";n.r(t),n.d(t,"LoadingSpinner",function(){return y});var i=n(10),r=n.n(i),a=n(3),o=n.n(a),s=n(2),c=n.n(s),u=n(5),l=n.n(u),d=n(0),h=n.n(d),f=n(6),p=n.n(f),m=n(11),g=n(1);function v(){var e=r()(['<style>:host{display:block}.path{stroke-dasharray:187;stroke-dashoffset:0;transform-origin:center;animation:dash 1.3s linear infinite}.spinner{animation:rotation 1.3s linear infinite}@keyframes rotation{0%{transform:rotate(0)}100%{transform:rotate(270deg)}}@keyframes dash{0%{stroke-dashoffset:187}50%{stroke-dashoffset:44.5;transform:rotate(135deg)}100%{stroke-dashoffset:187;transform:rotate(450deg)}}</style><div id="wrapper"><svg id="spinner" class="spinner" width="65px" height="65px" viewBox="0 0 66 66" xmlns="http://www.w3.org/2000/svg"><circle class="path" fill="none" stroke-width="6" stroke-linecap="round" cx="33" cy="33" r="30"></circle></svg></div>']);return v=function(){return e},e}var y=function(e){function t(){return o()(this,t),l()(this,h()(t).apply(this,arguments))}return p()(t,e),c()(t,[{key:"_subscribe",value:function(){var e=this;this._subscriptionKey=g.a.communication.FFCommunicationEventAggregator.addBeforeDispatchingCallback(function(t){"search"!==t.type&&"filter"!==t.type&&"sort"!==t.type&&"clearFilter"!==t.type&&"advisor"!==t.type||(e.show(),t.always=t.always?g.a.common.concatFunctions(function(){return e.hide()},t.always):function(){return e.hide()})})}},{key:"_unsubscribe",value:function(){g.a.communication.FFCommunicationEventAggregator.removeBeforeDispatchingCallback(this._subscriptionKey)}},{key:"_manualChanged",value:function(e){e?this._unsubscribe():this._subscribe()}},{key:"_colorChanged",value:function(e){this.$.spinner.style.stroke=e}},{key:"_activeChanged",value:function(e){this.$.wrapper.style.display=!0===e?"block":"none"}},{key:"show",value:function(){this.isActive=!0}},{key:"hide",value:function(){this.isActive=!1}}],[{key:"is",get:function(){return"ff-loading-spinner"}},{key:"properties",get:function(){return{isActive:{type:Boolean,value:!1,reflectToAttribute:!0,observer:"_activeChanged"},strokeColor:{type:String,value:"#4285F4",observer:"_colorChanged"},manual:{type:Boolean,value:!1,observer:"_manualChanged",reflectToAttribute:!0}}}},{key:"template",get:function(){return Object(m.b)(v())}}]),t}(m.a);window.customElements.define(y.is,y)},function(e,t,n){"use strict";n.r(t);var i=n(10),r=n.n(i),a=n(3),o=n.n(a),s=n(5),c=n.n(s),u=n(0),l=n.n(u),d=n(4),h=n.n(d),f=n(2),p=n.n(f),m=n(6),g=n.n(m),v=n(11),y=n(15),b=n(18),_=n(1),k=n(9),w=n(22),C=n.n(w),S=n(8),P=n(13),E=n(7);function x(e){var t=document.createElement("div");t.innerHTML=e;var n=t.firstElementChild;return t.removeChild(n),n}function T(e){for(var t=arguments.length,n=new Array(1<t?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return n.reduce(function(t,n,i){return t+n+e[i+1]},e[0])}var O=n(44);function A(){var e=r()(['<div class="ffw-asn-unselected">',"</div>"]);return A=function(){return e},e}function R(){var e=r()(['<div class="ffw-asn-selected">',"</div>"]);return R=function(){return e},e}var L=function(e){function t(){var e;return o()(this,t),(e=c()(this,l()(t).call(this))).selected=!1,e.element=void 0,e.group=void 0,e._rawOuterHtml="",e._selectedTemplate=F("selected"),e._unselectedTemplate=F("unselected"),e}return g()(t,e),p()(t,[{key:"render",value:function(){return this.selected?Object(S.g)(R(),Object(E.e)(this._selectedTemplate,{element:this.element,group:this.group})):Object(S.g)(A(),Object(E.e)(this._unselectedTemplate,{element:this.element,group:this.group}))}}],[{key:"is",get:function(){return"ff-asn-group-element"}},{key:"properties",get:function(){return{selected:{type:Boolean,reflect:!0},element:{type:Object,attribute:!1},group:{type:Object,attribute:!1}}}}]),p()(t,[{key:"connectedCallback",value:function(){h()(l()(t.prototype),"connectedCallback",this).call(this),this._init()}},{key:"_init",value:function(){var e;this._rawOuterHtml=this.outerHTML,this._selectedTemplate=this.querySelector("[slot='selected']")||this._selectedTemplate,this._unselectedTemplate=this.querySelector("[slot='unselected']")||this._unselectedTemplate,this.addEventListener("click",(e=this,function(t){e.selected=!e.selected,_.a.communication.FFCommunicationEventAggregator.addFFEvent({type:"filter",groupName:e.group.name,filterName:e.element.name,clusterLevel:e.element.clusterLevel})}))}},{key:"updated",value:function(e){var t,n;e.has("element")&&((n=(t=this).element)?(t.selected=n.selected,t.className=t.className.replace(/ ?\bclusterLevel\d+\b/g,"").trim(),n.clusterLevel&&t.classList.add("clusterLevel".concat(n.clusterLevel)),Object(O.a)(t),t.showSelf()):t.hideSelf())}},{key:"clone",value:function(e,n){var i=this._rawOuterHtml?x(this._rawOuterHtml):document.createElement(t.is);return i.group=e,i.element=n,i._selectedTemplate=this._selectedTemplate,i._unselectedTemplate=this._unselectedTemplate,i}}]),t}(Object(k.a)(["ElementLog"],E.a));function F(e){return x('<div slot="'.concat(e,'">{{element.name}}</div>'))}function I(){var e=r()(["",""]);return I=function(){return e},e}function M(){var e=r()(["",""]);return M=function(){return e},e}function N(){var e=r()(['<div opened data-container="detailedLinks"><div data-content="detailedLinks"></div></div>']);return N=function(){return e},e}function D(){var e=r()(['<div data-container="hiddenLinks" style="height:0;overflow:hidden"><div data-content="hiddenLinks"></div></div>']);return D=function(){return e},e}function U(){var e=r()(['<div data-container="groupCaption" @click="','">','</div><div class="ffw-asn-group-container"><div class="ffw-wrapper">'," "," "," "," ","</div></div>"]);return U=function(){return e},e}window.customElements.define(L.is,L);var j=Object.freeze({DetailedLinksContainer:'[data-container="detailedLinks"]',HiddenLinksContainer:'[data-container="hiddenLinks"]',DetailedLinksContent:'[data-content="detailedLinks"]',HiddenLinksContent:'[data-content="hiddenLinks"]',SelectBoxPlaceholderOption:"option:not([data-template])",SelectBoxOptionTemplate:"option[data-template]",ToggleWrapper:".ffw-wrapper",ShowMoreContainer:'[data-container="showMore"]',ShowLessContainer:'[data-container="showLess"]',GroupCaptionContainer:'[slot="groupCaption"]',RemoveFilterContainer:'[data-container="removeFilter"]'}),B=_.a.communication.FFCommunicationEventAggregator,H=function(e){function t(){var e;return o()(this,t),(e=c()(this,l()(t).call(this))).collapsible=!0,e.opened=!1,e.forGroup=void 0,e.filterStyle=void 0,e.disableAutoExpand=!1,e.group=void 0,e.lazyLoad=!0,e.selectBox=!1,e._detailedElements=[],e._hiddenElements=[],e._wrapper=void 0,e._initialized=!1,e._rawOuterHtml="",e._asnGroupElementTemplate=void 0,e._groupCaptionTemplate=void 0,e._selectBoxOptionTemplate=void 0,e._selectBoxPlaceholderOption=void 0,e._detailedLinksContainer=void 0,e._hiddenLinksContainer=void 0,e._showMoreContainer=void 0,e._showLessContainer=void 0,e._removeFilterContainer=void 0,e}return g()(t,e),p()(t,[{key:"render",value:function(){var e,t=this,n=(e=this.group)&&e.elements.length>e.detailedLinks;return Object(S.g)(U(),function(){return t.toggle(!0)},Object(E.e)(this._groupCaptionTemplate,{group:this.group}),this._detailedLinksContainer,W(n,this._hiddenLinksContainer),W(n&&!this.selectBox,this._showMoreContainer),W(n&&!this.selectBox,this._showLessContainer),W(K(this.group),this._removeFilterContainer))}}],[{key:"is",get:function(){return"ff-asn-group"}},{key:"properties",get:function(){return{collapsible:{type:E.c},opened:{type:Boolean,reflect:!0},forGroup:{type:String,attribute:"for-group",reflect:!0},filterStyle:{type:String,attribute:"filter-style",reflect:!0},disableAutoExpand:{type:Boolean,attribute:"disable-auto-expand",reflect:!0},group:{type:Object,attribute:!1},lazyLoad:{type:E.c,attribute:"lazy-load"},selectBox:{type:E.c,attribute:"select-box"}}}}]),p()(t,[{key:"connectedCallback",value:function(){h()(l()(t.prototype),"connectedCallback",this).call(this),this._init()}},{key:"_init",value:function(){var e,t,n=this;this._initialized||(this._rawOuterHtml=this.outerHTML,this._asnGroupElementTemplate=this.querySelector(L.is)||document.createElement(L.is),this._groupCaptionTemplate=this.querySelector(j.GroupCaptionContainer)||x('<div slot="groupCaption">{{group.name}}</div>'),this._detailedLinksContainer=this.querySelector(j.DetailedLinksContainer)||x(T(N())),this._hiddenLinksContainer=this.querySelector(j.HiddenLinksContainer),this._hiddenLinksContainer&&!this._hiddenLinksContainer.hasAttribute("opened")&&(this._hiddenLinksContainer.style.height="0",this._hiddenLinksContainer.style.overflow="hidden"),this._initShowMore(),this._initShowLess(),this._initHiddenLinksContainer(),this._removeFilterContainer=(e=function(){return n.group||{}},(t=this.querySelector(j.RemoveFilterContainer)||x('<div data-container="removeFilter">Reset Filter</div>')).addEventListener("click",function(){B.addFFEvent({type:"filter",groupName:e().name,removeAll:!0})}),t),this.selectBox&&(this._selectBoxOptionTemplate=this._hiddenLinksContainer.querySelector(j.SelectBoxOptionTemplate)||x("<option data-template>{{element.name}} {{group.unit}} ({{element.recordCount}})</option>")),this.style.display="none",this._initialized=!0)}},{key:"update",value:function(e){var n,i,r,a;h()(l()(t.prototype),"update",this).call(this,e),e.has("group")&&(this.group?(this._detailedElements=this.group.selectedElements.concat(this.group.elements.slice(0,this.group.detailedLinks)),this._hiddenElements=this.group.elements.slice(this.group.detailedLinks),this._detailedLinksContainer=(n=this._detailedLinksContainer,i=this.group,r=this._asnGroupElementTemplate,a=this._detailedElements,V(n.querySelector(j.DetailedLinksContent),r,i,a),n),this._hiddenLinksContainer&&(this.selectBox?this._hiddenLinksContainer=z(this._hiddenLinksContainer,this._selectBoxPlaceholderOption,this._selectBoxOptionTemplate,this.group,this._hiddenElements):this._hiddenLinksContainer.hasAttribute("opened")&&(this._hiddenLinksContainer=q(this._hiddenLinksContainer,this._asnGroupElementTemplate,this.group,this._hiddenElements))),(this.opened||K(this.group)&&!this.disableAutoExpand)&&this.show(!1),this.style.display="",this.style.opacity="1"):(this.style.display="none",this.style.opacity="0"))}},{key:"firstUpdated",value:function(e){var t=this;this._wrapper=this.querySelector(j.ToggleWrapper),this.opened||e.has("group")&&K(this.group)&&!this.disableAutoExpand?this.show(!1):this._hide(this._wrapper,!1,function(){return t.opened=!1}),!1===this.opened&&!0!==this.disableAutoExpand&&K(this.group)&&this.show(!1)}},{key:"updated",value:function(e){e.has("group")&&(this.forGroup&&"all"!==this.forGroup||(this.forGroup=this.group.name),this.filterStyle||(this.filterStyle=this.group.filterStyle)),this.group?this.showSelf():this.hideSelf()}},{key:"show",value:function(e){this._wrapper&&(this._show(this._wrapper,e),this._wrapper.setAttribute("opened",""),this.opened=!0)}},{key:"hide",value:function(e){var t=this;this.opened&&this.collapsible&&this._wrapper&&(this._hide(this._wrapper,e,function(){return t.opened=!1}),this._wrapper.removeAttribute("opened"))}},{key:"toggle",value:function(e){this.opened?this.hide(e):this.show(e)}},{key:"showDetailedLinksContainer",value:function(e){this._show(this._detailedLinksContainer,e)}},{key:"hideDetailedLinksContainer",value:function(e){this._hide(this._detailedLinksContainer,e)}},{key:"toggleDetailedLinksContainer",value:function(e){this._detailedLinksContainer.hasAttribute("opened")?this.hideDetailedLinksContainer(e):this.showDetailedLinksContainer(e)}},{key:"showHiddenLinksContainer",value:function(e){var t=this;this._hiddenLinksContainer=this.selectBox?z(this._hiddenLinksContainer,this._selectBoxPlaceholderOption,this._selectBoxOptionTemplate,this.group,this._hiddenElements):q(this._hiddenLinksContainer,this._asnGroupElementTemplate,this.group,this._hiddenElements),this._showMoreContainer&&(this._showMoreContainer.style.display="none"),this._showLessContainer&&(this._showLessContainer.style.display=""),setTimeout(function(){t._showChecked(t._hiddenLinksContainer,e),t._hiddenLinksContainer.setAttribute("opened","")})}},{key:"hideHiddenLinksContainer",value:function(e){this._showMoreContainer&&(this._showMoreContainer.style.display=""),this._showLessContainer&&(this._showLessContainer.style.display="none"),this._hideChecked(this._hiddenLinksContainer,e,function(){})}},{key:"toggleHiddenLinksContainer",value:function(e){this._hiddenLinksContainer.hasAttribute("opened")?this.hideHiddenLinksContainer(e):this.showHiddenLinksContainer(e)}},{key:"clone",value:function(){return x(this._rawOuterHtml)}},{key:"_initShowMore",value:function(){var e=this;this._showMoreContainer=this.querySelector(j.ShowMoreContainer)||x('<div data-container="showMore">Show More</div>'),this.selectBox?this._hide(this._showMoreContainer):this._show(this._showMoreContainer),this._showMoreContainer.addEventListener("click",function(){return P.a.run(function(){return e.showHiddenLinksContainer(!0)})})}},{key:"_initShowLess",value:function(){var e=this;this.selectBox&&this._hideChecked(this._showMoreContainer),this._showLessContainer=this.querySelector(j.ShowLessContainer)||x('<div data-container="showLess">Show Less</div>'),this._showLessContainer.style.display="none",this._showLessContainer.addEventListener("click",function(){return P.a.run(function(){return e.hideHiddenLinksContainer(!0)})})}},{key:"_initHiddenLinksContainer",value:function(){if(this.selectBox)this._hiddenLinksContainer?"SELECT"!==this._hiddenLinksContainer.tagName?(this.warn("Provided template for select box is not a select element. Using default template."),this._hiddenLinksContainer=n()):0===this._hiddenLinksContainer.querySelectorAll(j.SelectBoxPlaceholderOption).length&&this._hiddenLinksContainer.insertBefore(x("<option disabled hidden selected>More...</option>"),this._hiddenLinksContainer.firstElementChild):this._hiddenLinksContainer=n(),this._selectBoxPlaceholderOption=this._hiddenLinksContainer.querySelector(j.SelectBoxPlaceholderOption),this._hiddenLinksContainer.addEventListener("change",(t=this,function(){var e=t._hiddenLinksContainer.options[t._hiddenLinksContainer.selectedIndex].data;e&&B.addFFEvent({type:"filter",groupName:t.group.name,filterName:e.__ORIG_NAME__||e.name,clusterLevel:e.clusterLevel})})),this._show(this._hiddenLinksContainer);else{if(!this._hiddenLinksContainer){var e=T(D());this._hiddenLinksContainer=x(e)}this._hiddenLinksContainer.hasAttribute("opened")?this._show(this._hiddenLinksContainer):this._hide(this._hiddenLinksContainer)}var t;function n(){return x('<select data-container="hiddenLinks">'.concat("<option disabled hidden selected>More...</option>","</select>"))}}}]),t}(Object(k.a)(["ElementLog","CollapseElement"],E.a));function q(e,t,n,i){return V(e.querySelector(j.HiddenLinksContent),t,n,i),e}function V(e,t,n,i){Object(S.i)(Object(S.g)(M(),i.map(function(e){return t.clone(n,e)})),e)}function z(e,t,n,i,r){var a=r.map(function(e){return Object(E.e)(n,{group:i,element:e})});return Object(S.i)(Object(S.g)(I(),[Object(E.e)(t)].concat(C()(a))),e),e.selectedIndex=0,e.querySelectorAll(j.SelectBoxOptionTemplate).forEach(function(e,t){var n=r[t];e.value=n.name,e.data=n}),e}function K(e){return e&&0<e.selectedElements.length}function W(e,t){return e?t:void 0}window.customElements.define(H.is,H);var G,X,Y,$=((G={}).Event=((X=G.Event||{}).add=document.addEventListener?function(e,t,n,i){i=i||!1,e.addEventListener(t,n,i)}:function(e,t,n){e.attachEvent("on"+t,n)},X.remove=document.removeEventListener?function(e,t,n,i){i=i||!1,e.removeEventListener(t,n,i)}:function(e,t,n){e.detachEvent("on"+t,n)},X.DOMit=function(e){return function(e){if(!e.clientX)try{e.clientX=e.touches[0].clientX}catch(e){}if(!e.clientY)try{e.clientY=e.touches[0].clientY}catch(e){}}(e),(e=e||window.event).target||(e.target=e.srcElement),e.preventDefault||(e.preventDefault=function(){return e.returnValue=!1}),e.stopPropagation||(e.stopPropagation=function(){e.cancelBubble=!0}),e},X.getTarget=function(e){var t=(e=X.DOMit(e)).target;return 1!==t.nodeType&&(t=t.parentNode),t},X.domReady=function(){var e=[],t=!1;function n(n){if(!t&&("readystatechange"!==n.type||"complete"===document.readyState)){for(var i=0,r=e.length;i<r;i++)e[i].call(document);t=!0,e=[]}}return document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),document.addEventListener("readystatechange",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",n),window.attachEvent("onload",n)),function(n){t?n.call(document):e.push(n)}}(),X),G.Viewport={_docEl:null,getDocEl:function(){var e="",t=document;return this._docEl||(e=t.compatMode,this._docEl="CSS1Compat"===e?t.documentElement:t.body),this._docEl},getWidth:function(){var e=this.getDocEl().clientWidth;return window.innerWidth&&e>window.innerWidth&&(e=window.innerWidth),e},getHeight:function(){var e=this.getDocEl().clientHeight;return window.innerHeight&&e>window.innerHeight&&(e=window.innerHeight),e},getScrollX:function(){return"number"==typeof window.pageXOffset?window.pageXOffset:this.getDocEl().scrollLeft},getScrollY:function(){return"number"==typeof window.pageYOffset?window.pageYOffset:this.getDocEl().scrollTop},getAll:function(){return{width:this.getWidth(),height:this.getHeight(),scrollX:this.getScrollX(),scrollY:this.getScrollY()}}},G.Util=((Y=G.Util||{}).$=function(e,t){return t?t.root?t.shadowRoot.querySelector(e):t.querySelector(e):e.nodeType?e:""!==e?window.ShadowDOMPolyfill||Element.prototype.createShadowRoot?document.querySelector("body /deep/ #"+e):document.getElementById(e):void 0},Y.intersectContainer=function(e,t){var n=parseInt(e.style.left.replace("px",""),10),i=parseInt(e.style.left.replace("px",""))+e.offsetWidth,r=parseInt(t.style.left.replace("px",""),10),a=parseInt(t.style.left.replace("px",""),10)+t.offsetWidth;return Y.intersectValues(n,i,r,a)},Y.intersectValues=function(e,t,n,i){return e<=i&&n<=t||i<=e&&t<=n},Y.getCurrentStyle=function(e,t){var n,i,r="";return window.getComputedStyle?r=window.getComputedStyle(e,null)[t]:e.currentStyle&&(r=e.currentStyle[t],!/^\d+(px)?$/i.test(r)&&/^\d/.test(r)&&(n=e.style.left,i=e.runtimeStyle.left,e.runtimeStyle.left=e.currentStyle.left,e.style.left=r||0,r=e.style.pixelLeft+"px",e.style.left=n,e.runtimeStyle.left=i)),r},Y.contained=function(e,t){if(!e)return!1;for(;e=e.parentNode;)if(e===t)return!0;return!1},Y.hash=function(){return Math.floor(65536*(1+Math.random())).toString(32).substring(1)},Y),G.Draggable=function(){var e=G.Util,t=G.Event,n=G.Viewport;function i(n,r,a,o){var s,c;if("string"==typeof n?s=e.$(n):"nodeType"in n?s=n:console.log("Cant process identifierer "+n),!s)throw new Error("new DYN_WEB.Draggable: No element with the specified id found.");this.id=n;var u=parseInt(e.getCurrentStyle(s,"left"),10),l=parseInt(e.getCurrentStyle(s,"top"),10);if(a&&(this.minX="number"==typeof a.minX?a.minX:void 0,this.maxX="number"==typeof a.maxX?a.maxX:void 0,this.minY="number"==typeof a.minY?a.minY:void 0,this.maxY="number"==typeof a.maxY?a.maxY:void 0,this.on_drag_start="function"==typeof a.on_drag_start?a.on_drag_start:this.on_drag_start,this.on_drag="function"==typeof a.on_drag?a.on_drag:this.on_drag,this.on_drag_end="function"==typeof a.on_drag_end?a.on_drag_end:this.on_drag_end),o?(u=this.maxX,this.slider2=e.$(n)):(u=isNaN(u)?0:u,this.slider1=e.$(n)),l=isNaN(l)?0:l,i.shiftTo(s,u,l),r){if(!(c=r.nodeType?r:e.$(r)))throw new Error("new DYN_WEB.Draggable: No element with the specified handleId found.");if(!e.contained(c,s))throw new Error("new DYN_WEB.Draggable: No element with id "+r+" found inside "+n+".")}else c=s;t.add(c,"mousedown",i.start.bind(this)),t.add(c,"touchstart",i.start.bind(this))}return i.prototype={on_drag_start:function(){},on_drag:function(){},on_drag_end:function(){}},i.zOrder=1e3,i.start=function(e){var r,a,o,s,c,u=0;e=t.DOMit(e);var l=t.getTarget(e);do{if(l.id===this.slider1.id){r=this.slider1;break}if(l.id===this.slider2.id){r=this.slider2;break}u++}while(u<10&&(l=l.parentNode));if(!r)throw new Error("Unable to find Draggable element onmousedown.");r.style.zIndex=i.zOrder++,a=e.clientX+n.getScrollX(),o=e.clientY+n.getScrollY(),s=parseInt(r.style.left,10)||0,c=parseInt(r.style.top,10)||0,this.dx=a-s,this.dy=o-c,this.downX=a,this.downY=o,this.on_drag_start(s,c),this.drag=i.drag.bind(this),this.end=i.end.bind(this),t.add(document,"mousemove",this.drag),t.add(document,"touchmove",this.drag),t.add(document,"mouseup",this.end),t.add(document,"touchend",this.end),e.preventDefault(),e.stopPropagation()},i.drag=function(e){e=t.DOMit(e);var r=this,a=this.id,o=e.clientX+n.getScrollX()-r.dx,s=e.clientY+n.getScrollY()-r.dy;o=void 0!==r.minX?Math.max(r.minX,o):o,o=void 0!==r.maxX?Math.min(r.maxX,o):o,s=void 0!==r.minY?Math.max(r.minY,s):s,s=void 0!==r.maxY?Math.min(r.maxY,s):s,("string"==typeof r.id?r.id===this.slider1.id:r.id.id===this.slider1.id)?(r.maxX=parseInt(this.slider2.style.left.replace("px",""),10),r.minX=0):("string"==typeof r.id?r.id===this.slider2.id:r.id.id===this.slider2.id)&&(r.minX=parseInt(this.slider1.style.left.replace("px",""),10),r.maxX=r.origMaxX),i.shiftTo(a,o,s),r.on_drag(o,s),e.preventDefault()},i.end=function(){var e,n,i=this.id;t.remove(document,"mousemove",this.drag),t.remove(document,"touchmove",this.drag),t.remove(document,"mouseup",this.end),t.remove(document,"touchend",this.end),i&&(e=parseInt(i.style.left,10),n=parseInt(i.style.top,10),this.on_drag_end(e,n))},i.setup=function(){for(var e,t=0,n=arguments.length;t<n;t++)"string"==typeof(e=arguments[t])?new i(e):new i(e.id,e.handleId,e)},i.shiftTo=function(e,t,n){e.style.left=parseInt(t,10)+"px",e.style.top=parseInt(n,10)+"px"},i}(),G.Slider=function(){var e=G.Util,t=G.Event,n=G.Draggable;function i(e,t,n,r,a){this.id=e,this.trackId=t,this.axis=n,"string"!=typeof this.id?i.col[this.id.id]=this:i.col[this.id]=this,this.init(r)}return i.col={},i.prototype={slideDur:50,init:function(i){var r,a=e.$(this.id),o=e.$(this.trackId),s=parseInt(e.getCurrentStyle(a,"left"),10),c=parseInt(e.getCurrentStyle(a,"top"),10),u=this;s=isNaN(s)?0:s,c=isNaN(c)?0:c,r="v"===this.axis?{minX:s,maxX:s,minY:0,maxY:o.offsetHeight-a.offsetHeight-2*o.clientTop}:{minX:0,maxX:o.offsetWidth-a.offsetWidth-2*o.clientLeft,minY:c,maxY:c},this.barWd=a.offsetWidth,this.barHt=a.offsetHeight,this.Dragbar=i?new n(this.id,"",r,!0):new n(this.id,"",r),this.minX=this.Dragbar.minX,this.maxX=this.Dragbar.maxX,this.origMaxX=this.maxX,this.Dragbar.origMaxX=this.origMaxX,this.minY=this.Dragbar.minY,this.maxY=this.Dragbar.maxY,this.Dragbar.on_drag_start=function(e,t){u.on_move_start(e,t)},this.Dragbar.on_drag=function(e,t){u.on_move(e,t)},this.Dragbar.on_drag_end=function(e,t){u.on_move_end(e,t)},t.add(o,"mousedown",function(e){u.prepSlide(e,u.id)}),t.add(o,"touchstart",function(e){u.prepSlide(e,u.id)})},prepSlide:function(n,r){var a;n=t.DOMit(n);var o=(a="string"!=typeof r?i.col[r.id]:i.col[r]).bar=e.$(r);a.clearTimer(),n.offX="number"==typeof n.offsetX?n.offsetX:n.layerX,n.offY="number"==typeof n.offsetY?n.offsetY:n.layerY,a.startX=parseInt(o.style.left,10),a.startY=parseInt(o.style.top,10),"v"===a.axis?(a.destX=a.startX,a.destY=n.offY<a.startY?n.offY:n.offY-a.barHt,a.destY=Math.min(Math.max(a.destY,a.minY),a.maxY)):(a.destX=n.offX<a.startX?n.offX:n.offX-a.barWd,a.destX=Math.min(Math.max(a.destX,a.minX),a.maxX),a.destY=a.startY),a.distX=a.destX-a.startX,a.distY=a.destY-a.startY,a.per=Math.PI/(2*a.slideDur),a.slideStartTime=(new Date).getTime(),a.on_move_start(a.startX,a.startY),a.timerId=setInterval(function(){a.doSlide()},10)},doSlide:function(){},shiftTo:function(e,t){!this.bar||isNaN(e)||isNaN(t)||(this.bar.style.left=Math.round(e)+"px",this.bar.style.top=Math.round(t)+"px")},clearTimer:function(){clearInterval(this.timerId),this.timerId=0},on_move_start:function(e,t){},on_move:function(e,t){},on_move_end:function(e,t){}},i}(),G);function J(){var e=r()(['<div style="position:relative;width:100%;height:100%" class="ffw-sliderBar"><div id="','" class="ffw-slider1 ffw-sliderWrapper" style="position:absolute!important">','</div><div id="','" class="ffw-slider2 ffw-sliderWrapper" style="position:absolute!important">',"</div></div>"]);return J=function(){return e},e}var Q=0,Z=function(e){function t(){var e;return o()(this,t),(e=c()(this,l()(t).call(this))).stepSize=1,e.submitOnRelease=!0,e._slider1=null,e._slider2=null,e.isInitialzied=!1,e.dragging=!1,e._sliderContent1=void 0,e._sliderContent2=void 0,e._UID=Q++,e}return g()(t,e),p()(t,[{key:"render",value:function(){return Object(S.g)(J(),"slider1-".concat(this._UID),this._sliderContent1,"slider2-".concat(this._UID),this._sliderContent2)}}],[{key:"is",get:function(){return"ff-slider"}},{key:"properties",get:function(){return{stepSize:{type:Number,attribute:"step-size"},selectedMinValue:{type:Number,attribute:"selected-min-value"},selectedMaxValue:{type:Number,attribute:"selected-max-value"},submitOnRelease:{type:Boolean,attribute:"submit-on-release"},absoluteMaxValue:{type:Number,attribute:"absolute-max-value"},absoluteMinValue:{type:Number,attribute:"absolute-min-value"},unit:{type:String}}}}]),p()(t,[{key:"connectedCallback",value:function(){var e=this;function n(e){return x('<div slot="'.concat(e,'"></div>'))}h()(l()(t.prototype),"connectedCallback",this).call(this),this._sliderContent1=this.querySelector('[slot="slider1"]')||n("slider1"),this._sliderContent2=this.querySelector('[slot="slider2"]')||n("slider2"),this.resizeHandler=window.addEventListener("resize",function(){return e.renderSlider()}),this.renderSliderKey||(this.renderSliderKey=setInterval(function(){return e.renderSlider()},250))}},{key:"disconnectedCallback",value:function(){h()(l()(t.prototype),"disconnectedCallback",this).call(this),window.removeEventListener("resize",this.resizeHandler),this.renderSliderKey&&(clearInterval(this.renderSliderKey),this.renderSliderKey=void 0)}},{key:"update",value:function(e){e.has("selectedMinValue")&&this._selectedMinChanged(),e.has("selectedMaxValue")&&this._selectedMaxChanged(e.get("selectedMaxValue")),e.has("absoluteMaxValue")&&this._absoluteMaxChanged(),e.has("absoluteMinValue")&&this._absoluteMinChanged(),h()(l()(t.prototype),"update",this).call(this,e)}},{key:"init",value:function(){var e,t,n,i,r=this;this._slider1=new $.Slider(this.querySelector(".ffw-slider1"),this,"h"),this._slider1.on_move=(e=this,function(t){return te(e,Math.floor(e._getCurrentValue(t)),e.selectedMaxValue,1)}),this._slider1.on_move_end=(t=this,function(e){t.selectedMinValue=t._getCurrentValue(e),ne(t)}),this._slider2=new $.Slider(this.querySelector(".ffw-slider2"),this,"h",!0),this._slider2.on_move=(n=this,function(e){var t=(e=n._getCurrentValue(e))<n.selectedMinValue?n.selectedMinValue+1:e;te(n,n.selectedMinValue,t,2)}),this._slider2.on_move_end=(i=this,function(e){i.selectedMaxValue=i._getCurrentValue(e),ne(i)}),this._slider1.Dragbar.slider2=this._slider2.Dragbar.id,this._slider2.Dragbar.slider1=this._slider1.Dragbar.id,this.style.opacity="1",this.offsetHeight,Promise.resolve().then(function(){var e=_.a.common.getParentElementByName(r,"FF-Slider-CONTROL");e&&(e.unit=r.unit,e.init())}),this.isInitialized=!0}},{key:"updateData",value:function(e){!e||this.selectedMaxValue===e.selectedMaxValue&&this.selectedMinValue===e.selectedMinValue||(this.absoluteMaxValue=e.absoluteMaxValue,this.absoluteMinValue=e.absoluteMinValue,this.selectedMaxValue=e.selectedMaxValue,this.selectedMinValue=e.selectedMinValue,this._forceUpdate=!0),ee(this)}},{key:"renderSlider",value:function(){if(!0===this.isInitialized&&!1===this.dragging){var e=this.querySelector(".ffw-sliderBar").clientWidth,t=this._slider1.barWd||this.querySelector(".ffw-slider1").clientWidth,n=this._slider2.barWd||this.querySelector(".ffw-slider2").clientWidth,i=Math.max(e-t,0),r=Math.max(e-n,0);this._slider1.Dragbar.maxX=i,this._slider1.Dragbar.origMaxX=i,this._slider1.maxX=i,this._slider2.Dragbar.maxX=r,this._slider2.Dragbar.origMaxX=r,this._slider2.maxX=r;var a=Math.max(Math.floor(i*Math.max(this.selectedMinValue-this.absoluteMinValue,0)/(this.absoluteMaxValue-this.absoluteMinValue))-1,0),o=Math.floor(r*Math.max(this.selectedMaxValue-this.absoluteMinValue,0)/(this.absoluteMaxValue-this.absoluteMinValue));this.querySelector(".ffw-slider1").style.left="".concat(a,"px"),this.querySelector(".ffw-slider2").style.left="".concat(o,"px")}}},{key:"_getCurrentValue",value:function(e){e<=0&&(e=1e-10);var t=this._slider2.barWd||this.querySelector(".ffw-slider2").clientWidth,n=Math.max(this.querySelector(".ffw-sliderBar").clientWidth-t,0);if(n<=e)return Math.ceil(this.absoluteMaxValue);var i=e/n,r=this.absoluteMaxValue-this.absoluteMinValue;return Math.floor(r*i)+Math.floor(this.absoluteMinValue)}},{key:"_selectedMinChanged",value:function(){this.selectedMinValue=Math.floor(this.selectedMinValue),isNaN(this.selectedMinValue)||this.selectedMinValue<Math.floor(this.absoluteMinValue)?this.selectedMinValue=Math.floor(this.absoluteMinValue):this.selectedMinValue>=this.selectedMaxValue&&(this.selectedMinValue=this.selectedMaxValue>this.absoluteMinValue?Math.ceil(this.selectedMaxValue)-1:this.absoluteMinValue),ee(this),this.dispatchEvent(ie(this.selectedMinValue,this.selectedMaxValue,1))}},{key:"_absoluteMinChanged",value:function(){this.absoluteMinValue=Math.floor(this.absoluteMinValue),ee(this)}},{key:"_selectedMaxChanged",value:function(e){this.selectedMaxValue=Math.ceil(this.selectedMaxValue),isNaN(this.selectedMaxValue)||this.selectedMaxValue>Math.ceil(this.absoluteMaxValue)?this.selectedMaxValue=Math.ceil(this.absoluteMaxValue)||e:this.selectedMaxValue<=this.selectedMinValue&&(this.selectedMaxValue=Math.floor(this.selectedMinValue)+1),ee(this),this.dispatchEvent(ie(this.selectedMinValue,this.selectedMaxValue,2))}},{key:"_absoluteMaxChanged",value:function(){this.absoluteMaxValue=Math.ceil(this.absoluteMaxValue),ee(this)}},{key:"submit",value:function(){var e=_.a.communication.FFCommunicationEventAggregator.currentSearchResult;if(e){var t=_.a.common.getParentElementByName(this,ce.is);if(t){var n=t.group.elements[0].associatedFieldName,i=e.searchParams.split("?")[1],r=_.a.common.parameterStringToDict(i,!1);this.selectedMinValue<=this.absoluteMinValue&&this.selectedMaxValue>=this.absoluteMaxValue?_.a.communication.FFCommunicationEventAggregator.addFFEvent({type:"filter",groupName:t.group.name,removeAll:!0}):(delete r["filter".concat(n)],r["filter".concat(_.a.common.fixedEncodeURIComponent(n))]="".concat(this.selectedMinValue,"-").concat(this.selectedMaxValue),r.type="search",_.a.communication.FFCommunicationEventAggregator.addFFEvent(_.a.common.decodeDict(r)))}else this.debug("No asn-group available, search is not executed.")}else this.debug("No search result available, cannot submit slider filter data.")}}]),t}(E.a);function ee(e){e._forceUpdate&&(e._forceUpdate=!1,!e.isInitialized&&e.init(),e.renderSlider())}function te(e,t,n,i){e.dragging=!0,e.dispatchEvent(new CustomEvent("slider-moved",{detail:{selectedMinValue:t,selectedMaxValue:n,slider:i}}))}function ne(e){e.dragging=!1,"false"!==e.getAttribute("submit-on-release")&&e.submit()}function ie(e,t,n){return new CustomEvent("value-changed",{detail:{selectedMinValue:e,selectedMaxValue:t,slider:n}})}function re(){var e=r()(['<div class="ffw-sliderSection">',"</div>"]);return re=function(){return e},e}window.customElements.define(Z.is,Z);var ae='<div>\n                                    <ff-slider step-size="1" submit-on-release="true">\n                                        <div slot="slider1"></div>\n                                        <div slot="slider2"></div>\n                                    </ff-slider>\n                                    <div slot="sliderControls" style="display: flex;justify-content: space-around;align-items: center">\n                                        <input data-control=\'1\' style="width: 60px;">\n                                        <span style="width: 20px; height: 2px; background-color: black;display: inline-block"></span>\n                                        <input data-test="{{group.name}}" data-control=\'2\' style="width: 60px;">\n                                     </div>\n                                </div>',oe=function(e){function t(){var e;return o()(this,t),(e=c()(this,l()(t).call(this))).submitOnInput=!1,e.inputMin=void 0,e.inputMax=void 0,e.slider=void 0,e._renderer=void 0,e._content=void 0,e}return g()(t,e),p()(t,[{key:"render",value:function(){return Object(S.g)(re(),this._content)}}],[{key:"is",get:function(){return"ff-slider-control"}},{key:"properties",get:function(){return{submitOnInput:{type:E.c,attribute:"submit-on-input"},unit:{type:String},group:{type:Object,attribute:!1}}}}]),p()(t,[{key:"connectedCallback",value:function(){h()(l()(t.prototype),"connectedCallback",this).call(this);var e=this._getContentRoot();this._content=C()(e.children),this.slider=e.querySelector(Z.is)}},{key:"initDefaultTemplates",value:function(){this._content=x(ae),this.slider=this._content.querySelector(Z.is)}},{key:"update",value:function(e){e.has("group")&&this._groupChanged(),h()(l()(t.prototype),"update",this).call(this,e)}},{key:"getInputMin",value:function(){return this.inputMin=this.querySelector("[data-control='1']"),this.inputMin||this.warn("Could not retrieve <input data-control='1'>, make sure you don't remove it from the DOM"),this.inputMin}},{key:"getInputMax",value:function(){return this.inputMax=this.querySelector("[data-control='2']"),this.inputMax||this.warn("Could not retrieve <input data-control='2'>, make sure you don't remove it from the DOM"),this.inputMax}},{key:"init",value:function(){var e=this;this._renderer=new _.a.html.TemplateRenderer,this.inputMin=this.getInputMin(),this.inputMax=this.getInputMax(),this.slider=this.querySelector(Z.is),this.slider.addEventListener("slider-moved",this._valueChanged.bind(this)),this.slider.addEventListener("value-changed",this._valueChanged.bind(this)),this.inputMin.value=this.addUnit(Math.round(this.slider.selectedMinValue)),this.inputMax.value=this.addUnit(Math.round(this.slider.selectedMaxValue)),this.submitOnInput?this._initInputSubmit():this._disableFocusInput(),Promise.resolve().then(function(){return e.style.opacity="1"})}},{key:"_getContentRoot",value:function(){var e=this.querySelector(".ffw-sliderSection")||this;return e.children&&0<e.children.length?e:x(ae)}},{key:"_groupChanged",value:function(){var e=this;this.group&&setTimeout(function(){e._updateInput(e.inputMax,e.slider.selectedMaxValue),e._updateInput(e.inputMin,e.slider.selectedMinValue)},1)}},{key:"_updateInput",value:function(e,t){if(e){this.slider&&void 0!==t&&(e.value=this.addUnit(Math.round(t)));for(var n=e.attributes,i=0;i<n.length;i++){var r=n[i];r.value=this._renderer.render(r.value,{group:this.group})}}}},{key:"_disableFocusInput",value:function(){var e=this;this.inputMax.onfocus=_.a.common.concatFunctions(this.inputMax.onfocus,function(){return e.inputMax.blur()}),this.inputMin.onfocus=_.a.common.concatFunctions(this.inputMin.onfocus,function(){return e.inputMin.blur()})}},{key:"_submitInputMin",value:function(){var e=this,t=this.removeUnit(this.inputMin.value);isNaN(t)&&(t=this.slider.selectedMinValue);var n=t%this.slider.stepSize;t-=n,.5<=n/this.slider.stepSize&&(t+=this.slider.stepSize),this.slider.selectedMinValue=t,this.slider._forceUpdate=!0,this.inputMin.value=this.addUnit(Math.round(t)),this.inputMin.blur(),this.submitOnInput&&this.slider.updateComplete.then(function(){e.slider.submit()})}},{key:"_submitInputMax",value:function(){var e=this,t=this.removeUnit(this.inputMax.value);isNaN(t)&&(t=this.slider.selectedMaxValue);var n=t%this.slider.stepSize;t-=n,.5<=n/this.slider.stepSize&&(t+=this.slider.stepSize),this.slider.selectedMaxValue=t,this.slider._forceUpdate=!0,this.inputMax.value=this.addUnit(Math.round(t)),this.inputMax.blur(),this.submitOnInput&&this.slider.updateComplete.then(function(){e.slider.submit()})}},{key:"_initInputSubmit",value:function(){var e=this;this.inputMin.onkeypress=function(t){if(13===((t=window.event||t).keyCode||t.which))return e._submitInputMin(),!1},this.inputMax.onkeypress=function(t){if(13===((t=window.event||t).keyCode||t.which))return e._submitInputMax(),!1}}},{key:"addUnit",value:function(e){var t=_.a.communication.globalCommunicationParameter,n=t.currencyCode,i=t.currencyCountryCode,r=this.group.elements.concat(this.group.selectedElements);return r[0]&&_.a.communication.fieldRoles&&r[0].associatedFieldName===_.a.communication.fieldRoles.price&&n&&i?e.toLocaleString(i,{style:"currency",currency:n}):(this.group.unit&&(e+=" ".concat(this.group.unit)),e)}},{key:"removeUnit",value:function(e){return+e.replace(this.unit,"").replace(",",".").replace(/\.(?=.*\.)/g,"")}},{key:"_valueChanged",value:function(e){var t=e.detail,n=t.slider,i=t.selectedMinValue,r=t.selectedMaxValue;if(1===n)this.inputMin.value=this.addUnit(Math.round(i));else{if(2!==n)throw"Unexpected slider: ".concat(n);this.inputMax.value=this.addUnit(Math.round(r))}}}]),t}(Object(k.a)(["ElementLog"],E.a));function se(){var e=r()(['<div data-container="groupCaption" @click="','">','</div><div class="ffw-container"><div class="ffw-wrapper" ?opened="','">',"</div></div>",""]);return se=function(){return e},e}window.customElements.define(oe.is,oe);var ce=function(e){function t(){var e;return o()(this,t),(e=c()(this,l()(t).call(this))).collapsible=!0,e.opened=!1,e.filterStyle="SLIDER",e.selectorWrapper=".ffw-wrapper",e._wrapper=void 0,e._sliderControl=void 0,e._removeFilterContainer=void 0,e.selectorGroupCaptionContainer='[slot="groupCaption"]',e.selectRemoveFilterContainer='[data-container="removeFilter"]',e._initialized=!1,e._rawOuterHtml="",e}return g()(t,e),p()(t,[{key:"render",value:function(){var e=this;return Object(S.g)(se(),function(){return e.toggle(!0)},Object(E.e)(this._groupCaptionTemplate,{group:this.group}),this.opened,this._sliderControl,this._removeFilterContainer)}}],[{key:"is",get:function(){return"ff-asn-group-slider"}},{key:"properties",get:function(){return{collapsible:{type:E.c},opened:{type:Boolean,reflect:!0},forGroup:{type:String,reflect:!0,attribute:"for-group"},filterStyle:{type:String,reflect:!0,attribute:"filter-style"},disableAutoExpand:{type:Boolean,reflect:!0,attribute:"disable-auto-expand"},group:{type:Object,attribute:!1}}}}]),p()(t,[{key:"connectedCallback",value:function(){h()(l()(t.prototype),"connectedCallback",this).call(this),this.init()}},{key:"firstUpdated",value:function(){this._wrapper=this.querySelector(this.selectorWrapper),this.opened?this.show():this._hide(this._wrapper,!1)}},{key:"init",value:function(){this._initialized||(this._initialized=!0,this._rawOuterHtml=this.outerHTML,this._groupCaptionTemplate=this._initGroupCaption(),this._sliderControl=this.querySelector(oe.is)||document.createElement(oe.is),this._sliderControl.initDefaultTemplates(),this._updateSliderControls(),this._removeFilterContainer=this._initRemoveFilter())}},{key:"_initGroupCaption",value:function(){return this.querySelector(this.selectorGroupCaptionContainer)||x('<div slot="groupCaption">{{group.name}}</div>')}},{key:"_updateSliderControls",value:function(){var e=this;this.querySelectorAll(oe.is).forEach(function(t){return t.group=e.group}),this._sliderControl&&(this._sliderControl.group=this.group)}},{key:"_hideGroup",value:function(){this.style.display="none",this.offsetHeight,this.style.opacity="0"}},{key:"update",value:function(e){e.has("group")&&this._asnGroupChanged(),h()(l()(t.prototype),"update",this).call(this,e)}},{key:"_processAndRenderGroup",value:function(e){var n=this;this.forGroup=e.name;var i=e.elements[0];if("number"!=typeof i.absoluteMinValue||"number"!=typeof i.absoluteMaxValue)return this.warn("[".concat(t.is,"]: absoluteMinValue and absoluteMaxValue must be numbers but are:"),i.absoluteMinValue,i.absoluteMaxValue),void this._hideGroup();if(i.absoluteMinValue!==i.absoluteMaxValue){i.absoluteMinValue=Math.min(i.absoluteMinValue,i.selectedMinValue),i.absoluteMaxValue=Math.max(i.absoluteMaxValue,i.selectedMaxValue),this._updateSliderControls();try{this._processRemoveFilter(e),Promise.resolve().then(function(){var t=n.querySelector(Z.is);t&&(t.unit=e.unit,t.updateComplete.then(function(){return t.updateData(i)}))}),this.style.display="",this.offsetHeight,function(e){if(!e||!e.elements[0])return!1;var t=e.elements[0],n=t.selectedMinValue,i=t.selectedMaxValue,r=t.absoluteMinValue;return i!==t.absoluteMaxValue||n!==r}(e)&&!0!==this.opened&&!this.disableAutoExpand&&this.show(),this.dispatchEvent(new CustomEvent("records-updated",{bubbles:!0,composed:!0})),this.style.opacity="1",this.offsetHeight}catch(e){this.error(e)}}else this._hideGroup()}},{key:"_asnGroupChanged",value:function(){this.group?this._processAndRenderGroup(this.group):(this.group=_.a.communication.AsnGroup,this._hideGroup())}},{key:"_initRemoveFilter",value:function(){var e=this,t=this.querySelector(this.selectRemoveFilterContainer)||x('<div data-container="removeFilter">Reset Filter</div>');return t.addEventListener("click",function(){_.a.communication.FFCommunicationEventAggregator.addFFEvent({type:"filter",groupName:e.group.name,removeAll:!0})}),t}},{key:"_processRemoveFilter",value:function(e){if(this._removeFilterContainer){var t=e.elements[0];this._removeFilterContainer.style.display=t.selected?"inline":"none"}}},{key:"toggle",value:function(e){var t=this;this.collapsible&&(this._wrapper&&this._wrapper.hasAttribute("opened")?this._toggle(this._wrapper,e,function(){return t.opened=!1}):(this._toggle(this._wrapper,e),this.opened=!0))}},{key:"show",value:function(e){this.collapsible&&(this._show(this._wrapper,e),this.opened=!0)}},{key:"hide",value:function(e){var t=this;this.collapsible&&!1!==this.opened&&(!0!==e?(this._hide(this._wrapper,e),this.opened=!1):this._hide(this._wrapper,e,function(){return t.opened=!1}))}},{key:"clone",value:function(){return x(this._rawOuterHtml)}}]),t}(Object(k.a)(["ElementLog","CollapseElement"],E.a));function ue(){var e=r()([""]);return ue=function(){return e},e}window.customElements.define(ce.is,ce),n.d(t,"Asn",function(){return le});var le=function(e){function t(){var e;return o()(this,t),(e=c()(this,l()(t).call(this)))._asnGroupHTMLTags={},e._subscriptionKey=void 0,e.attributeName="display",e.stateTwoValue="none",e.activateStateTwo(),e}return g()(t,e),p()(t,null,[{key:"is",get:function(){return"ff-asn"}},{key:"properties",get:function(){return{align:{type:String,value:"vertical",reflectToAttribute:!0},asnGroups:{value:[],notify:!0}}}},{key:"template",get:function(){return Object(v.b)(ue())}}]),p()(t,[{key:"ready",value:function(){var e=this;h()(l()(t.prototype),"ready",this).call(this);try{if(this.querySelectorAll("".concat(H.is,",").concat(ce.is)).forEach(function(t){try{var n=t.parentNode,i=t.getAttribute("for-group"),r=t.getAttribute("filter-style");i&&"all"!==i.toLowerCase()?e._asnGroupHTMLTags[i]=t:r?e._asnGroupHTMLTags[r]=t:"FF-ASN-GROUP-SLIDER"===t.tagName?e._asnGroupHTMLTags.SLIDER=t:e._asnGroupHTMLTags.all||(e._asnGroupHTMLTags.all=t),n.removeChild(t),Object(y.a)()}catch(t){e.error(t)}}),Object(y.a)(),!this._asnGroupHTMLTags.all){var n=document.createElement(H.is);n.setAttribute("opened",void 0),n._init(),this._asnGroupHTMLTags.all=n}if(!this._asnGroupHTMLTags.SLIDER){var i=document.createElement(ce.is);i.setAttribute("filter-style","SLIDER"),i.setAttribute("opened",void 0),i.init(),this._asnGroupHTMLTags.SLIDER=i}}catch(n){this.error(n)}}},{key:"connectedCallback",value:function(){h()(l()(t.prototype),"connectedCallback",this).call(this),this._subscriptionKey||(this._subscriptionKey=_.a.communication.ResultDispatcher.subscribe("asn",this._groupsChanged,this))}},{key:"disconnectedCallback",value:function(){h()(l()(t.prototype),"disconnectedCallback",this).call(this),this._subscriptionKey&&(_.a.communication.ResultDispatcher.unsubscribe("asn",this._subscriptionKey),this._subscriptionKey=void 0)}},{key:"_attachDom",value:function(e){this.appendChild(e)}},{key:"_groupsChanged",value:function(e,t){var n=this;if(e&&0<e.length){var i={};this.querySelectorAll("".concat(H.is,",").concat(ce.is)).forEach(function(e){e.parentNode.removeChild(e)}),Object(y.a)(),e.forEach(function(e){i[e.name]=!0;var t=n._asnGroupHTMLTags[e.name];if(!t){var r=e.filterStyle?e.filterStyle.toUpperCase():"";n._asnGroupHTMLTags[r]&&(t=n._asnGroupHTMLTags[r].clone(),n._asnGroupHTMLTags[e.name]=t)}t||(t=n._asnGroupHTMLTags.all.clone(),n._asnGroupHTMLTags[e.name]=t),t.parentNode||(n.appendChild(t),Object(y.a)()),t.group=e});for(var r=this.querySelectorAll("".concat(H.is,",").concat(ce.is)),a=0;a<r.length;a++){var o=r[a],s=!1;if(o.group){var c=o.group.name;for(var u in i)if(u===c){s=!0;break}}!1===s&&o.delete("group")}Object(y.a)(),this.activateStateOne();var l=[].map.call(r,function(e){return e.updateComplete});Promise.all(l).then(function(){Object(b.a)(n,function(){return n.dispatchEvent(new CustomEvent("dom-updated",{bubbles:!0,composed:!0}))})})}else this.activateStateTwo()}}]),t}(Object(k.a)(["ElementLog","CssAttributeToggle","RemoveUnresolvedAttribute"],v.a));window.customElements.define(le.is,le)},function(e,t,n){"use strict";n.r(t);var i,r=n(3),a=n.n(r),o=n(2),s=n.n(o),c=n(5),u=n.n(c),l=n(0),d=n.n(l),h=n(12),f=n.n(h),p=n(6),m=n.n(p),g=n(21),v=n.n(g),y=null,b=window.HTMLImports&&window.HTMLImports.whenReady||null;function _(e){requestAnimationFrame(function(){b?b(e):(y||(y=new Promise(function(e){i=e}),"complete"===document.readyState?i():document.addEventListener("readystatechange",function(){"complete"===document.readyState&&i()})),y.then(function(){e&&e()}))})}var k="__seenByShadyCSS",w="__shadyCSSCachedStyle",C=null,S=null,P=function(){function e(){a()(this,e),this.customStyles=[],this.enqueued=!1,_(function(){window.ShadyCSS.flushCustomStyles&&window.ShadyCSS.flushCustomStyles()})}return s()(e,[{key:"enqueueDocumentValidation",value:function(){!this.enqueued&&S&&(this.enqueued=!0,_(S))}},{key:"addCustomStyle",value:function(e){e[k]||(e[k]=!0,this.customStyles.push(e),this.enqueueDocumentValidation())}},{key:"getStyleForCustomStyle",value:function(e){return e[w]?e[w]:e.getStyle?e.getStyle():e}},{key:"processStyles",value:function(){for(var e=this.customStyles,t=0;t<e.length;t++){var n=e[t];if(!n[w]){var i=this.getStyleForCustomStyle(n);if(i){var r=i.__appliedElement||i;C&&C(r),n[w]=r}}}return e}}]),e}();function E(e,t){for(var n in t)null===n?e.style.removeProperty(n):e.style.setProperty(n,t[n])}P.prototype.addCustomStyle=P.prototype.addCustomStyle,P.prototype.getStyleForCustomStyle=P.prototype.getStyleForCustomStyle,P.prototype.processStyles=P.prototype.processStyles,Object.defineProperties(P.prototype,{transformCallback:{get:function(){return C},set:function(e){C=e}},validateCallback:{get:function(){return S},set:function(e){var t=!1;S||(t=!0),S=e,t&&this.enqueueDocumentValidation()}}});var x,T,O=!(window.ShadyDOM&&window.ShadyDOM.inUse);function A(e){x=(!e||!e.shimcssproperties)&&(O||Boolean(!navigator.userAgent.match(/AppleWebKit\/601|Edge\/15/)&&window.CSS&&CSS.supports&&CSS.supports("box-shadow","0 0 0 var(--foo)")))}window.ShadyCSS&&void 0!==window.ShadyCSS.cssBuild&&(T=window.ShadyCSS.cssBuild);var R=Boolean(window.ShadyCSS&&window.ShadyCSS.disableRuntime);window.ShadyCSS&&void 0!==window.ShadyCSS.nativeCss?x=window.ShadyCSS.nativeCss:window.ShadyCSS?(A(window.ShadyCSS),window.ShadyCSS=void 0):A(window.WebComponents&&window.WebComponents.flags);var L=x,F=new P;window.ShadyCSS||(window.ShadyCSS={prepareTemplate:function(e,t,n){},prepareTemplateDom:function(e,t){},prepareTemplateStyles:function(e,t,n){},styleSubtree:function(e,t){F.processStyles(),E(e,t)},styleElement:function(e){F.processStyles()},styleDocument:function(e){F.processStyles(),E(document.body,e)},getComputedStyleValue:function(e,t){return n=e,i=t,(r=window.getComputedStyle(n).getPropertyValue(i))?r.trim():"";var n,i,r},flushCustomStyles:function(){},nativeCss:L,nativeShadow:O,cssBuild:T,disableRuntime:R}),window.ShadyCSS.CustomStyleInterface=F;var I=n(41);n.d(t,"CustomStyle",function(){return N});var M=window.ShadyCSS.CustomStyleInterface,N=function(e){function t(){var e;return a()(this,t),(e=u()(this,d()(t).call(this)))._style=null,M.addCustomStyle(f()(e)),e}return m()(t,e),s()(t,[{key:"getStyle",value:function(){if(this._style)return this._style;var e=this.querySelector("style");if(!e)return null;var t=(this._style=e).getAttribute("include");return t&&(e.removeAttribute("include"),e.textContent=Object(I.a)(t)+e.textContent),this.ownerDocument!==window.document&&window.document.head.appendChild(this),this._style}}]),t}(v()(HTMLElement));window.customElements.define("custom-style",N)},function(e,t,n){"use strict";n.r(t);var i=n(3),r=n.n(i),a=n(5),o=n.n(a),s=n(0),c=n.n(s),u=n(4),l=n.n(u),d=n(2),h=n.n(d),f=n(6),p=n.n(f),m=n(11),g=n(15),v=n(18),y=n(13),b=n(9),_=n(27),k=n(1),w=n(10),C=n.n(w),S=n(12),P=n.n(S);function E(){var e=C()(["<style>:host{display:block}button{background:#06507f;color:#fff}button:hover{background:#03a9f4}</style><slot><button><span>{{model.text}}</span></button></slot>"]);return E=function(){return e},e}var x=function(e){function t(){var e;return r()(this,t),(e=o()(this,c()(t).call(this))).attributeName="display",e.stateTwoValue="none",e._handleClick=e._handleClick.bind(P()(e)),e}return p()(t,e),h()(t,null,[{key:"is",get:function(){return"ff-campaign-advisor-answer"}},{key:"properties",get:function(){return{answer:{type:Object,observer:"_answerChanged"}}}},{key:"template",get:function(){return Object(m.b)(E())}}]),h()(t,[{key:"ready",value:function(){l()(c()(t.prototype),"ready",this).call(this),this.activateStateTwo()}},{key:"connectedCallback",value:function(){l()(c()(t.prototype),"connectedCallback",this).call(this),this.addEventListener("click",this._handleClick)}},{key:"_answerChanged",value:function(e,t){e?(this.model=e,this.activateStateOne()):this.activateStateTwo()}},{key:"_handleClick",value:function(e){k.a.communication.FFCommunicationEventAggregator.addFFEvent({type:"advisor",answer:this.answer})}},{key:"clone",value:function(){var e=document.createElement(t.is);return e.templateString=this.templateString,e}}]),t}(Object(b.a)(["LightDOMTemplate","CssAttributeToggle","RemoveUnresolvedAttribute"],m.a));window.customElements.define(x.is,x);var T=function(e){function t(){var e;return r()(this,t),(e=o()(this,c()(t).call(this)))._renderer=new k.a.html.TemplateRenderer,e.captionSelector="[data-question]",e.attributeName="display",e.stateTwoValue="none",e}return p()(t,e),h()(t,null,[{key:"is",get:function(){return"ff-campaign-advisor-question"}},{key:"properties",get:function(){return{question:{type:Object,observer:"_questionChanged"}}}}]),h()(t,[{key:"ready",value:function(){l()(c()(t.prototype),"ready",this).call(this),this.activateStateTwo()}},{key:"connectedCallback",value:function(){l()(c()(t.prototype),"connectedCallback",this).call(this),this.cloneInnerHTML=this.innerHTML;var e=this.querySelector(this.captionSelector);e&&(this.captionTemplate=e.innerHTML),this.templateAnswer=this.querySelector(x.is),this.templateAnswer||(this.templateAnswer=document.createElement(x.is)),this.insertAnswerHelper=new _.a(this.templateAnswer,this)}},{key:"_questionChanged",value:function(e,t){var n=this;e?y.a.run(function(){n._renderCaption(e),n.insertAnswerHelper.insertAll(n.querySelectorAll(x.is),e.answers,function(e,t){e.answer=t},function(){Object(g.a)(),n.activateStateOne()})}):this.activateStateTwo()}},{key:"_renderCaption",value:function(e){this.querySelector(this.captionSelector).innerHTML=this._renderer.render(this.captionTemplate,e)}},{key:"clone",value:function(){var e=document.createElement(t.is);return e.innerHTML=this.cloneInnerHTML,Object(g.a)(),e}}]),t}(Object(b.a)(["CssAttributeToggle","RemoveUnresolvedAttribute"],m.a));window.customElements.define(T.is,T),n.d(t,"CampaignAdvisor",function(){return O});var O=function(e){function t(){var e;return r()(this,t),(e=o()(this,c()(t).call(this))).campaignKey="campaign:advisor",e}return p()(t,e),h()(t,null,[{key:"is",get:function(){return"ff-campaign-advisor"}},{key:"properties",get:function(){return{name:{type:String,value:"",observer:"_nameChanged",reflectToAttribute:!0},not:{type:String}}}}]),h()(t,[{key:"ready",value:function(){l()(c()(t.prototype),"ready",this).call(this),this.attributeName="display",this.stateTwoValue="none",this.activateStateTwo()}},{key:"connectedCallback",value:function(){l()(c()(t.prototype),"connectedCallback",this).call(this),this.subscriptionKey=k.a.communication.ResultDispatcher.subscribe(this.getCampaignKey(this.name),this._handleAdvisor,this),this.advisorQuestionTemplate=this.querySelector(T.is),this.insertQuestionHelper=new _.a(this.advisorQuestionTemplate,this)}},{key:"disconnectedCallback",value:function(){l()(c()(t.prototype),"disconnectedCallback",this).call(this),this.subscriptionKey&&(k.a.communication.ResultDispatcher.unsubscribe(this.getCampaignKey(this.name),this.subscriptionKey),this.subscriptionKey=void 0)}},{key:"_nameChanged",value:function(e,t){e&&t&&(k.a.communication.ResultDispatcher.unsubscribe(this.getCampaignKey(t),this.subscriptionKey),this.subscriptionKey=k.a.communication.ResultDispatcher.subscribe(this.getCampaignKey(e),this._handleAdvisor,this))}},{key:"getCampaignKey",value:function(e){return 0!==e.length&&e.trim()?["".concat(this.campaignKey,":").concat(e)]:(this.debug("No label property defined, will handle all campaigns where only the last feedbacktext will be displayed."),[this.campaignKey])}},{key:"_handleAdvisor",value:function(e){var t=this;if(e){var n=this.not?this.not.split(","):[],i=!1;n.forEach(function(t){e.name===t.trim()&&(i=!0)}),0<e.activeQuestions.length&&!1===i?y.a.run(function(){var n=t.querySelectorAll(T.is);t.insertQuestionHelper.insertAll(n,e.activeQuestions,function(e,t){e.question=t},function(){Object(g.a)(),t.activateStateOne(),Object(v.a)(t,function(){t.dispatchEvent(new CustomEvent("dom-updated",{bubbles:!0,composed:!0}))})})}):this.activateStateTwo()}else this.activateStateTwo()}}]),t}(Object(b.a)(["ElementLog","CssAttributeToggle","RemoveUnresolvedAttribute"],m.a));window.customElements.define(O.is,O)},function(e,t,n){"use strict";n.r(t),n(59);var i=n(1);n.d(t,"factfinder",function(){return i.a}),function(e){if(window.WebComponents&&window.WebComponents.ready)e.communication.ResultDispatcher.startDispatching();else{document.addEventListener("WebComponentsReady",function n(){document.removeEventListener("WebComponentsReady",n),clearTimeout(t),e.communication.ResultDispatcher.startDispatching()});var t=setTimeout(function(){e.common.Logger.log("Warning: The WebComponentsReady event didn't fire within 10 seconds, which indicates a very slow page load.")},1e4)}}(i.a),i.a.elements={ElementLogBehavior:n(51).ElementLogBehavior,CollapseElementBehavior:n(52).CollapseElementBehavior,TrackingBehavior:n(53).TrackingBehavior},WebComponents.waitFor(function(){return new Promise(function(e){n(66),n(101),n(43),n(56),n(75),n(45),n(16),n(102),n(76),n(77),n(106),n(78),n(79),n(80),n(37),n(81),n(82),n(83),n(100),n(84),n(110),n(85),n(86),n(87),n(88),n(109),n(89),n(108),n(90),n(107),n(91),n(92),n(93),n(105),n(94),n(95),n(104),n(96),n(48),n(97),n(98),n(99),e()})})},function(e,t,n){"use strict";n.r(t);var i=n(3),r=n.n(i),a=n(5),o=n.n(a),s=n(0),c=n.n(s),u=n(4),l=n.n(u),d=n(2),h=n.n(d),f=n(6),p=n.n(f),m=n(11),g=n(15),v=n(18),y=n(9),b=n(1),_=n(12),k=n.n(_),w=n(16),C=function(e){function t(){var e;return r()(this,t),(e=o()(this,c()(t).call(this))).attributeName="display",e.stateTwoValue="none",e._searchForSingleWordSelector="[data-search='singleWord']",e._renderer=new b.a.html.TemplateRenderer,e._handleSingleSearchClick=e._handleSingleSearchClick.bind(k()(e)),e}return p()(t,e),h()(t,null,[{key:"is",get:function(){return"ff-single-word-search-record"}},{key:"properties",get:function(){return{word:{type:"Object",observer:"_wordChanged"}}}}]),h()(t,[{key:"connectedCallback",value:function(){l()(c()(t.prototype),"connectedCallback",this).call(this);var e=this.querySelector(this._searchForSingleWordSelector);if(e){this.captionTemplate||(this.captionTemplate=e.innerHTML);var n=this.querySelector(w.RecordList.is);n&&n.setAttribute("subscribe","false")}else this.info("No caption tag with css selector ".concat(this._searchForSingleWordSelector," provided."))}},{key:"disconnectedCallback",value:function(){l()(c()(t.prototype),"disconnectedCallback",this).call(this),this._removeSigleWordSearchListener()}},{key:"_wordChanged",value:function(e,t){if(e){this.activateStateTwo(),this.querySelector(this._searchForSingleWordSelector).innerHTML=this._renderer.render(this.captionTemplate,e);var n=this.querySelector(w.RecordList.is);n?n.records=e.previewRecords:this.warn("No ".concat(w.RecordList.is," element found. Cannot display product data.")),this._removeSigleWordSearchListener(),this._addSingleWordSearchListener(),this.activateStateOne()}else this.activateStateTwo()}},{key:"_removeSigleWordSearchListener",value:function(){var e=this;this.querySelectorAll(this._searchForSingleWordSelector).forEach(function(t){return t.removeEventListener("click",e._handleSingleSearchClick)})}},{key:"_addSingleWordSearchListener",value:function(){var e=this;this.querySelectorAll(this._searchForSingleWordSelector).forEach(function(t){return t.addEventListener("click",e._handleSingleSearchClick)})}},{key:"_handleSingleSearchClick",value:function(e){try{var t=b.a.common.getParameterString(this.word.searchParams),n=b.a.common.parameterStringToDict(t);n.type="search",b.a.communication.FFCommunicationEventAggregator.addFFEvent(n)}catch(e){this.error(e)}}},{key:"clone",value:function(){var e=this.cloneNode();e.innerHTML=this.innerHTML,Object(g.a)();var t=e.querySelector(w.RecordList.is),n=this.querySelector(w.RecordList.is);return t&&n&&(t._templateRecord=n._templateRecord),e.captionTemplate=this.captionTemplate,Object(g.a)(),e}}]),t}(Object(y.a)(["ElementLog","CssAttributeToggle","RemoveUnresolvedAttribute"],m.a));window.customElements.define(C.is,C);var S=n(27);n.d(t,"SingleWordSearch",function(){return P});var P=function(e){function t(){var e;return r()(this,t),(e=o()(this,c()(t).call(this))).attributeName="display",e.stateTwoValue="none",e}return p()(t,e),h()(t,null,[{key:"is",get:function(){return"ff-single-word-search"}}]),h()(t,[{key:"connectedCallback",value:function(){l()(c()(t.prototype),"connectedCallback",this).call(this),this.activateStateTwo(),this.subscriptionKey=b.a.communication.ResultDispatcher.subscribe("singleWordSearch",this._handleSingleWordSearch,this),this._singleWordTemplate=this.querySelector(C.is),this.removeChild(this._singleWordTemplate),this.insertSWSRecordHelper=new S.a(this._singleWordTemplate,this)}},{key:"disconnectedCallback",value:function(){l()(c()(t.prototype),"disconnectedCallback",this).call(this),b.a.communication.ResultDispatcher.unsubscribe("singleWordSearch",this.subscriptionKey)}},{key:"_handleSingleWordSearch",value:function(e){var t=this;e&&0<e.length?(this.activateStateTwo(),requestAnimationFrame(function(){var n=t.querySelectorAll(C.is);t.insertSWSRecordHelper.insertAll(n,e,function(e,t){e.word=t},function(){Object(g.a)(),t.activateStateOne(),Object(v.a)(t,function(){return t.dispatchEvent(new CustomEvent("dom-updated",{bubbles:!0,composed:!0}))})})})):this.activateStateTwo()}}]),t}(Object(y.a)(["CssAttributeToggle","RemoveUnresolvedAttribute"],m.a));window.customElements.define(P.is,P)},function(e,t,n){"use strict";n.r(t);var i=n(3),r=n.n(i),a=n(2),o=n.n(a),s=n(5),c=n.n(s),u=n(0),l=n.n(u),d=n(4),h=n.n(d),f=n(6),p=n.n(f),m=n(11),g=n(9),v=n(1),y=function(e){function t(){return r()(this,t),c()(this,l()(t).apply(this,arguments))}return p()(t,e),o()(t,null,[{key:"is",get:function(){return"ff-checkout-tracking-item"}},{key:"properties",get:function(){return{count:{type:String,value:"1",reflectToAttribute:!0},recordId:{type:String}}}}]),t}(m.a);window.customElements.define(y.is,y),n.d(t,"CheckoutTracking",function(){return b});var b=function(e){function t(){return r()(this,t),c()(this,l()(t).apply(this,arguments))}return p()(t,e),o()(t,[{key:"connectedCallback",value:function(){h()(l()(t.prototype),"connectedCallback",this).call(this),!0!==this.disableAutoTracking&&this.trackCheckoutItems()}},{key:"trackCheckoutItems",value:function(){var e=Array.prototype.map.call(this.querySelectorAll(y.is),function(e){return e.recordId.trim()});this._getRecords(e)}},{key:"_recordsChanged",value:function(e){var t=this;e&&e.forEach(function(e){var n=t.querySelector("[record-id='".concat(e.id,"']"));t._trackCheckoutClick(n,e)})}},{key:"_getRecords",value:function(e){if(e){var t=this.getRecordEvent(e);t?(this.dispatchEvent(new CustomEvent("before-get-records",{detail:t,bubbles:!0})),t.success=v.a.common.concatFunctions(t.success,this.recordSearchHandler.bind(this)),v.a.communication.FFCommunicationEventAggregator.addFFEvent(t)):this.warn("Your FACT-Finder version does not support <ff-checkout-tracking>. Requires version 7.3")}}},{key:"getRecordEvent",value:function(e){var t;try{t=parseFloat(v.a.communication.globalSearchParameter.version)}catch(e){return void this.error("Could not parse float from FACT-Finder version string. Doing nothing.")}if(!(t<7.3))return{type:"getRecords",recordId:e,topics:function(){return["checkout-tracking"]}}}},{key:"recordSearchHandler",value:function(e){0<e.length&&e[0]&&e[0].record&&(this.records=e)}}],[{key:"is",get:function(){return"ff-checkout-tracking"}},{key:"properties",get:function(){return{records:{type:Array,observer:"_recordsChanged"},disableAutoTracking:{type:Boolean}}}}]),t}(Object(g.a)(["ElementLog","Tracking","RemoveUnresolvedAttribute"],m.a));window.customElements.define(b.is,b)},function(e,t,n){"use strict";n.r(t);var i=n(3),r=n.n(i),a=n(2),o=n.n(a),s=n(5),c=n.n(s),u=n(0),l=n.n(u),d=n(4),h=n.n(d),f=n(6),p=n.n(f),m=n(1),g=n(7),v=n(9),y=n(16);n.d(t,"CampaignPushedProducts",function(){return b});var b=function(e){function t(){return r()(this,t),c()(this,l()(t).apply(this,arguments))}return p()(t,e),o()(t,[{key:"update",value:function(e){(e.has("name")||e.has("isProductCampaign")||e.has("isShoppingCartCampaign"))&&_(this),h()(l()(t.prototype),"update",this).call(this,e)}},{key:"connectedCallback",value:function(){h()(l()(t.prototype),"connectedCallback",this).call(this),this.hideSelf(),_(this);var e=this.querySelector(y.RecordList.is);e&&("true"===e.subscribe&&(this.warn("Automatic subscription of ".concat(y.RecordList.is," child component is turned on and will be turned off. Please, set ").concat(y.RecordList.is," 'subscribe' property to 'false' in your HTML code.")),e.setAttribute("subscribe","false")),e.subscriptionKey&&(this.warn("".concat(y.RecordList.is," child component is subscribed to search result and will be unsubscribed.")),m.a.communication.ResultDispatcher.unsubscribe("records",e.subscriptionKey),e.subscriptionKey=void 0))}},{key:"disconnectedCallback",value:function(){h()(l()(t.prototype),"disconnectedCallback",this).call(this),this.subscriptionKey&&(m.a.communication.ResultDispatcher.unsubscribe(this._topic,this.subscriptionKey),this.subscriptionKey=void 0)}}],[{key:"is",get:function(){return"ff-campaign-pushed-products"}},{key:"properties",get:function(){return{name:{type:String},isProductCampaign:{type:Boolean,attribute:"is-product-campaign"},isShoppingCartCampaign:{type:Boolean,attribute:"is-shopping-cart-campaign"}}}}]),t}(Object(v.a)(["ElementLog"],g.a));function _(e){var t,n,i,r,a,o;e._topic&&e.subscriptionKey&&m.a.communication.ResultDispatcher.unsubscribe(e._topic,e.subscriptionKey),e._topic=(t=["pushedProducts",e.name],n=e.isProductCampaign,i=e.isShoppingCartCampaign,"".concat((r=n,a=i,!0===r?"productCampaign":!0===a?"shoppingCartCampaign":"campaign"),":").concat(t.filter(function(e){return e}).join(":"))),e.subscriptionKey=m.a.communication.ResultDispatcher.subscribe(e._topic,(o=e,function(e){if(e){o.showSelf();var t=o.querySelector(y.RecordList.is);t?t.records=e:o.warn("No ".concat(y.RecordList.is," element found for pushed products."))}else o.hideSelf()}))}window.customElements.define(b.is,b)},function(e,t,n){"use strict";n.r(t);var i=n(10),r=n.n(i),a=n(3),o=n.n(a),s=n(5),c=n.n(s),u=n(0),l=n.n(u),d=n(4),h=n.n(d),f=n(2),p=n.n(f),m=n(6),g=n.n(m),v=n(8),y=n(28),b=n(1),_=n(7);function k(){var e=r()(['<ff-navigation-item .element="','" .direction="','" .type="','" .flyout="','" .templates="','" ?selected="','"></ff-navigation-item>']);return k=function(){return e},e}function w(){var e=r()(['<div class="ffw-item-caption" @mouseover="','">','</div><div class="ffw-item-container">',"</div>"]);return w=function(){return e},e}var C=Object.freeze({down:"down",right:"right",left:"left",default:"right"}),S={dataTemplate:"<div>{{name}}</div>",attributes:{direction:C.default}},P=function(e){function t(){var e;return o()(this,t),(e=c()(this,l()(t).call(this))).eventAggregator=b.a.communication.FFCommunicationEventAggregator,e.clusterLevel=0,e.type="default",e.direction=C.default,e.hasSubelements=!1,e.flyout="true",e.selected=!1,e.elements=[],e.templates={default:S},e}return g()(t,e),p()(t,[{key:"render",value:function(){var e=this;return Object(v.g)(w(),this.onHovered,Object(_.e)(this.template.dataTemplate,this.element),Object(y.a)(this.elements,function(t){return E(function(e,t){var n="default";e.templates&&e.templates["layer".concat(t.clusterLevel)]&&(n="layer".concat(t.clusterLevel));var i=e.eventAggregator.navigationResult["".concat(t.associatedFieldName,"/").concat(t.name)];i&&i.subelements&&0<i.subelements.length&&e.templates&&e.templates.parent&&(n="parent");var r=e.templates&&e.templates[n]&&e.templates[n].attributes.direction||C.default;return{element:t,type:n,templates:e.templates,flyout:e.flyout,direction:r}}(e,t))}))}},{key:"template",get:function(){return this.templates&&this.templates[this.type||"default"]||S}}],[{key:"is",get:function(){return"ff-navigation-item"}},{key:"properties",get:function(){return{element:{type:Object,attribute:!1},direction:{type:String,reflect:!0},clusterLevel:{type:Number,reflect:!0,attribute:"cluster-level"},type:{type:String},hasSubelements:{type:Boolean,attribute:"has-subelements",reflect:!0},alwaysSearchOnclick:{type:Boolean,attribute:"always-search-onclick"},flyout:{type:String,reflect:!0},selected:{type:Boolean,reflect:!0},templates:{type:Object,attribute:!1}}}}]),p()(t,[{key:"update",value:function(e){e.has("element")&&this._elementChanged(),e.has("flyout")&&this._flyoutChanged(this.flyout),h()(l()(t.prototype),"update",this).call(this,e)}},{key:"firstUpdated",value:function(e){var n=this;h()(l()(t.prototype),"firstUpdated",this).call(this,e),Object.keys(this.template.attributes).forEach(function(e){return n.setAttribute(e,n.template.attributes[e])}),this._initLink()}},{key:"updated",value:function(e){if(h()(l()(t.prototype),"updated",this).call(this,e),e.has("hasSubelements")){if(!this.link)return;this.hasSubelements?this.link.classList.remove("ffw-navigation-link"):this.link.classList.add("ffw-navigation-link")}}},{key:"connectedCallback",value:function(){var e=this;h()(l()(t.prototype),"connectedCallback",this).call(this),this.subscriptionKey=b.a.communication.ResultDispatcher.subscribe("navigation",this._navigationChanged,this),this.addEventListener("click",function(t){return e._clicked(t)})}},{key:"disconnectedCallback",value:function(){h()(l()(t.prototype),"disconnectedCallback",this).call(this),b.a.communication.ResultDispatcher.unsubscribe("navigation",this.subscriptionKey)}},{key:"_initLink",value:function(){var e=this;this.link=this.querySelector("[data-search]"),this.link&&this.link.addEventListener("click",function(t){e.search(),t.stopPropagation(),t.cancelBubble=!0})}},{key:"_navigationChanged",value:function(){this.element&&!this.hasSubelements&&this.setSubElements()}},{key:"_elementChanged",value:function(){this.element?(this.clusterLevel=this.element.clusterLevel,this.setSubElements()):this.clusterLevel=void 0}},{key:"setSubElements",value:function(){var e=this.eventAggregator.navigationResult["".concat(this.element.associatedFieldName,"/").concat(this.element.name)];e&&(this.elements=e.subelements,this.hasSubelements=this.elements&&0<this.elements.length)}},{key:"_clicked",value:function(e){"false"===this.flyout&&(this.hasSubelements?(this.selected=!this.selected,this.link&&(!0===this.selected?this.link.classList.add("ffw-navigation-link"):this.link.classList.remove("ffw-navigation-link"))):this.link&&this.link.classList.add("ffw-navigation-link")),"true"!==this.flyout&&this.hasSubelements&&!this.alwaysSearchOnclick||this.search(),e.stopPropagation(),e.cancelBubble=!0}},{key:"_flyoutChanged",value:function(e){"true"===e&&(this.selected=!1)}},{key:"search",value:function(){var e=this,t=this.element.searchParams,n=b.a.common.parameterStringToDict(t.split("?")[1]);n.type="navigation-search";var i=this.parentElement;i.classList.add("ffw-container-hidden"),Promise.resolve().then(function(){return e.eventAggregator.addFFEvent(n)}),setTimeout(function(){return i.classList.remove("ffw-container-hidden")},1e3)}},{key:"onHovered",value:function(){if(0!==this.clusterLevel)if(this.direction===C.right){var e=window.innerWidth-this.getBoundingClientRect().left;this.direction=e<500?C.left:this.direction}else if(this.direction===C.left){var t=this.getBoundingClientRect().left,n=this.getBoundingClientRect().width;this.direction=t<=n?C.right:this.direction}}}]),t}(_.a);function E(e){return Object(v.g)(k(),e.element,e.direction,e.type,e.flyout,e.templates,e.selected)}window.customElements.define(P.is,P);var x=n(9);function T(){var e=r()(['<input id="navigation-menu" type="checkbox"> <label for="navigation-menu" class="ffw-navigation-label"><div>','</div></label><div class="ffw-menu-items">',"</div>"]);return T=function(){return e},e}n.d(t,"Navigation",function(){return A});var O=Object.freeze({horizontal:"horizontal",vertical:"vertical"}),A=function(e){function t(){var e;return o()(this,t),(e=c()(this,l()(t).call(this))).eventAggregator=b.a.communication.FFCommunicationEventAggregator,e.templates={},e.elements=[],e.initialized=!1,e.layout=O.horizontal,e.flyout="true",e.mobile="false",e.fetchInitial="true",e.firstFetch=2,e.fetchSize=1,e.maxFetch=10,e.fetchTime=100,e}return g()(t,e),p()(t,[{key:"render",value:function(){var e=this;return Object(v.g)(T(),this.menuTemplate,Object(y.a)(this.elements,function(t){return E(e._getHeaderNavigationItem(t))}))}}],[{key:"is",get:function(){return"ff-navigation"}},{key:"properties",get:function(){return{elements:{type:Array,attribute:!1},layout:{type:String,reflect:!0},flyout:{type:String,reflect:!0},mobile:{type:String,reflect:!0},fetchInitial:{type:String,attribute:"fetch-initial"},firstFetch:{type:Number,attribute:"first-fetch"},fetchSize:{type:Number,attribute:"fetch-size"},maxFetch:{type:Number,attribute:"max-fetch"},fetchTime:{type:Number,attribute:"fetch-time"}}}}]),p()(t,[{key:"connectedCallback",value:function(){var e=this;h()(l()(t.prototype),"connectedCallback",this).call(this),this.querySelectorAll(P.is).forEach(function(t){var n;e.templates[t.type||"default"]=!(n=t)||Object(_.d)(n)?S:{dataTemplate:n.innerHTML,attributes:Array.prototype.reduce.call(n.attributes,function(e,t){var n=t.name,i=t.value;return"unresolved"!==n&&(e[n]=i),e},{})}});var n=this.querySelector('[slot="menu"]');n&&(this.menuTemplate=n.innerHTML),this.subscriptionKey=b.a.communication.ResultDispatcher.subscribe("navigation",this._navigationChanged,this),"false"!==this.fetchInitial&&this.fetch()}},{key:"fetch",value:function(){var e=this,t={type:"navigation",firstFetch:this.firstFetch,fetchSize:this.fetchSize,maxFetch:this.maxFetch,fetchTime:this.fetchTime};setTimeout(function(){return e.eventAggregator.addFFEvent(t)})}},{key:"update",value:function(e){e.has("layout")&&this.layout&&this.updateLayout(),e.has("flyout")&&this._flyoutChanged(this.flyout),e.has("mobile")&&this._mobileChanged(this.mobile),h()(l()(t.prototype),"update",this).call(this,e)}},{key:"disconnectedCallback",value:function(){h()(l()(t.prototype),"disconnectedCallback",this).call(this),this.initialized=!1,b.a.communication.ResultDispatcher.unsubscribe("navigation",this.subscriptionKey)}},{key:"_navigationChanged",value:function(e){var t=this;this.initialized||(e&&e[0]?this.elements=e[0]:this.warn("Navigation has no results"),this.initialized=!0,this.updateComplete.then(function(){t.updateLayout(),t.dispatchEvent(new CustomEvent("dom-updated",{bubbles:!0,composed:!0}))}))}},{key:"updateLayout",value:function(){var e=this;try{this.elements.forEach(function(t){t.direction=e.layout===O.horizontal?C.down:t.template.attributes.direction||C.default}),this.querySelectorAll("".concat(P.is,':not([cluster-level="0"])')).forEach(function(e){e.direction=e.template.attributes.direction||C.default})}catch(e){this.warn("Failed to change layout",e)}}},{key:"_flyoutChanged",value:function(e){e&&this.querySelectorAll(P.is).forEach(function(t){return t.flyout=e})}},{key:"_mobileChanged",value:function(e){"true"===e&&(this.flyout="false")}},{key:"_getHeaderNavigationItem",value:function(e){var t=(this.templates.header||this.templates.default).attributes.direction||C.default;return{type:"header",templates:this.templates,direction:this.layout===O.horizontal?C.down:t,element:e,flyout:this.flyout}}}]),t}(Object(x.a)(["ElementLog"],_.a));window.customElements.define(A.is,A)},function(e,t,n){"use strict";n.r(t);var i=n(10),r=n.n(i),a=n(3),o=n.n(a),s=n(5),c=n.n(s),u=n(12),l=n.n(u),d=n(0),h=n.n(d),f=n(4),p=n.n(f),m=n(2),g=n.n(m),v=n(6),y=n.n(v),b=n(8),_=n(1),k=n(7);function w(){var e=r()(['<a href="','">',"</a>"]);return w=function(){return e},e}var C=Object.freeze({NavSearch:"nav-search"}),S=function(e){function t(){var e,n;return o()(this,t),(e=c()(this,h()(t).call(this))).element={},e.addEventListener("click",(n=l()(e),function(e){e.preventDefault();var t=n.element;t.__TARGET_URL__&&t.__TARGET_URL__.isCustomized?window.location.href=t.__TARGET_URL__.url:n.dispatchEvent(new CustomEvent(C.NavSearch,{bubbles:!0,composed:!0,detail:t}))})),e}return y()(t,e),g()(t,[{key:"render",value:function(){return Object(b.g)(w(),(this.element.__TARGET_URL__||{}).url,this.element.name)}}],[{key:"is",get:function(){return"ff-nav-element"}},{key:"properties",get:function(){return{element:{attribute:!1,type:Object}}}}]),t}(k.a);function P(){var e=r()(['<ff-nav-element class="ffw-nav-link" .element="','"></ff-nav-element>']);return P=function(){return e},e}function E(){var e=r()(['<div class="ffw-nav-group"><ff-nav-element class="ffw-nav-group-caption" .element="','"></ff-nav-element>'," ","</div>"]);return E=function(){return e},e}function x(){var e=r()(['<div class="ffw-body"><div class="ffw-body-top">','</div><div class="ffw-body-middle"><div class="ffw-body-left">','</div><div class="ffw-body-center">','</div><div class="ffw-body-right">','</div></div><div class="ffw-body-bottom">',"</div></div>"]);return x=function(){return e},e}function T(){var e=r()(['<ff-nav-element .element="','" class="ffw-nav-item" @mouseenter="','"></ff-nav-element><div class="ffw-nav-item-separator"></div>']);return T=function(){return e},e}function O(){var e=r()(['<div class="ffw-header-nav" @mouseenter="','" @mouseleave="','"><div class="ffw-header"><div class="ffw-nav-item-separator"></div>',"</div>","</div>"]);return O=function(){return e},e}window.customElements.define(S.is,S),n.d(t,"HeaderNavigation",function(){return L});var A=_.a.communication.FFCommunicationEventAggregator,R=Object.freeze({Navigation:"navigation"}),L=function(e){function t(){var e,n;return o()(this,t),(e=c()(this,h()(t).call(this))).elements=[],e.groupCount=10,e.groupSize=4,e.hideEmptyGroups=!0,e.fetchInitial=!0,e.mouseenterDelay=600,e.mouseleaveDelay=200,e._slottedElements={},e._selectedElement={},e._showBody=!1,e._shouldShowBody=!1,e.addEventListener(C.NavSearch,(n=l()(e),function(e){var t=e.detail;n._showBody=!1;var i=t.searchParams.split("?")[1],r=_.a.common.parameterStringToDict(i);r.type="navigation-search",setTimeout(function(){return A.addFFEvent(r)},0)})),e}return y()(t,e),g()(t,[{key:"render",value:function(){var e,t,n,i=this;return Object(b.g)(O(),F,M,this.elements.map(function(e){return Object(b.g)(T(),e,I)}),this._showBody?Object(b.g)(x(),this._selectedElement&&this._slottedElements["container-top-".concat(this._selectedElement.name)],this._selectedElement&&this._slottedElements["container-left-".concat(this._selectedElement.name)],(e=this.hideEmptyGroups,t=this.groupCount,n=this._selectedElement.groups,n?!0===e?n.filter(function(e){var t=0===e.links.length;return t&&_.a.common.Logger.log("[".concat(L.is,"]: The group '").concat(e.name,"' has no 3rd layer children and will not be shown. If you wish to display it nevertheless, set 'hide-empty-groups=\"false\"'")),!t}).slice(0,t):n.slice(0,t):[]).map(function(e){return Object(b.g)(E(),e,(t=i,n=e.links,n.slice(0,t.groupSize)).map(function(e){return Object(b.g)(P(),e)}),i._slottedElements[e.name]);var t,n}),this._selectedElement&&this._slottedElements["container-right-".concat(this._selectedElement.name)],this._selectedElement&&this._slottedElements["container-bottom-".concat(this._selectedElement.name)]):void 0)}}],[{key:"is",get:function(){return"ff-header-navigation"}},{key:"properties",get:function(){return{elements:{attribute:!1,type:Array},groupCount:{attribute:"group-count",type:Number},groupSize:{attribute:"group-size",type:Number},hideEmptyGroups:{attribute:"hide-empty-groups",type:k.c},fetchInitial:{attribute:"fetch-initial",type:k.c},mouseenterDelay:{attribute:"mouseenter-delay",type:Number},mouseleaveDelay:{attribute:"mouseleave-delay",type:Number},_selectedElement:{attribute:!1,type:Object},_showBody:{attribute:!1,type:Boolean}}}}]),g()(t,[{key:"connectedCallback",value:function(){var e,n=this;p()(h()(t.prototype),"connectedCallback",this).call(this),this.querySelectorAll("[slot]").forEach(function(e){return n._slottedElements[e.getAttribute("slot")]=e}),this.subscriptionKey=_.a.communication.ResultDispatcher.subscribe(R.Navigation,(e=this,function(t){var n=t[0];n.forEach(function(e){var t="".concat(e.associatedFieldName,"/").concat(e.name),n=A.navigationResult[t];e.groups=n.subelements,e.groups.forEach(function(e){var t="".concat(e.associatedFieldName,"/").concat(e.name),n=A.navigationResult[t];e.links=n.subelements})}),e.elements=n}),void 0),this.fetchInitial&&this.fetch()}},{key:"updated",value:function(e){var n=this;p()(h()(t.prototype),"updated",this).call(this,e),e.has("elements")&&setTimeout(function(){n.dispatchEvent(new CustomEvent("dom-updated",{bubbles:!0,composed:!0}))},0)}},{key:"disconnectedCallback",value:function(){p()(h()(t.prototype),"disconnectedCallback",this).call(this),_.a.communication.ResultDispatcher.unsubscribe(R.Navigation,this.subscriptionKey)}},{key:"fetch",value:function(){var e={type:"navigation",firstFetch:3,fetchSize:1,maxFetch:3,fetchTime:10};setTimeout(function(){return A.addFFEvent(e)},0)}}]),t}(k.a);function F(e){var t=this;e.target.classList.contains("ffw-header-nav")&&(this._shouldShowBody=!0,this._showBody||setTimeout(function(){!0===t._shouldShowBody&&(t._showBody=!0)},this.mouseenterDelay))}function I(e){this._selectedElement=e.currentTarget.element}function M(e){var t=this;e.target.classList.contains("ffw-header-nav")&&(this._shouldShowBody=!1,this._showBody&&setTimeout(function(){!1===t._shouldShowBody&&(t._showBody=!1)},this.mouseleaveDelay))}window.customElements.define(L.is,L)},function(e,t,n){"use strict";n.r(t);var i=n(46),r=n.n(i),a=n(10),o=n.n(a),s=n(3),c=n.n(s),u=n(5),l=n.n(u),d=n(0),h=n.n(d),f=n(4),p=n.n(f),m=n(2),g=n.n(m),v=n(6),y=n.n(v),b=n(7),_=n(8),k=n(13),w=n(9),C=n(1),S=n(12),P=n.n(S),E=Object.freeze({Selected:"ffw-selected",ShowSelected:"ffw-showSelected"}),x=function(e){function t(){var e;return c()(this,t),(e=l()(this,h()(t).call(this))).sortItem={},e._template=Object(b.d)(P()(e))?"{{description}}":e.innerHTML,e.addEventListener("click",function(){this._isClickable&&C.a.communication.FFCommunicationEventAggregator.addFFEvent({type:"sort",value:this.sortItem.description})}.bind(P()(e))),e}return y()(t,e),g()(t,[{key:"render",value:function(){return Object(b.e)(this._template,this.sortItem)}}],[{key:"is",get:function(){return"ff-sortbox-item"}},{key:"properties",get:function(){return{sortItem:{type:Object},key:{type:String}}}}]),g()(t,[{key:"update",value:function(e){e.has("sortItem")&&this._sortItemChanged(this.sortItem),p()(h()(t.prototype),"update",this).call(this,e)}},{key:"clone",value:function(){var e=this.cloneNode(!0);return e._template=this._template,e}},{key:"_sortItemChanged",value:function(e,t){this.style.display=e?(this._isClickable=!e.selected,e.selected?this.classList.add(E.Selected):this.classList.remove(E.Selected),e.showSelected?this.classList.add(E.ShowSelected):this.classList.remove(E.ShowSelected),"block"):"none"}}]),t}(b.a);function T(){var e=o()(['<div class="','"></div><div class="'," ",'"></div>']);return T=function(){return e},e}window.customElements.define(x.is,x),n.d(t,"SortBox",function(){return R});var O=Object.freeze({DefaultSortItemCssSelector:"".concat(x.is,'[key="default.template"]')}),A=Object.freeze({SelectedContainer:"ffw-selected-container",DropdownContainer:"ffw-dropdown-container",DropdownClosed:"ffw-closed"}),R=function(e){function t(){var e;return c()(this,t),(e=l()(this,h()(t).call(this))).items=[],e.opened=!1,e.showSelected=!1,e.showSelectedFirst=!1,e.collapseOnblur=!1,e._defaultSortItemTemplate=void 0,e._sortBoxItemTemplateInfos={},e._subscriptionKey=void 0,e.tabindex=e.getAttribute("tabindex"),e.tabindex||e.setAttribute("tabindex","1"),e}return y()(t,e),g()(t,[{key:"render",value:function(){return Object(_.g)(T(),A.SelectedContainer,A.DropdownContainer,this.opened?"":A.DropdownClosed)}}],[{key:"is",get:function(){return"ff-sortbox"}},{key:"properties",get:function(){return{items:{attribute:!1,type:Array},opened:{type:Boolean,reflect:!0},showSelected:{attribute:"show-selected",type:b.c,reflect:!0},showSelectedFirst:{attribute:"show-selected-first",type:b.c,reflect:!0},collapseOnblur:{attribute:"collapse-onblur",type:b.c,reflect:!0}}}}]),g()(t,[{key:"connectedCallback",value:function(){p()(h()(t.prototype),"connectedCallback",this).call(this);var e,n,i,r,a=this.querySelector(O.DefaultSortItemCssSelector);a?(this._defaultSortItemTemplate=a,this.removeChild(a)):this._defaultSortItemTemplate=document.createElement(x.is),this._sortBoxItemTemplateInfos=(e=this._sortBoxItemTemplateInfos,n=this.querySelectorAll(x.is),i="null.desc",n.forEach(function(t){var n=t.getAttribute("key");!n||n===i&&e.hasOwnProperty(i)||(e["ff.relevance"===n?i:n]=F(t))}),e),this._subscriptionKey||(this._subscriptionKey=C.a.communication.ResultDispatcher.subscribe("sort",(r=this,function(e){r.items=e}),this))}},{key:"disconnectedCallback",value:function(){p()(h()(t.prototype),"disconnectedCallback",this).call(this),this._subscriptionKey&&(C.a.communication.ResultDispatcher.unsubscribe("sort",this._subscriptionKey),this._subscriptionKey=void 0)}},{key:"firstUpdated",value:function(e){var t,n,i;this.hideSelf(),this.addEventListener("click",this.toggle.bind(this)),this.addEventListener("blur",(t=this,function(){t.collapseOnblur&&k.b.run(function(){return t.hide()},150)})),i=L(n=this),n.opened?(n.opened=!0,n._show(i,!1)):n._hide(i,!1,function(){n.opened=!1})}},{key:"update",value:function(e){(e.has("items")||e.has("showSelected"))&&function(e,t){if(e.hide(),!t.length)return e.hideSelf();var n=e.showSelected?function(e,t){for(var n=e.slice(),i=0;i<n.length;i++){var a=n[i];if(a.selected){var o=r()({},a,{selected:!1,showSelected:!0}),s=t?0:i+1;n.splice(s,0,o);break}}return n}(t,e.showSelectedFirst):t;e.querySelectorAll(x.is).forEach(function(e){return e.parentNode.removeChild(e)}),n.forEach(function(t){var n,i="".concat((n=t).name,".").concat(n.order),r=function(e,t,n,i){var r,a=null!=(r=e[n])?r:function(){var i=t.clone();return i.setAttribute("key",n),e[n]=F(i),e[n]}();if(i&&!a.selected){var o=a.dropdown.clone();o.setAttribute("key",n),a.selected=o}return i?a.selected:a.dropdown}(e._sortBoxItemTemplateInfos,e._defaultSortItemTemplate,i,t.selected);((r.sortItem=t).selected?e.querySelector(".".concat(A.SelectedContainer)):L(e)).appendChild(r)}),e.showSelf(),e.dispatchEvent(new CustomEvent("dom-updated",{bubbles:!0,composed:!0}))}(this,this.items),p()(h()(t.prototype),"update",this).call(this,e)}},{key:"toggle",value:function(e){!0===e?this.hide():!1===e?this.show():this.opened?this.hide():this.show()}},{key:"show",value:function(){if(!this.opened){this.opened=!0;var e=L(this);this._show(e,!0)}}},{key:"hide",value:function(){var e=this;if(this.opened){var t=L(this);t.__transitionActive__=!1,this._hide(t,!0,function(){e.opened=!1})}}}]),t}(Object(w.a)(["CollapseElement"],b.a));function L(e){return e.querySelector(".".concat(A.DropdownContainer))}function F(e,t){return{dropdown:e,selected:t}}window.customElements.define(R.is,R)},function(e,t,n){"use strict";n.r(t);var i=n(10),r=n.n(i),a=n(3),o=n.n(a),s=n(5),c=n.n(s),u=n(0),l=n.n(u),d=n(4),h=n.n(d),f=n(2),p=n.n(f),m=n(6),g=n.n(m),v=n(8),y=n(1),b=n(7);function _(){var e=r()(['<ff-breadcrumb-trail-item .breadCrumbTrailItem="','" .templates="','"></ff-breadcrumb-trail-item>']);return _=function(){return e},e}var k={dataTemplate:"{{text}}",attributes:{}},w=function(e){function t(){var e;return o()(this,t),(e=c()(this,l()(t).call(this))).templates={},e.addEventListener("click",function(){y.a.communication.FFCommunicationEventAggregator.addFFEvent({type:"bct",value:e.breadCrumbTrailItem.value})}),e}return g()(t,e),p()(t,[{key:"render",value:function(){return Object(b.e)(this.template.dataTemplate,this.breadCrumbTrailItem)}},{key:"template",get:function(){return this.templates[this.type]||this.templates[C.default]||k}}],[{key:"is",get:function(){return"ff-breadcrumb-trail-item"}},{key:"properties",get:function(){return{type:{type:String,reflect:!0},breadCrumbTrailItem:{type:Object,attribute:"bread-crumb-trail-item"}}}}]),p()(t,[{key:"firstUpdated",value:function(e){var n=this;h()(l()(t.prototype),"firstUpdated",this).call(this,e),Object.keys(this.template.attributes).forEach(function(e){return n.setAttribute(e,n.template.attributes[e])})}},{key:"update",value:function(e){e.has("breadCrumbTrailItem")&&(this.type=this.breadCrumbTrailItem?this.breadCrumbTrailItem.type:void 0),h()(l()(t.prototype),"update",this).call(this,e)}},{key:"clone",value:function(){var e=document.createElement(t.is);return y.a.common.copyHTMLAttributes(this,e),e.templates=this.templates,e}}]),t}(b.a);window.customElements.define(w.is,w);var C=Object.freeze({search:"search",filter:"filter",advisor:"advisor",default:"search"}),S=n(9);function P(){var e=r()(["",""]);return P=function(){return e},e}n.d(t,"BreadcrumbTrail",function(){return E});var E=function(e){function t(){var e;return o()(this,t),(e=c()(this,l()(t).call(this))).templates={},e.separatorTemplate=void 0,e}return g()(t,e),p()(t,[{key:"render",value:function(){if(this.breadCrumbTrailItems){for(var e,t,n=[],i=this.breadCrumbTrailItems.length,r=0;r<i;r++){var a=this.breadCrumbTrailItems[r];if(a.type){if(n.push((e=a,t=this.templates,Object(v.g)(_(),e,t))),r<i-1){var o=this.separatorTemplate.cloneNode(!0);n.push(o)}}else this.warn("No type for current breadcrumb item: '".concat(a.text,"'."))}return Object(v.g)(P(),n)}}}],[{key:"is",get:function(){return"ff-breadcrumb-trail"}},{key:"properties",get:function(){return{breadCrumbTrailItems:{type:Array,attribute:"bread-crumb-trail-items"}}}}]),p()(t,[{key:"connectedCallback",value:function(){var e=this;h()(l()(t.prototype),"connectedCallback",this).call(this),this.templates=function(e){var t,n={};for(var i in C){var r=C[i],a=e.querySelector("".concat(w.is,"[type='").concat(r,"']"));n[r]||(n[r]=!(t=a)||Object(b.d)(t)?k:{dataTemplate:t.innerHTML,attributes:Array.prototype.reduce.call(t.attributes,function(e,t){var n=t.name,i=t.value;return"unresolved"!==n&&(e[n]=i),e},{})})}return n}(this),this.separatorTemplate=this.querySelector("[data-separator]")||document.createTextNode(" > "),this.subscriptionKey=y.a.communication.ResultDispatcher.subscribe("bct",function(t){e.breadCrumbTrailItems=t},this)}},{key:"update",value:function(e){var n=this;h()(l()(t.prototype),"update",this).call(this,e),e.has("breadCrumbTrailItems")&&(this.breadCrumbTrailItems&&0!==this.breadCrumbTrailItems.length?this.showSelf():this.hideSelf(),this.updateComplete.then(function(){Promise.all(Array.from(n.querySelectorAll(w.is)).map(function(e){return e.updateComplete})).then(function(){n.dispatchEvent(new CustomEvent("dom-updated",{bubbles:!0,composed:!0}))})}))}},{key:"disconnectedCallback",value:function(){h()(l()(t.prototype),"disconnectedCallback",this).call(this),y.a.communication.ResultDispatcher.unsubscribe("bct",this.subscriptionKey),this.subscriptionKey=void 0}}]),t}(Object(S.a)(["ElementLog"],b.a));window.customElements.define(E.is,E)}]));